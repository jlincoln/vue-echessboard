(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["VueEchessboard"] = factory();
	else
		root["VueEchessboard"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 22);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _Array$prototype;\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.computeSquareCenter = exports.createEl = exports.isRightButton = exports.eventPosition = exports.setVisible = exports.translateRel = exports.translateAbs = exports.posToTranslateRel = exports.posToTranslateAbs = exports.samePiece = exports.distanceSq = exports.opposite = exports.timer = exports.memo = exports.allPos = exports.key2pos = exports.pos2key = exports.allKeys = exports.invRanks = void 0;\nvar cg = __webpack_require__(4);\nexports.invRanks = [].concat(_toConsumableArray(cg.ranks)).reverse();\nexports.allKeys = (_Array$prototype = Array.prototype).concat.apply(_Array$prototype, _toConsumableArray(cg.files.map(function (c) {\n    return cg.ranks.map(function (r) {\n        return c + r;\n    });\n})));\nexports.pos2key = function (pos) {\n    return exports.allKeys[8 * pos[0] + pos[1]];\n};\nexports.key2pos = function (k) {\n    return [k.charCodeAt(0) - 97, k.charCodeAt(1) - 49];\n};\nexports.allPos = exports.allKeys.map(exports.key2pos);\nfunction memo(f) {\n    var v = void 0;\n    var ret = function ret() {\n        if (v === undefined) v = f();\n        return v;\n    };\n    ret.clear = function () {\n        v = undefined;\n    };\n    return ret;\n}\nexports.memo = memo;\nexports.timer = function () {\n    var startAt = void 0;\n    return {\n        start: function start() {\n            startAt = performance.now();\n        },\n        cancel: function cancel() {\n            startAt = undefined;\n        },\n        stop: function stop() {\n            if (!startAt) return 0;\n            var time = performance.now() - startAt;\n            startAt = undefined;\n            return time;\n        }\n    };\n};\nexports.opposite = function (c) {\n    return c === 'white' ? 'black' : 'white';\n};\nexports.distanceSq = function (pos1, pos2) {\n    var dx = pos1[0] - pos2[0],\n        dy = pos1[1] - pos2[1];\n    return dx * dx + dy * dy;\n};\nexports.samePiece = function (p1, p2) {\n    return p1.role === p2.role && p1.color === p2.color;\n};\nvar posToTranslateBase = function posToTranslateBase(pos, asWhite, xFactor, yFactor) {\n    return [(asWhite ? pos[0] : 7 - pos[0]) * xFactor, (asWhite ? 7 - pos[1] : pos[1]) * yFactor];\n};\nexports.posToTranslateAbs = function (bounds) {\n    var xFactor = bounds.width / 8,\n        yFactor = bounds.height / 8;\n    return function (pos, asWhite) {\n        return posToTranslateBase(pos, asWhite, xFactor, yFactor);\n    };\n};\nexports.posToTranslateRel = function (pos, asWhite) {\n    return posToTranslateBase(pos, asWhite, 100, 100);\n};\nexports.translateAbs = function (el, pos) {\n    el.style.transform = \"translate(\" + pos[0] + \"px,\" + pos[1] + \"px)\";\n};\nexports.translateRel = function (el, percents) {\n    el.style.transform = \"translate(\" + percents[0] + \"%,\" + percents[1] + \"%)\";\n};\nexports.setVisible = function (el, v) {\n    el.style.visibility = v ? 'visible' : 'hidden';\n};\nexports.eventPosition = function (e) {\n    var _a;\n    if (e.clientX || e.clientX === 0) return [e.clientX, e.clientY];\n    if ((_a = e.targetTouches) === null || _a === void 0 ? void 0 : _a[0]) return [e.targetTouches[0].clientX, e.targetTouches[0].clientY];\n    return;\n};\nexports.isRightButton = function (e) {\n    return e.buttons === 2 || e.button === 2;\n};\nexports.createEl = function (tagName, className) {\n    var el = document.createElement(tagName);\n    if (className) el.className = className;\n    return el;\n};\nfunction computeSquareCenter(key, asWhite, bounds) {\n    var pos = exports.key2pos(key);\n    if (!asWhite) {\n        pos[0] = 7 - pos[0];\n        pos[1] = 7 - pos[1];\n    }\n    return [bounds.left + bounds.width * pos[0] / 8 + bounds.width / 16, bounds.top + bounds.height * (7 - pos[1]) / 8 + bounds.height / 16];\n}\nexports.computeSquareCenter = computeSquareCenter;\n//# sourceMappingURL=util.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VjaGVzc2dyb3VuZC91dGlsLmpzP2I5MjYiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJjb21wdXRlU3F1YXJlQ2VudGVyIiwiY3JlYXRlRWwiLCJpc1JpZ2h0QnV0dG9uIiwiZXZlbnRQb3NpdGlvbiIsInNldFZpc2libGUiLCJ0cmFuc2xhdGVSZWwiLCJ0cmFuc2xhdGVBYnMiLCJwb3NUb1RyYW5zbGF0ZVJlbCIsInBvc1RvVHJhbnNsYXRlQWJzIiwic2FtZVBpZWNlIiwiZGlzdGFuY2VTcSIsIm9wcG9zaXRlIiwidGltZXIiLCJtZW1vIiwiYWxsUG9zIiwia2V5MnBvcyIsInBvczJrZXkiLCJhbGxLZXlzIiwiaW52UmFua3MiLCJjZyIsInJlcXVpcmUiLCJyYW5rcyIsInJldmVyc2UiLCJwcm90b3R5cGUiLCJjb25jYXQiLCJmaWxlcyIsIm1hcCIsImMiLCJyIiwicG9zIiwiayIsImNoYXJDb2RlQXQiLCJmIiwidiIsInJldCIsInVuZGVmaW5lZCIsImNsZWFyIiwic3RhcnRBdCIsInN0YXJ0IiwicGVyZm9ybWFuY2UiLCJub3ciLCJjYW5jZWwiLCJzdG9wIiwidGltZSIsInBvczEiLCJwb3MyIiwiZHgiLCJkeSIsInAxIiwicDIiLCJyb2xlIiwiY29sb3IiLCJwb3NUb1RyYW5zbGF0ZUJhc2UiLCJhc1doaXRlIiwieEZhY3RvciIsInlGYWN0b3IiLCJib3VuZHMiLCJ3aWR0aCIsImhlaWdodCIsImVsIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJwZXJjZW50cyIsInZpc2liaWxpdHkiLCJlIiwiX2EiLCJjbGllbnRYIiwiY2xpZW50WSIsInRhcmdldFRvdWNoZXMiLCJidXR0b25zIiwiYnV0dG9uIiwidGFnTmFtZSIsImNsYXNzTmFtZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImtleSIsImxlZnQiLCJ0b3AiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7QUFDQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0FELFFBQVFFLG1CQUFSLEdBQThCRixRQUFRRyxRQUFSLEdBQW1CSCxRQUFRSSxhQUFSLEdBQXdCSixRQUFRSyxhQUFSLEdBQXdCTCxRQUFRTSxVQUFSLEdBQXFCTixRQUFRTyxZQUFSLEdBQXVCUCxRQUFRUSxZQUFSLEdBQXVCUixRQUFRUyxpQkFBUixHQUE0QlQsUUFBUVUsaUJBQVIsR0FBNEJWLFFBQVFXLFNBQVIsR0FBb0JYLFFBQVFZLFVBQVIsR0FBcUJaLFFBQVFhLFFBQVIsR0FBbUJiLFFBQVFjLEtBQVIsR0FBZ0JkLFFBQVFlLElBQVIsR0FBZWYsUUFBUWdCLE1BQVIsR0FBaUJoQixRQUFRaUIsT0FBUixHQUFrQmpCLFFBQVFrQixPQUFSLEdBQWtCbEIsUUFBUW1CLE9BQVIsR0FBa0JuQixRQUFRb0IsUUFBUixHQUFtQixLQUFLLENBQXRaO0FBQ0EsSUFBTUMsS0FBSyxtQkFBQUMsQ0FBUSxDQUFSLENBQVg7QUFDQXRCLFFBQVFvQixRQUFSLEdBQW1CLDZCQUFJQyxHQUFHRSxLQUFQLEdBQWNDLE9BQWQsRUFBbkI7QUFDQXhCLFFBQVFtQixPQUFSLEdBQWtCLDBCQUFNTSxTQUFOLEVBQWdCQyxNQUFoQiw0Q0FBMEJMLEdBQUdNLEtBQUgsQ0FBU0MsR0FBVCxDQUFhO0FBQUEsV0FBS1AsR0FBR0UsS0FBSCxDQUFTSyxHQUFULENBQWE7QUFBQSxlQUFLQyxJQUFJQyxDQUFUO0FBQUEsS0FBYixDQUFMO0FBQUEsQ0FBYixDQUExQixFQUFsQjtBQUNBOUIsUUFBUWtCLE9BQVIsR0FBa0IsVUFBQ2EsR0FBRDtBQUFBLFdBQVMvQixRQUFRbUIsT0FBUixDQUFnQixJQUFJWSxJQUFJLENBQUosQ0FBSixHQUFhQSxJQUFJLENBQUosQ0FBN0IsQ0FBVDtBQUFBLENBQWxCO0FBQ0EvQixRQUFRaUIsT0FBUixHQUFrQixVQUFDZSxDQUFEO0FBQUEsV0FBTyxDQUFDQSxFQUFFQyxVQUFGLENBQWEsQ0FBYixJQUFrQixFQUFuQixFQUF1QkQsRUFBRUMsVUFBRixDQUFhLENBQWIsSUFBa0IsRUFBekMsQ0FBUDtBQUFBLENBQWxCO0FBQ0FqQyxRQUFRZ0IsTUFBUixHQUFpQmhCLFFBQVFtQixPQUFSLENBQWdCUyxHQUFoQixDQUFvQjVCLFFBQVFpQixPQUE1QixDQUFqQjtBQUNBLFNBQVNGLElBQVQsQ0FBY21CLENBQWQsRUFBaUI7QUFDYixRQUFJQyxVQUFKO0FBQ0EsUUFBTUMsTUFBTSxTQUFOQSxHQUFNLEdBQU07QUFDZCxZQUFJRCxNQUFNRSxTQUFWLEVBQ0lGLElBQUlELEdBQUo7QUFDSixlQUFPQyxDQUFQO0FBQ0gsS0FKRDtBQUtBQyxRQUFJRSxLQUFKLEdBQVksWUFBTTtBQUFFSCxZQUFJRSxTQUFKO0FBQWdCLEtBQXBDO0FBQ0EsV0FBT0QsR0FBUDtBQUNIO0FBQ0RwQyxRQUFRZSxJQUFSLEdBQWVBLElBQWY7QUFDQWYsUUFBUWMsS0FBUixHQUFnQixZQUFNO0FBQ2xCLFFBQUl5QixnQkFBSjtBQUNBLFdBQU87QUFDSEMsYUFERyxtQkFDSztBQUFFRCxzQkFBVUUsWUFBWUMsR0FBWixFQUFWO0FBQThCLFNBRHJDO0FBRUhDLGNBRkcsb0JBRU07QUFBRUosc0JBQVVGLFNBQVY7QUFBc0IsU0FGOUI7QUFHSE8sWUFIRyxrQkFHSTtBQUNILGdCQUFJLENBQUNMLE9BQUwsRUFDSSxPQUFPLENBQVA7QUFDSixnQkFBTU0sT0FBT0osWUFBWUMsR0FBWixLQUFvQkgsT0FBakM7QUFDQUEsc0JBQVVGLFNBQVY7QUFDQSxtQkFBT1EsSUFBUDtBQUNIO0FBVEUsS0FBUDtBQVdILENBYkQ7QUFjQTdDLFFBQVFhLFFBQVIsR0FBbUIsVUFBQ2dCLENBQUQ7QUFBQSxXQUFPQSxNQUFNLE9BQU4sR0FBZ0IsT0FBaEIsR0FBMEIsT0FBakM7QUFBQSxDQUFuQjtBQUNBN0IsUUFBUVksVUFBUixHQUFxQixVQUFDa0MsSUFBRCxFQUFPQyxJQUFQLEVBQWdCO0FBQ2pDLFFBQU1DLEtBQUtGLEtBQUssQ0FBTCxJQUFVQyxLQUFLLENBQUwsQ0FBckI7QUFBQSxRQUE4QkUsS0FBS0gsS0FBSyxDQUFMLElBQVVDLEtBQUssQ0FBTCxDQUE3QztBQUNBLFdBQU9DLEtBQUtBLEVBQUwsR0FBVUMsS0FBS0EsRUFBdEI7QUFDSCxDQUhEO0FBSUFqRCxRQUFRVyxTQUFSLEdBQW9CLFVBQUN1QyxFQUFELEVBQUtDLEVBQUw7QUFBQSxXQUFZRCxHQUFHRSxJQUFILEtBQVlELEdBQUdDLElBQWYsSUFBdUJGLEdBQUdHLEtBQUgsS0FBYUYsR0FBR0UsS0FBbkQ7QUFBQSxDQUFwQjtBQUNBLElBQU1DLHFCQUFxQixTQUFyQkEsa0JBQXFCLENBQUN2QixHQUFELEVBQU13QixPQUFOLEVBQWVDLE9BQWYsRUFBd0JDLE9BQXhCO0FBQUEsV0FBb0MsQ0FDM0QsQ0FBQ0YsVUFBVXhCLElBQUksQ0FBSixDQUFWLEdBQW1CLElBQUlBLElBQUksQ0FBSixDQUF4QixJQUFrQ3lCLE9BRHlCLEVBRTNELENBQUNELFVBQVUsSUFBSXhCLElBQUksQ0FBSixDQUFkLEdBQXVCQSxJQUFJLENBQUosQ0FBeEIsSUFBa0MwQixPQUZ5QixDQUFwQztBQUFBLENBQTNCO0FBSUF6RCxRQUFRVSxpQkFBUixHQUE0QixVQUFDZ0QsTUFBRCxFQUFZO0FBQ3BDLFFBQU1GLFVBQVVFLE9BQU9DLEtBQVAsR0FBZSxDQUEvQjtBQUFBLFFBQWtDRixVQUFVQyxPQUFPRSxNQUFQLEdBQWdCLENBQTVEO0FBQ0EsV0FBTyxVQUFDN0IsR0FBRCxFQUFNd0IsT0FBTjtBQUFBLGVBQWtCRCxtQkFBbUJ2QixHQUFuQixFQUF3QndCLE9BQXhCLEVBQWlDQyxPQUFqQyxFQUEwQ0MsT0FBMUMsQ0FBbEI7QUFBQSxLQUFQO0FBQ0gsQ0FIRDtBQUlBekQsUUFBUVMsaUJBQVIsR0FBNEIsVUFBQ3NCLEdBQUQsRUFBTXdCLE9BQU47QUFBQSxXQUFrQkQsbUJBQW1CdkIsR0FBbkIsRUFBd0J3QixPQUF4QixFQUFpQyxHQUFqQyxFQUFzQyxHQUF0QyxDQUFsQjtBQUFBLENBQTVCO0FBQ0F2RCxRQUFRUSxZQUFSLEdBQXVCLFVBQUNxRCxFQUFELEVBQUs5QixHQUFMLEVBQWE7QUFDaEM4QixPQUFHQyxLQUFILENBQVNDLFNBQVQsa0JBQWtDaEMsSUFBSSxDQUFKLENBQWxDLFdBQThDQSxJQUFJLENBQUosQ0FBOUM7QUFDSCxDQUZEO0FBR0EvQixRQUFRTyxZQUFSLEdBQXVCLFVBQUNzRCxFQUFELEVBQUtHLFFBQUwsRUFBa0I7QUFDckNILE9BQUdDLEtBQUgsQ0FBU0MsU0FBVCxrQkFBa0NDLFNBQVMsQ0FBVCxDQUFsQyxVQUFrREEsU0FBUyxDQUFULENBQWxEO0FBQ0gsQ0FGRDtBQUdBaEUsUUFBUU0sVUFBUixHQUFxQixVQUFDdUQsRUFBRCxFQUFLMUIsQ0FBTCxFQUFXO0FBQzVCMEIsT0FBR0MsS0FBSCxDQUFTRyxVQUFULEdBQXNCOUIsSUFBSSxTQUFKLEdBQWdCLFFBQXRDO0FBQ0gsQ0FGRDtBQUdBbkMsUUFBUUssYUFBUixHQUF3QixVQUFDNkQsQ0FBRCxFQUFPO0FBQzNCLFFBQUlDLEVBQUo7QUFDQSxRQUFJRCxFQUFFRSxPQUFGLElBQWFGLEVBQUVFLE9BQUYsS0FBYyxDQUEvQixFQUNJLE9BQU8sQ0FBQ0YsRUFBRUUsT0FBSCxFQUFZRixFQUFFRyxPQUFkLENBQVA7QUFDSixRQUFJLENBQUNGLEtBQUtELEVBQUVJLGFBQVIsTUFBMkIsSUFBM0IsSUFBbUNILE9BQU8sS0FBSyxDQUEvQyxHQUFtRCxLQUFLLENBQXhELEdBQTREQSxHQUFHLENBQUgsQ0FBaEUsRUFDSSxPQUFPLENBQUNELEVBQUVJLGFBQUYsQ0FBZ0IsQ0FBaEIsRUFBbUJGLE9BQXBCLEVBQTZCRixFQUFFSSxhQUFGLENBQWdCLENBQWhCLEVBQW1CRCxPQUFoRCxDQUFQO0FBQ0o7QUFDSCxDQVBEO0FBUUFyRSxRQUFRSSxhQUFSLEdBQXdCLFVBQUM4RCxDQUFEO0FBQUEsV0FBT0EsRUFBRUssT0FBRixLQUFjLENBQWQsSUFBbUJMLEVBQUVNLE1BQUYsS0FBYSxDQUF2QztBQUFBLENBQXhCO0FBQ0F4RSxRQUFRRyxRQUFSLEdBQW1CLFVBQUNzRSxPQUFELEVBQVVDLFNBQVYsRUFBd0I7QUFDdkMsUUFBTWIsS0FBS2MsU0FBU0MsYUFBVCxDQUF1QkgsT0FBdkIsQ0FBWDtBQUNBLFFBQUlDLFNBQUosRUFDSWIsR0FBR2EsU0FBSCxHQUFlQSxTQUFmO0FBQ0osV0FBT2IsRUFBUDtBQUNILENBTEQ7QUFNQSxTQUFTM0QsbUJBQVQsQ0FBNkIyRSxHQUE3QixFQUFrQ3RCLE9BQWxDLEVBQTJDRyxNQUEzQyxFQUFtRDtBQUMvQyxRQUFNM0IsTUFBTS9CLFFBQVFpQixPQUFSLENBQWdCNEQsR0FBaEIsQ0FBWjtBQUNBLFFBQUksQ0FBQ3RCLE9BQUwsRUFBYztBQUNWeEIsWUFBSSxDQUFKLElBQVMsSUFBSUEsSUFBSSxDQUFKLENBQWI7QUFDQUEsWUFBSSxDQUFKLElBQVMsSUFBSUEsSUFBSSxDQUFKLENBQWI7QUFDSDtBQUNELFdBQU8sQ0FDSDJCLE9BQU9vQixJQUFQLEdBQWNwQixPQUFPQyxLQUFQLEdBQWU1QixJQUFJLENBQUosQ0FBZixHQUF3QixDQUF0QyxHQUEwQzJCLE9BQU9DLEtBQVAsR0FBZSxFQUR0RCxFQUVIRCxPQUFPcUIsR0FBUCxHQUFhckIsT0FBT0UsTUFBUCxJQUFpQixJQUFJN0IsSUFBSSxDQUFKLENBQXJCLElBQStCLENBQTVDLEdBQWdEMkIsT0FBT0UsTUFBUCxHQUFnQixFQUY3RCxDQUFQO0FBSUg7QUFDRDVELFFBQVFFLG1CQUFSLEdBQThCQSxtQkFBOUI7QUFDQSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbXB1dGVTcXVhcmVDZW50ZXIgPSBleHBvcnRzLmNyZWF0ZUVsID0gZXhwb3J0cy5pc1JpZ2h0QnV0dG9uID0gZXhwb3J0cy5ldmVudFBvc2l0aW9uID0gZXhwb3J0cy5zZXRWaXNpYmxlID0gZXhwb3J0cy50cmFuc2xhdGVSZWwgPSBleHBvcnRzLnRyYW5zbGF0ZUFicyA9IGV4cG9ydHMucG9zVG9UcmFuc2xhdGVSZWwgPSBleHBvcnRzLnBvc1RvVHJhbnNsYXRlQWJzID0gZXhwb3J0cy5zYW1lUGllY2UgPSBleHBvcnRzLmRpc3RhbmNlU3EgPSBleHBvcnRzLm9wcG9zaXRlID0gZXhwb3J0cy50aW1lciA9IGV4cG9ydHMubWVtbyA9IGV4cG9ydHMuYWxsUG9zID0gZXhwb3J0cy5rZXkycG9zID0gZXhwb3J0cy5wb3Mya2V5ID0gZXhwb3J0cy5hbGxLZXlzID0gZXhwb3J0cy5pbnZSYW5rcyA9IHZvaWQgMDtcbmNvbnN0IGNnID0gcmVxdWlyZShcIi4vdHlwZXNcIik7XG5leHBvcnRzLmludlJhbmtzID0gWy4uLmNnLnJhbmtzXS5yZXZlcnNlKCk7XG5leHBvcnRzLmFsbEtleXMgPSBBcnJheS5wcm90b3R5cGUuY29uY2F0KC4uLmNnLmZpbGVzLm1hcChjID0+IGNnLnJhbmtzLm1hcChyID0+IGMgKyByKSkpO1xuZXhwb3J0cy5wb3Mya2V5ID0gKHBvcykgPT4gZXhwb3J0cy5hbGxLZXlzWzggKiBwb3NbMF0gKyBwb3NbMV1dO1xuZXhwb3J0cy5rZXkycG9zID0gKGspID0+IFtrLmNoYXJDb2RlQXQoMCkgLSA5Nywgay5jaGFyQ29kZUF0KDEpIC0gNDldO1xuZXhwb3J0cy5hbGxQb3MgPSBleHBvcnRzLmFsbEtleXMubWFwKGV4cG9ydHMua2V5MnBvcyk7XG5mdW5jdGlvbiBtZW1vKGYpIHtcbiAgICBsZXQgdjtcbiAgICBjb25zdCByZXQgPSAoKSA9PiB7XG4gICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB2ID0gZigpO1xuICAgICAgICByZXR1cm4gdjtcbiAgICB9O1xuICAgIHJldC5jbGVhciA9ICgpID0+IHsgdiA9IHVuZGVmaW5lZDsgfTtcbiAgICByZXR1cm4gcmV0O1xufVxuZXhwb3J0cy5tZW1vID0gbWVtbztcbmV4cG9ydHMudGltZXIgPSAoKSA9PiB7XG4gICAgbGV0IHN0YXJ0QXQ7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQoKSB7IHN0YXJ0QXQgPSBwZXJmb3JtYW5jZS5ub3coKTsgfSxcbiAgICAgICAgY2FuY2VsKCkgeyBzdGFydEF0ID0gdW5kZWZpbmVkOyB9LFxuICAgICAgICBzdG9wKCkge1xuICAgICAgICAgICAgaWYgKCFzdGFydEF0KVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgY29uc3QgdGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRBdDtcbiAgICAgICAgICAgIHN0YXJ0QXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gdGltZTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0cy5vcHBvc2l0ZSA9IChjKSA9PiBjID09PSAnd2hpdGUnID8gJ2JsYWNrJyA6ICd3aGl0ZSc7XG5leHBvcnRzLmRpc3RhbmNlU3EgPSAocG9zMSwgcG9zMikgPT4ge1xuICAgIGNvbnN0IGR4ID0gcG9zMVswXSAtIHBvczJbMF0sIGR5ID0gcG9zMVsxXSAtIHBvczJbMV07XG4gICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xufTtcbmV4cG9ydHMuc2FtZVBpZWNlID0gKHAxLCBwMikgPT4gcDEucm9sZSA9PT0gcDIucm9sZSAmJiBwMS5jb2xvciA9PT0gcDIuY29sb3I7XG5jb25zdCBwb3NUb1RyYW5zbGF0ZUJhc2UgPSAocG9zLCBhc1doaXRlLCB4RmFjdG9yLCB5RmFjdG9yKSA9PiBbXG4gICAgKGFzV2hpdGUgPyBwb3NbMF0gOiA3IC0gcG9zWzBdKSAqIHhGYWN0b3IsXG4gICAgKGFzV2hpdGUgPyA3IC0gcG9zWzFdIDogcG9zWzFdKSAqIHlGYWN0b3Jcbl07XG5leHBvcnRzLnBvc1RvVHJhbnNsYXRlQWJzID0gKGJvdW5kcykgPT4ge1xuICAgIGNvbnN0IHhGYWN0b3IgPSBib3VuZHMud2lkdGggLyA4LCB5RmFjdG9yID0gYm91bmRzLmhlaWdodCAvIDg7XG4gICAgcmV0dXJuIChwb3MsIGFzV2hpdGUpID0+IHBvc1RvVHJhbnNsYXRlQmFzZShwb3MsIGFzV2hpdGUsIHhGYWN0b3IsIHlGYWN0b3IpO1xufTtcbmV4cG9ydHMucG9zVG9UcmFuc2xhdGVSZWwgPSAocG9zLCBhc1doaXRlKSA9PiBwb3NUb1RyYW5zbGF0ZUJhc2UocG9zLCBhc1doaXRlLCAxMDAsIDEwMCk7XG5leHBvcnRzLnRyYW5zbGF0ZUFicyA9IChlbCwgcG9zKSA9PiB7XG4gICAgZWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3Bvc1swXX1weCwke3Bvc1sxXX1weClgO1xufTtcbmV4cG9ydHMudHJhbnNsYXRlUmVsID0gKGVsLCBwZXJjZW50cykgPT4ge1xuICAgIGVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtwZXJjZW50c1swXX0lLCR7cGVyY2VudHNbMV19JSlgO1xufTtcbmV4cG9ydHMuc2V0VmlzaWJsZSA9IChlbCwgdikgPT4ge1xuICAgIGVsLnN0eWxlLnZpc2liaWxpdHkgPSB2ID8gJ3Zpc2libGUnIDogJ2hpZGRlbic7XG59O1xuZXhwb3J0cy5ldmVudFBvc2l0aW9uID0gKGUpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKGUuY2xpZW50WCB8fCBlLmNsaWVudFggPT09IDApXG4gICAgICAgIHJldHVybiBbZS5jbGllbnRYLCBlLmNsaWVudFldO1xuICAgIGlmICgoX2EgPSBlLnRhcmdldFRvdWNoZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVswXSlcbiAgICAgICAgcmV0dXJuIFtlLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WCwgZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFldO1xuICAgIHJldHVybjtcbn07XG5leHBvcnRzLmlzUmlnaHRCdXR0b24gPSAoZSkgPT4gZS5idXR0b25zID09PSAyIHx8IGUuYnV0dG9uID09PSAyO1xuZXhwb3J0cy5jcmVhdGVFbCA9ICh0YWdOYW1lLCBjbGFzc05hbWUpID0+IHtcbiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG4gICAgaWYgKGNsYXNzTmFtZSlcbiAgICAgICAgZWwuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgIHJldHVybiBlbDtcbn07XG5mdW5jdGlvbiBjb21wdXRlU3F1YXJlQ2VudGVyKGtleSwgYXNXaGl0ZSwgYm91bmRzKSB7XG4gICAgY29uc3QgcG9zID0gZXhwb3J0cy5rZXkycG9zKGtleSk7XG4gICAgaWYgKCFhc1doaXRlKSB7XG4gICAgICAgIHBvc1swXSA9IDcgLSBwb3NbMF07XG4gICAgICAgIHBvc1sxXSA9IDcgLSBwb3NbMV07XG4gICAgfVxuICAgIHJldHVybiBbXG4gICAgICAgIGJvdW5kcy5sZWZ0ICsgYm91bmRzLndpZHRoICogcG9zWzBdIC8gOCArIGJvdW5kcy53aWR0aCAvIDE2LFxuICAgICAgICBib3VuZHMudG9wICsgYm91bmRzLmhlaWdodCAqICg3IC0gcG9zWzFdKSAvIDggKyBib3VuZHMuaGVpZ2h0IC8gMTZcbiAgICBdO1xufVxuZXhwb3J0cy5jb21wdXRlU3F1YXJlQ2VudGVyID0gY29tcHV0ZVNxdWFyZUNlbnRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWwuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9lY2hlc3Nncm91bmQvdXRpbC5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.whitePov = exports.getSnappedKeyAtDomPos = exports.getKeyAtDomPos = exports.stop = exports.cancelMove = exports.playPredrop = exports.playPremove = exports.isDraggable = exports.canMove = exports.unselect = exports.setSelected = exports.selectSquare = exports.dropNewPiece = exports.userMove = exports.baseNewPiece = exports.baseMove = exports.unsetPredrop = exports.unsetPremove = exports.setCheck = exports.setPieces = exports.reset = exports.toggleOrientation = exports.callUserFunction = void 0;\nvar util_1 = __webpack_require__(0);\nvar premove_1 = __webpack_require__(17);\nfunction callUserFunction(f) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n    }\n\n    if (f) setTimeout(function () {\n        return f.apply(undefined, args);\n    }, 1);\n}\nexports.callUserFunction = callUserFunction;\nfunction toggleOrientation(state) {\n    state.orientation = util_1.opposite(state.orientation);\n    state.animation.current = state.draggable.current = state.selected = undefined;\n}\nexports.toggleOrientation = toggleOrientation;\nfunction reset(state) {\n    state.lastMove = undefined;\n    unselect(state);\n    unsetPremove(state);\n    unsetPredrop(state);\n}\nexports.reset = reset;\nfunction setPieces(state, pieces) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = pieces[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var _step$value = _slicedToArray(_step.value, 2),\n                key = _step$value[0],\n                piece = _step$value[1];\n\n            if (piece) state.pieces.set(key, piece);else state.pieces.delete(key);\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n}\nexports.setPieces = setPieces;\nfunction setCheck(state, color) {\n    state.check = undefined;\n    if (color === true) color = state.turnColor;\n    if (color) {\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n            for (var _iterator2 = state.pieces[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                var _step2$value = _slicedToArray(_step2.value, 2),\n                    _k = _step2$value[0],\n                    _p = _step2$value[1];\n\n                if (_p.role === 'king' && _p.color === color) {\n                    state.check = _k;\n                }\n            }\n        } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                    _iterator2.return();\n                }\n            } finally {\n                if (_didIteratorError2) {\n                    throw _iteratorError2;\n                }\n            }\n        }\n    }\n}\nexports.setCheck = setCheck;\nfunction setPremove(state, orig, dest, meta) {\n    unsetPredrop(state);\n    state.premovable.current = [orig, dest];\n    callUserFunction(state.premovable.events.set, orig, dest, meta);\n}\nfunction unsetPremove(state) {\n    if (state.premovable.current) {\n        state.premovable.current = undefined;\n        callUserFunction(state.premovable.events.unset);\n    }\n}\nexports.unsetPremove = unsetPremove;\nfunction setPredrop(state, role, key) {\n    unsetPremove(state);\n    state.predroppable.current = { role: role, key: key };\n    callUserFunction(state.predroppable.events.set, role, key);\n}\nfunction unsetPredrop(state) {\n    var pd = state.predroppable;\n    if (pd.current) {\n        pd.current = undefined;\n        callUserFunction(pd.events.unset);\n    }\n}\nexports.unsetPredrop = unsetPredrop;\nfunction tryAutoCastle(state, orig, dest) {\n    if (!state.autoCastle) return false;\n    var king = state.pieces.get(orig);\n    if (!king || king.role !== 'king') return false;\n    var origPos = util_1.key2pos(orig);\n    var destPos = util_1.key2pos(dest);\n    if (origPos[1] !== 0 && origPos[1] !== 7 || origPos[1] !== destPos[1]) return false;\n    if (origPos[0] === 4 && !state.pieces.has(dest)) {\n        if (destPos[0] === 6) dest = util_1.pos2key([7, destPos[1]]);else if (destPos[0] === 2) dest = util_1.pos2key([0, destPos[1]]);\n    }\n    var rook = state.pieces.get(dest);\n    if (!rook || rook.color !== king.color || rook.role !== 'rook') return false;\n    state.pieces.delete(orig);\n    state.pieces.delete(dest);\n    if (origPos[0] < destPos[0]) {\n        state.pieces.set(util_1.pos2key([6, destPos[1]]), king);\n        state.pieces.set(util_1.pos2key([5, destPos[1]]), rook);\n    } else {\n        state.pieces.set(util_1.pos2key([2, destPos[1]]), king);\n        state.pieces.set(util_1.pos2key([3, destPos[1]]), rook);\n    }\n    return true;\n}\nfunction baseMove(state, orig, dest) {\n    var origPiece = state.pieces.get(orig),\n        destPiece = state.pieces.get(dest);\n    if (orig === dest || !origPiece) return false;\n    var captured = destPiece && destPiece.color !== origPiece.color ? destPiece : undefined;\n    if (dest === state.selected) unselect(state);\n    callUserFunction(state.events.move, orig, dest, captured);\n    if (!tryAutoCastle(state, orig, dest)) {\n        state.pieces.set(dest, origPiece);\n        state.pieces.delete(orig);\n    }\n    state.lastMove = [orig, dest];\n    state.check = undefined;\n    callUserFunction(state.events.change);\n    return captured || true;\n}\nexports.baseMove = baseMove;\nfunction baseNewPiece(state, piece, key, force) {\n    if (state.pieces.has(key)) {\n        if (force) state.pieces.delete(key);else return false;\n    }\n    callUserFunction(state.events.dropNewPiece, piece, key);\n    state.pieces.set(key, piece);\n    state.lastMove = [key];\n    state.check = undefined;\n    callUserFunction(state.events.change);\n    state.movable.dests = undefined;\n    state.turnColor = util_1.opposite(state.turnColor);\n    return true;\n}\nexports.baseNewPiece = baseNewPiece;\nfunction baseUserMove(state, orig, dest) {\n    var result = baseMove(state, orig, dest);\n    if (result) {\n        state.movable.dests = undefined;\n        state.turnColor = util_1.opposite(state.turnColor);\n        state.animation.current = undefined;\n    }\n    return result;\n}\nfunction userMove(state, orig, dest) {\n    if (canMove(state, orig, dest)) {\n        var result = baseUserMove(state, orig, dest);\n        if (result) {\n            var holdTime = state.hold.stop();\n            unselect(state);\n            var metadata = {\n                premove: false,\n                ctrlKey: state.stats.ctrlKey,\n                holdTime: holdTime\n            };\n            if (result !== true) metadata.captured = result;\n            callUserFunction(state.movable.events.after, orig, dest, metadata);\n            return true;\n        }\n    } else if (canPremove(state, orig, dest)) {\n        setPremove(state, orig, dest, {\n            ctrlKey: state.stats.ctrlKey\n        });\n        unselect(state);\n        return true;\n    }\n    unselect(state);\n    return false;\n}\nexports.userMove = userMove;\nfunction dropNewPiece(state, orig, dest, force) {\n    var piece = state.pieces.get(orig);\n    if (piece && (canDrop(state, orig, dest) || force)) {\n        state.pieces.delete(orig);\n        baseNewPiece(state, piece, dest, force);\n        callUserFunction(state.movable.events.afterNewPiece, piece.role, dest, {\n            predrop: false\n        });\n    } else if (piece && canPredrop(state, orig, dest)) {\n        setPredrop(state, piece.role, dest);\n    } else {\n        unsetPremove(state);\n        unsetPredrop(state);\n    }\n    state.pieces.delete(orig);\n    unselect(state);\n}\nexports.dropNewPiece = dropNewPiece;\nfunction selectSquare(state, key, force) {\n    callUserFunction(state.events.select, key);\n    if (state.selected) {\n        if (state.selected === key && !state.draggable.enabled) {\n            unselect(state);\n            state.hold.cancel();\n            return;\n        } else if ((state.selectable.enabled || force) && state.selected !== key) {\n            if (userMove(state, state.selected, key)) {\n                state.stats.dragged = false;\n                return;\n            }\n        }\n    }\n    if (isMovable(state, key) || isPremovable(state, key)) {\n        setSelected(state, key);\n        state.hold.start();\n    }\n}\nexports.selectSquare = selectSquare;\nfunction setSelected(state, key) {\n    state.selected = key;\n    if (isPremovable(state, key)) {\n        state.premovable.dests = premove_1.premove(state.pieces, key, state.premovable.castle);\n    } else state.premovable.dests = undefined;\n}\nexports.setSelected = setSelected;\nfunction unselect(state) {\n    state.selected = undefined;\n    state.premovable.dests = undefined;\n    state.hold.cancel();\n}\nexports.unselect = unselect;\nfunction isMovable(state, orig) {\n    var piece = state.pieces.get(orig);\n    return !!piece && (state.movable.color === 'both' || state.movable.color === piece.color && state.turnColor === piece.color);\n}\nfunction canMove(state, orig, dest) {\n    var _a, _b;\n    return orig !== dest && isMovable(state, orig) && (state.movable.free || !!((_b = (_a = state.movable.dests) === null || _a === void 0 ? void 0 : _a.get(orig)) === null || _b === void 0 ? void 0 : _b.includes(dest)));\n}\nexports.canMove = canMove;\nfunction canDrop(state, orig, dest) {\n    var piece = state.pieces.get(orig);\n    return !!piece && (orig === dest || !state.pieces.has(dest)) && (state.movable.color === 'both' || state.movable.color === piece.color && state.turnColor === piece.color);\n}\nfunction isPremovable(state, orig) {\n    var piece = state.pieces.get(orig);\n    return !!piece && state.premovable.enabled && state.movable.color === piece.color && state.turnColor !== piece.color;\n}\nfunction canPremove(state, orig, dest) {\n    return orig !== dest && isPremovable(state, orig) && premove_1.premove(state.pieces, orig, state.premovable.castle).includes(dest);\n}\nfunction canPredrop(state, orig, dest) {\n    var piece = state.pieces.get(orig);\n    var destPiece = state.pieces.get(dest);\n    return !!piece && (!destPiece || destPiece.color !== state.movable.color) && state.predroppable.enabled && (piece.role !== 'pawn' || dest[1] !== '1' && dest[1] !== '8') && state.movable.color === piece.color && state.turnColor !== piece.color;\n}\nfunction isDraggable(state, orig) {\n    var piece = state.pieces.get(orig);\n    return !!piece && state.draggable.enabled && (state.movable.color === 'both' || state.movable.color === piece.color && (state.turnColor === piece.color || state.premovable.enabled));\n}\nexports.isDraggable = isDraggable;\nfunction playPremove(state) {\n    var move = state.premovable.current;\n    if (!move) return false;\n    var orig = move[0],\n        dest = move[1];\n    var success = false;\n    if (canMove(state, orig, dest)) {\n        var result = baseUserMove(state, orig, dest);\n        if (result) {\n            var metadata = { premove: true };\n            if (result !== true) metadata.captured = result;\n            callUserFunction(state.movable.events.after, orig, dest, metadata);\n            success = true;\n        }\n    }\n    unsetPremove(state);\n    return success;\n}\nexports.playPremove = playPremove;\nfunction playPredrop(state, validate) {\n    var drop = state.predroppable.current;\n    var success = false;\n    if (!drop) return false;\n    if (validate(drop)) {\n        var piece = {\n            role: drop.role,\n            color: state.movable.color\n        };\n        if (baseNewPiece(state, piece, drop.key)) {\n            callUserFunction(state.movable.events.afterNewPiece, drop.role, drop.key, {\n                predrop: true\n            });\n            success = true;\n        }\n    }\n    unsetPredrop(state);\n    return success;\n}\nexports.playPredrop = playPredrop;\nfunction cancelMove(state) {\n    unsetPremove(state);\n    unsetPredrop(state);\n    unselect(state);\n}\nexports.cancelMove = cancelMove;\nfunction stop(state) {\n    state.movable.color = state.movable.dests = state.animation.current = undefined;\n    cancelMove(state);\n}\nexports.stop = stop;\nfunction getKeyAtDomPos(pos, asWhite, bounds) {\n    var file = Math.floor(8 * (pos[0] - bounds.left) / bounds.width);\n    if (!asWhite) file = 7 - file;\n    var rank = 7 - Math.floor(8 * (pos[1] - bounds.top) / bounds.height);\n    if (!asWhite) rank = 7 - rank;\n    return file >= 0 && file < 8 && rank >= 0 && rank < 8 ? util_1.pos2key([file, rank]) : undefined;\n}\nexports.getKeyAtDomPos = getKeyAtDomPos;\nfunction getSnappedKeyAtDomPos(orig, pos, asWhite, bounds) {\n    var origPos = util_1.key2pos(orig);\n    var validSnapPos = util_1.allPos.filter(function (pos2) {\n        return premove_1.queen(origPos[0], origPos[1], pos2[0], pos2[1]) || premove_1.knight(origPos[0], origPos[1], pos2[0], pos2[1]);\n    });\n    var validSnapCenters = validSnapPos.map(function (pos2) {\n        return util_1.computeSquareCenter(util_1.pos2key(pos2), asWhite, bounds);\n    });\n    var validSnapDistances = validSnapCenters.map(function (pos2) {\n        return util_1.distanceSq(pos, pos2);\n    });\n\n    var _validSnapDistances$r = validSnapDistances.reduce(function (a, b, index) {\n        return a[0] < b ? a : [b, index];\n    }, [validSnapDistances[0], 0]),\n        _validSnapDistances$r2 = _slicedToArray(_validSnapDistances$r, 2),\n        closestSnapIndex = _validSnapDistances$r2[1];\n\n    return util_1.pos2key(validSnapPos[closestSnapIndex]);\n}\nexports.getSnappedKeyAtDomPos = getSnappedKeyAtDomPos;\nfunction whitePov(s) {\n    return s.orientation === 'white';\n}\nexports.whitePov = whitePov;\n//# sourceMappingURL=board.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VjaGVzc2dyb3VuZC9ib2FyZC5qcz82NzMyIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwid2hpdGVQb3YiLCJnZXRTbmFwcGVkS2V5QXREb21Qb3MiLCJnZXRLZXlBdERvbVBvcyIsInN0b3AiLCJjYW5jZWxNb3ZlIiwicGxheVByZWRyb3AiLCJwbGF5UHJlbW92ZSIsImlzRHJhZ2dhYmxlIiwiY2FuTW92ZSIsInVuc2VsZWN0Iiwic2V0U2VsZWN0ZWQiLCJzZWxlY3RTcXVhcmUiLCJkcm9wTmV3UGllY2UiLCJ1c2VyTW92ZSIsImJhc2VOZXdQaWVjZSIsImJhc2VNb3ZlIiwidW5zZXRQcmVkcm9wIiwidW5zZXRQcmVtb3ZlIiwic2V0Q2hlY2siLCJzZXRQaWVjZXMiLCJyZXNldCIsInRvZ2dsZU9yaWVudGF0aW9uIiwiY2FsbFVzZXJGdW5jdGlvbiIsInV0aWxfMSIsInJlcXVpcmUiLCJwcmVtb3ZlXzEiLCJmIiwiYXJncyIsInNldFRpbWVvdXQiLCJzdGF0ZSIsIm9yaWVudGF0aW9uIiwib3Bwb3NpdGUiLCJhbmltYXRpb24iLCJjdXJyZW50IiwiZHJhZ2dhYmxlIiwic2VsZWN0ZWQiLCJ1bmRlZmluZWQiLCJsYXN0TW92ZSIsInBpZWNlcyIsImtleSIsInBpZWNlIiwic2V0IiwiZGVsZXRlIiwiY29sb3IiLCJjaGVjayIsInR1cm5Db2xvciIsImsiLCJwIiwicm9sZSIsInNldFByZW1vdmUiLCJvcmlnIiwiZGVzdCIsIm1ldGEiLCJwcmVtb3ZhYmxlIiwiZXZlbnRzIiwidW5zZXQiLCJzZXRQcmVkcm9wIiwicHJlZHJvcHBhYmxlIiwicGQiLCJ0cnlBdXRvQ2FzdGxlIiwiYXV0b0Nhc3RsZSIsImtpbmciLCJnZXQiLCJvcmlnUG9zIiwia2V5MnBvcyIsImRlc3RQb3MiLCJoYXMiLCJwb3Mya2V5Iiwicm9vayIsIm9yaWdQaWVjZSIsImRlc3RQaWVjZSIsImNhcHR1cmVkIiwibW92ZSIsImNoYW5nZSIsImZvcmNlIiwibW92YWJsZSIsImRlc3RzIiwiYmFzZVVzZXJNb3ZlIiwicmVzdWx0IiwiaG9sZFRpbWUiLCJob2xkIiwibWV0YWRhdGEiLCJwcmVtb3ZlIiwiY3RybEtleSIsInN0YXRzIiwiYWZ0ZXIiLCJjYW5QcmVtb3ZlIiwiY2FuRHJvcCIsImFmdGVyTmV3UGllY2UiLCJwcmVkcm9wIiwiY2FuUHJlZHJvcCIsInNlbGVjdCIsImVuYWJsZWQiLCJjYW5jZWwiLCJzZWxlY3RhYmxlIiwiZHJhZ2dlZCIsImlzTW92YWJsZSIsImlzUHJlbW92YWJsZSIsInN0YXJ0IiwiY2FzdGxlIiwiX2EiLCJfYiIsImZyZWUiLCJpbmNsdWRlcyIsInN1Y2Nlc3MiLCJ2YWxpZGF0ZSIsImRyb3AiLCJwb3MiLCJhc1doaXRlIiwiYm91bmRzIiwiZmlsZSIsIk1hdGgiLCJmbG9vciIsImxlZnQiLCJ3aWR0aCIsInJhbmsiLCJ0b3AiLCJoZWlnaHQiLCJ2YWxpZFNuYXBQb3MiLCJhbGxQb3MiLCJmaWx0ZXIiLCJxdWVlbiIsInBvczIiLCJrbmlnaHQiLCJ2YWxpZFNuYXBDZW50ZXJzIiwibWFwIiwiY29tcHV0ZVNxdWFyZUNlbnRlciIsInZhbGlkU25hcERpc3RhbmNlcyIsImRpc3RhbmNlU3EiLCJyZWR1Y2UiLCJhIiwiYiIsImluZGV4IiwiY2xvc2VzdFNuYXBJbmRleCIsInMiXSwibWFwcGluZ3MiOiJBQUFBOzs7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBRCxRQUFRRSxRQUFSLEdBQW1CRixRQUFRRyxxQkFBUixHQUFnQ0gsUUFBUUksY0FBUixHQUF5QkosUUFBUUssSUFBUixHQUFlTCxRQUFRTSxVQUFSLEdBQXFCTixRQUFRTyxXQUFSLEdBQXNCUCxRQUFRUSxXQUFSLEdBQXNCUixRQUFRUyxXQUFSLEdBQXNCVCxRQUFRVSxPQUFSLEdBQWtCVixRQUFRVyxRQUFSLEdBQW1CWCxRQUFRWSxXQUFSLEdBQXNCWixRQUFRYSxZQUFSLEdBQXVCYixRQUFRYyxZQUFSLEdBQXVCZCxRQUFRZSxRQUFSLEdBQW1CZixRQUFRZ0IsWUFBUixHQUF1QmhCLFFBQVFpQixRQUFSLEdBQW1CakIsUUFBUWtCLFlBQVIsR0FBdUJsQixRQUFRbUIsWUFBUixHQUF1Qm5CLFFBQVFvQixRQUFSLEdBQW1CcEIsUUFBUXFCLFNBQVIsR0FBb0JyQixRQUFRc0IsS0FBUixHQUFnQnRCLFFBQVF1QixpQkFBUixHQUE0QnZCLFFBQVF3QixnQkFBUixHQUEyQixLQUFLLENBQXpmO0FBQ0EsSUFBTUMsU0FBUyxtQkFBQUMsQ0FBUSxDQUFSLENBQWY7QUFDQSxJQUFNQyxZQUFZLG1CQUFBRCxDQUFRLEVBQVIsQ0FBbEI7QUFDQSxTQUFTRixnQkFBVCxDQUEwQkksQ0FBMUIsRUFBc0M7QUFBQSxzQ0FBTkMsSUFBTTtBQUFOQSxZQUFNO0FBQUE7O0FBQ2xDLFFBQUlELENBQUosRUFDSUUsV0FBVztBQUFBLGVBQU1GLG1CQUFLQyxJQUFMLENBQU47QUFBQSxLQUFYLEVBQTZCLENBQTdCO0FBQ1A7QUFDRDdCLFFBQVF3QixnQkFBUixHQUEyQkEsZ0JBQTNCO0FBQ0EsU0FBU0QsaUJBQVQsQ0FBMkJRLEtBQTNCLEVBQWtDO0FBQzlCQSxVQUFNQyxXQUFOLEdBQW9CUCxPQUFPUSxRQUFQLENBQWdCRixNQUFNQyxXQUF0QixDQUFwQjtBQUNBRCxVQUFNRyxTQUFOLENBQWdCQyxPQUFoQixHQUNJSixNQUFNSyxTQUFOLENBQWdCRCxPQUFoQixHQUNJSixNQUFNTSxRQUFOLEdBQWlCQyxTQUZ6QjtBQUdIO0FBQ0R0QyxRQUFRdUIsaUJBQVIsR0FBNEJBLGlCQUE1QjtBQUNBLFNBQVNELEtBQVQsQ0FBZVMsS0FBZixFQUFzQjtBQUNsQkEsVUFBTVEsUUFBTixHQUFpQkQsU0FBakI7QUFDQTNCLGFBQVNvQixLQUFUO0FBQ0FaLGlCQUFhWSxLQUFiO0FBQ0FiLGlCQUFhYSxLQUFiO0FBQ0g7QUFDRC9CLFFBQVFzQixLQUFSLEdBQWdCQSxLQUFoQjtBQUNBLFNBQVNELFNBQVQsQ0FBbUJVLEtBQW5CLEVBQTBCUyxNQUExQixFQUFrQztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUM5Qiw2QkFBMkJBLE1BQTNCLDhIQUFtQztBQUFBO0FBQUEsZ0JBQXZCQyxHQUF1QjtBQUFBLGdCQUFsQkMsS0FBa0I7O0FBQy9CLGdCQUFJQSxLQUFKLEVBQ0lYLE1BQU1TLE1BQU4sQ0FBYUcsR0FBYixDQUFpQkYsR0FBakIsRUFBc0JDLEtBQXRCLEVBREosS0FHSVgsTUFBTVMsTUFBTixDQUFhSSxNQUFiLENBQW9CSCxHQUFwQjtBQUNQO0FBTjZCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFPakM7QUFDRHpDLFFBQVFxQixTQUFSLEdBQW9CQSxTQUFwQjtBQUNBLFNBQVNELFFBQVQsQ0FBa0JXLEtBQWxCLEVBQXlCYyxLQUF6QixFQUFnQztBQUM1QmQsVUFBTWUsS0FBTixHQUFjUixTQUFkO0FBQ0EsUUFBSU8sVUFBVSxJQUFkLEVBQ0lBLFFBQVFkLE1BQU1nQixTQUFkO0FBQ0osUUFBSUYsS0FBSjtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUNJLGtDQUFxQmQsTUFBTVMsTUFBM0IsbUlBQW1DO0FBQUE7QUFBQSxvQkFBdkJRLEVBQXVCO0FBQUEsb0JBQXBCQyxFQUFvQjs7QUFDL0Isb0JBQUlBLEdBQUVDLElBQUYsS0FBVyxNQUFYLElBQXFCRCxHQUFFSixLQUFGLEtBQVlBLEtBQXJDLEVBQTRDO0FBQ3hDZCwwQkFBTWUsS0FBTixHQUFjRSxFQUFkO0FBQ0g7QUFDSjtBQUxMO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU1IO0FBQ0RoRCxRQUFRb0IsUUFBUixHQUFtQkEsUUFBbkI7QUFDQSxTQUFTK0IsVUFBVCxDQUFvQnBCLEtBQXBCLEVBQTJCcUIsSUFBM0IsRUFBaUNDLElBQWpDLEVBQXVDQyxJQUF2QyxFQUE2QztBQUN6Q3BDLGlCQUFhYSxLQUFiO0FBQ0FBLFVBQU13QixVQUFOLENBQWlCcEIsT0FBakIsR0FBMkIsQ0FBQ2lCLElBQUQsRUFBT0MsSUFBUCxDQUEzQjtBQUNBN0IscUJBQWlCTyxNQUFNd0IsVUFBTixDQUFpQkMsTUFBakIsQ0FBd0JiLEdBQXpDLEVBQThDUyxJQUE5QyxFQUFvREMsSUFBcEQsRUFBMERDLElBQTFEO0FBQ0g7QUFDRCxTQUFTbkMsWUFBVCxDQUFzQlksS0FBdEIsRUFBNkI7QUFDekIsUUFBSUEsTUFBTXdCLFVBQU4sQ0FBaUJwQixPQUFyQixFQUE4QjtBQUMxQkosY0FBTXdCLFVBQU4sQ0FBaUJwQixPQUFqQixHQUEyQkcsU0FBM0I7QUFDQWQseUJBQWlCTyxNQUFNd0IsVUFBTixDQUFpQkMsTUFBakIsQ0FBd0JDLEtBQXpDO0FBQ0g7QUFDSjtBQUNEekQsUUFBUW1CLFlBQVIsR0FBdUJBLFlBQXZCO0FBQ0EsU0FBU3VDLFVBQVQsQ0FBb0IzQixLQUFwQixFQUEyQm1CLElBQTNCLEVBQWlDVCxHQUFqQyxFQUFzQztBQUNsQ3RCLGlCQUFhWSxLQUFiO0FBQ0FBLFVBQU00QixZQUFOLENBQW1CeEIsT0FBbkIsR0FBNkIsRUFBRWUsVUFBRixFQUFRVCxRQUFSLEVBQTdCO0FBQ0FqQixxQkFBaUJPLE1BQU00QixZQUFOLENBQW1CSCxNQUFuQixDQUEwQmIsR0FBM0MsRUFBZ0RPLElBQWhELEVBQXNEVCxHQUF0RDtBQUNIO0FBQ0QsU0FBU3ZCLFlBQVQsQ0FBc0JhLEtBQXRCLEVBQTZCO0FBQ3pCLFFBQU02QixLQUFLN0IsTUFBTTRCLFlBQWpCO0FBQ0EsUUFBSUMsR0FBR3pCLE9BQVAsRUFBZ0I7QUFDWnlCLFdBQUd6QixPQUFILEdBQWFHLFNBQWI7QUFDQWQseUJBQWlCb0MsR0FBR0osTUFBSCxDQUFVQyxLQUEzQjtBQUNIO0FBQ0o7QUFDRHpELFFBQVFrQixZQUFSLEdBQXVCQSxZQUF2QjtBQUNBLFNBQVMyQyxhQUFULENBQXVCOUIsS0FBdkIsRUFBOEJxQixJQUE5QixFQUFvQ0MsSUFBcEMsRUFBMEM7QUFDdEMsUUFBSSxDQUFDdEIsTUFBTStCLFVBQVgsRUFDSSxPQUFPLEtBQVA7QUFDSixRQUFNQyxPQUFPaEMsTUFBTVMsTUFBTixDQUFhd0IsR0FBYixDQUFpQlosSUFBakIsQ0FBYjtBQUNBLFFBQUksQ0FBQ1csSUFBRCxJQUFTQSxLQUFLYixJQUFMLEtBQWMsTUFBM0IsRUFDSSxPQUFPLEtBQVA7QUFDSixRQUFNZSxVQUFVeEMsT0FBT3lDLE9BQVAsQ0FBZWQsSUFBZixDQUFoQjtBQUNBLFFBQU1lLFVBQVUxQyxPQUFPeUMsT0FBUCxDQUFlYixJQUFmLENBQWhCO0FBQ0EsUUFBS1ksUUFBUSxDQUFSLE1BQWUsQ0FBZixJQUFvQkEsUUFBUSxDQUFSLE1BQWUsQ0FBcEMsSUFBMENBLFFBQVEsQ0FBUixNQUFlRSxRQUFRLENBQVIsQ0FBN0QsRUFDSSxPQUFPLEtBQVA7QUFDSixRQUFJRixRQUFRLENBQVIsTUFBZSxDQUFmLElBQW9CLENBQUNsQyxNQUFNUyxNQUFOLENBQWE0QixHQUFiLENBQWlCZixJQUFqQixDQUF6QixFQUFpRDtBQUM3QyxZQUFJYyxRQUFRLENBQVIsTUFBZSxDQUFuQixFQUNJZCxPQUFPNUIsT0FBTzRDLE9BQVAsQ0FBZSxDQUFDLENBQUQsRUFBSUYsUUFBUSxDQUFSLENBQUosQ0FBZixDQUFQLENBREosS0FFSyxJQUFJQSxRQUFRLENBQVIsTUFBZSxDQUFuQixFQUNEZCxPQUFPNUIsT0FBTzRDLE9BQVAsQ0FBZSxDQUFDLENBQUQsRUFBSUYsUUFBUSxDQUFSLENBQUosQ0FBZixDQUFQO0FBQ1A7QUFDRCxRQUFNRyxPQUFPdkMsTUFBTVMsTUFBTixDQUFhd0IsR0FBYixDQUFpQlgsSUFBakIsQ0FBYjtBQUNBLFFBQUksQ0FBQ2lCLElBQUQsSUFBU0EsS0FBS3pCLEtBQUwsS0FBZWtCLEtBQUtsQixLQUE3QixJQUFzQ3lCLEtBQUtwQixJQUFMLEtBQWMsTUFBeEQsRUFDSSxPQUFPLEtBQVA7QUFDSm5CLFVBQU1TLE1BQU4sQ0FBYUksTUFBYixDQUFvQlEsSUFBcEI7QUFDQXJCLFVBQU1TLE1BQU4sQ0FBYUksTUFBYixDQUFvQlMsSUFBcEI7QUFDQSxRQUFJWSxRQUFRLENBQVIsSUFBYUUsUUFBUSxDQUFSLENBQWpCLEVBQTZCO0FBQ3pCcEMsY0FBTVMsTUFBTixDQUFhRyxHQUFiLENBQWlCbEIsT0FBTzRDLE9BQVAsQ0FBZSxDQUFDLENBQUQsRUFBSUYsUUFBUSxDQUFSLENBQUosQ0FBZixDQUFqQixFQUFrREosSUFBbEQ7QUFDQWhDLGNBQU1TLE1BQU4sQ0FBYUcsR0FBYixDQUFpQmxCLE9BQU80QyxPQUFQLENBQWUsQ0FBQyxDQUFELEVBQUlGLFFBQVEsQ0FBUixDQUFKLENBQWYsQ0FBakIsRUFBa0RHLElBQWxEO0FBQ0gsS0FIRCxNQUlLO0FBQ0R2QyxjQUFNUyxNQUFOLENBQWFHLEdBQWIsQ0FBaUJsQixPQUFPNEMsT0FBUCxDQUFlLENBQUMsQ0FBRCxFQUFJRixRQUFRLENBQVIsQ0FBSixDQUFmLENBQWpCLEVBQWtESixJQUFsRDtBQUNBaEMsY0FBTVMsTUFBTixDQUFhRyxHQUFiLENBQWlCbEIsT0FBTzRDLE9BQVAsQ0FBZSxDQUFDLENBQUQsRUFBSUYsUUFBUSxDQUFSLENBQUosQ0FBZixDQUFqQixFQUFrREcsSUFBbEQ7QUFDSDtBQUNELFdBQU8sSUFBUDtBQUNIO0FBQ0QsU0FBU3JELFFBQVQsQ0FBa0JjLEtBQWxCLEVBQXlCcUIsSUFBekIsRUFBK0JDLElBQS9CLEVBQXFDO0FBQ2pDLFFBQU1rQixZQUFZeEMsTUFBTVMsTUFBTixDQUFhd0IsR0FBYixDQUFpQlosSUFBakIsQ0FBbEI7QUFBQSxRQUEwQ29CLFlBQVl6QyxNQUFNUyxNQUFOLENBQWF3QixHQUFiLENBQWlCWCxJQUFqQixDQUF0RDtBQUNBLFFBQUlELFNBQVNDLElBQVQsSUFBaUIsQ0FBQ2tCLFNBQXRCLEVBQ0ksT0FBTyxLQUFQO0FBQ0osUUFBTUUsV0FBWUQsYUFBYUEsVUFBVTNCLEtBQVYsS0FBb0IwQixVQUFVMUIsS0FBNUMsR0FBcUQyQixTQUFyRCxHQUFpRWxDLFNBQWxGO0FBQ0EsUUFBSWUsU0FBU3RCLE1BQU1NLFFBQW5CLEVBQ0kxQixTQUFTb0IsS0FBVDtBQUNKUCxxQkFBaUJPLE1BQU15QixNQUFOLENBQWFrQixJQUE5QixFQUFvQ3RCLElBQXBDLEVBQTBDQyxJQUExQyxFQUFnRG9CLFFBQWhEO0FBQ0EsUUFBSSxDQUFDWixjQUFjOUIsS0FBZCxFQUFxQnFCLElBQXJCLEVBQTJCQyxJQUEzQixDQUFMLEVBQXVDO0FBQ25DdEIsY0FBTVMsTUFBTixDQUFhRyxHQUFiLENBQWlCVSxJQUFqQixFQUF1QmtCLFNBQXZCO0FBQ0F4QyxjQUFNUyxNQUFOLENBQWFJLE1BQWIsQ0FBb0JRLElBQXBCO0FBQ0g7QUFDRHJCLFVBQU1RLFFBQU4sR0FBaUIsQ0FBQ2EsSUFBRCxFQUFPQyxJQUFQLENBQWpCO0FBQ0F0QixVQUFNZSxLQUFOLEdBQWNSLFNBQWQ7QUFDQWQscUJBQWlCTyxNQUFNeUIsTUFBTixDQUFhbUIsTUFBOUI7QUFDQSxXQUFPRixZQUFZLElBQW5CO0FBQ0g7QUFDRHpFLFFBQVFpQixRQUFSLEdBQW1CQSxRQUFuQjtBQUNBLFNBQVNELFlBQVQsQ0FBc0JlLEtBQXRCLEVBQTZCVyxLQUE3QixFQUFvQ0QsR0FBcEMsRUFBeUNtQyxLQUF6QyxFQUFnRDtBQUM1QyxRQUFJN0MsTUFBTVMsTUFBTixDQUFhNEIsR0FBYixDQUFpQjNCLEdBQWpCLENBQUosRUFBMkI7QUFDdkIsWUFBSW1DLEtBQUosRUFDSTdDLE1BQU1TLE1BQU4sQ0FBYUksTUFBYixDQUFvQkgsR0FBcEIsRUFESixLQUdJLE9BQU8sS0FBUDtBQUNQO0FBQ0RqQixxQkFBaUJPLE1BQU15QixNQUFOLENBQWExQyxZQUE5QixFQUE0QzRCLEtBQTVDLEVBQW1ERCxHQUFuRDtBQUNBVixVQUFNUyxNQUFOLENBQWFHLEdBQWIsQ0FBaUJGLEdBQWpCLEVBQXNCQyxLQUF0QjtBQUNBWCxVQUFNUSxRQUFOLEdBQWlCLENBQUNFLEdBQUQsQ0FBakI7QUFDQVYsVUFBTWUsS0FBTixHQUFjUixTQUFkO0FBQ0FkLHFCQUFpQk8sTUFBTXlCLE1BQU4sQ0FBYW1CLE1BQTlCO0FBQ0E1QyxVQUFNOEMsT0FBTixDQUFjQyxLQUFkLEdBQXNCeEMsU0FBdEI7QUFDQVAsVUFBTWdCLFNBQU4sR0FBa0J0QixPQUFPUSxRQUFQLENBQWdCRixNQUFNZ0IsU0FBdEIsQ0FBbEI7QUFDQSxXQUFPLElBQVA7QUFDSDtBQUNEL0MsUUFBUWdCLFlBQVIsR0FBdUJBLFlBQXZCO0FBQ0EsU0FBUytELFlBQVQsQ0FBc0JoRCxLQUF0QixFQUE2QnFCLElBQTdCLEVBQW1DQyxJQUFuQyxFQUF5QztBQUNyQyxRQUFNMkIsU0FBUy9ELFNBQVNjLEtBQVQsRUFBZ0JxQixJQUFoQixFQUFzQkMsSUFBdEIsQ0FBZjtBQUNBLFFBQUkyQixNQUFKLEVBQVk7QUFDUmpELGNBQU04QyxPQUFOLENBQWNDLEtBQWQsR0FBc0J4QyxTQUF0QjtBQUNBUCxjQUFNZ0IsU0FBTixHQUFrQnRCLE9BQU9RLFFBQVAsQ0FBZ0JGLE1BQU1nQixTQUF0QixDQUFsQjtBQUNBaEIsY0FBTUcsU0FBTixDQUFnQkMsT0FBaEIsR0FBMEJHLFNBQTFCO0FBQ0g7QUFDRCxXQUFPMEMsTUFBUDtBQUNIO0FBQ0QsU0FBU2pFLFFBQVQsQ0FBa0JnQixLQUFsQixFQUF5QnFCLElBQXpCLEVBQStCQyxJQUEvQixFQUFxQztBQUNqQyxRQUFJM0MsUUFBUXFCLEtBQVIsRUFBZXFCLElBQWYsRUFBcUJDLElBQXJCLENBQUosRUFBZ0M7QUFDNUIsWUFBTTJCLFNBQVNELGFBQWFoRCxLQUFiLEVBQW9CcUIsSUFBcEIsRUFBMEJDLElBQTFCLENBQWY7QUFDQSxZQUFJMkIsTUFBSixFQUFZO0FBQ1IsZ0JBQU1DLFdBQVdsRCxNQUFNbUQsSUFBTixDQUFXN0UsSUFBWCxFQUFqQjtBQUNBTSxxQkFBU29CLEtBQVQ7QUFDQSxnQkFBTW9ELFdBQVc7QUFDYkMseUJBQVMsS0FESTtBQUViQyx5QkFBU3RELE1BQU11RCxLQUFOLENBQVlELE9BRlI7QUFHYko7QUFIYSxhQUFqQjtBQUtBLGdCQUFJRCxXQUFXLElBQWYsRUFDSUcsU0FBU1YsUUFBVCxHQUFvQk8sTUFBcEI7QUFDSnhELDZCQUFpQk8sTUFBTThDLE9BQU4sQ0FBY3JCLE1BQWQsQ0FBcUIrQixLQUF0QyxFQUE2Q25DLElBQTdDLEVBQW1EQyxJQUFuRCxFQUF5RDhCLFFBQXpEO0FBQ0EsbUJBQU8sSUFBUDtBQUNIO0FBQ0osS0FmRCxNQWdCSyxJQUFJSyxXQUFXekQsS0FBWCxFQUFrQnFCLElBQWxCLEVBQXdCQyxJQUF4QixDQUFKLEVBQW1DO0FBQ3BDRixtQkFBV3BCLEtBQVgsRUFBa0JxQixJQUFsQixFQUF3QkMsSUFBeEIsRUFBOEI7QUFDMUJnQyxxQkFBU3RELE1BQU11RCxLQUFOLENBQVlEO0FBREssU0FBOUI7QUFHQTFFLGlCQUFTb0IsS0FBVDtBQUNBLGVBQU8sSUFBUDtBQUNIO0FBQ0RwQixhQUFTb0IsS0FBVDtBQUNBLFdBQU8sS0FBUDtBQUNIO0FBQ0QvQixRQUFRZSxRQUFSLEdBQW1CQSxRQUFuQjtBQUNBLFNBQVNELFlBQVQsQ0FBc0JpQixLQUF0QixFQUE2QnFCLElBQTdCLEVBQW1DQyxJQUFuQyxFQUF5Q3VCLEtBQXpDLEVBQWdEO0FBQzVDLFFBQU1sQyxRQUFRWCxNQUFNUyxNQUFOLENBQWF3QixHQUFiLENBQWlCWixJQUFqQixDQUFkO0FBQ0EsUUFBSVYsVUFBVStDLFFBQVExRCxLQUFSLEVBQWVxQixJQUFmLEVBQXFCQyxJQUFyQixLQUE4QnVCLEtBQXhDLENBQUosRUFBb0Q7QUFDaEQ3QyxjQUFNUyxNQUFOLENBQWFJLE1BQWIsQ0FBb0JRLElBQXBCO0FBQ0FwQyxxQkFBYWUsS0FBYixFQUFvQlcsS0FBcEIsRUFBMkJXLElBQTNCLEVBQWlDdUIsS0FBakM7QUFDQXBELHlCQUFpQk8sTUFBTThDLE9BQU4sQ0FBY3JCLE1BQWQsQ0FBcUJrQyxhQUF0QyxFQUFxRGhELE1BQU1RLElBQTNELEVBQWlFRyxJQUFqRSxFQUF1RTtBQUNuRXNDLHFCQUFTO0FBRDBELFNBQXZFO0FBR0gsS0FORCxNQU9LLElBQUlqRCxTQUFTa0QsV0FBVzdELEtBQVgsRUFBa0JxQixJQUFsQixFQUF3QkMsSUFBeEIsQ0FBYixFQUE0QztBQUM3Q0ssbUJBQVczQixLQUFYLEVBQWtCVyxNQUFNUSxJQUF4QixFQUE4QkcsSUFBOUI7QUFDSCxLQUZJLE1BR0E7QUFDRGxDLHFCQUFhWSxLQUFiO0FBQ0FiLHFCQUFhYSxLQUFiO0FBQ0g7QUFDREEsVUFBTVMsTUFBTixDQUFhSSxNQUFiLENBQW9CUSxJQUFwQjtBQUNBekMsYUFBU29CLEtBQVQ7QUFDSDtBQUNEL0IsUUFBUWMsWUFBUixHQUF1QkEsWUFBdkI7QUFDQSxTQUFTRCxZQUFULENBQXNCa0IsS0FBdEIsRUFBNkJVLEdBQTdCLEVBQWtDbUMsS0FBbEMsRUFBeUM7QUFDckNwRCxxQkFBaUJPLE1BQU15QixNQUFOLENBQWFxQyxNQUE5QixFQUFzQ3BELEdBQXRDO0FBQ0EsUUFBSVYsTUFBTU0sUUFBVixFQUFvQjtBQUNoQixZQUFJTixNQUFNTSxRQUFOLEtBQW1CSSxHQUFuQixJQUEwQixDQUFDVixNQUFNSyxTQUFOLENBQWdCMEQsT0FBL0MsRUFBd0Q7QUFDcERuRixxQkFBU29CLEtBQVQ7QUFDQUEsa0JBQU1tRCxJQUFOLENBQVdhLE1BQVg7QUFDQTtBQUNILFNBSkQsTUFLSyxJQUFJLENBQUNoRSxNQUFNaUUsVUFBTixDQUFpQkYsT0FBakIsSUFBNEJsQixLQUE3QixLQUF1QzdDLE1BQU1NLFFBQU4sS0FBbUJJLEdBQTlELEVBQW1FO0FBQ3BFLGdCQUFJMUIsU0FBU2dCLEtBQVQsRUFBZ0JBLE1BQU1NLFFBQXRCLEVBQWdDSSxHQUFoQyxDQUFKLEVBQTBDO0FBQ3RDVixzQkFBTXVELEtBQU4sQ0FBWVcsT0FBWixHQUFzQixLQUF0QjtBQUNBO0FBQ0g7QUFDSjtBQUNKO0FBQ0QsUUFBSUMsVUFBVW5FLEtBQVYsRUFBaUJVLEdBQWpCLEtBQXlCMEQsYUFBYXBFLEtBQWIsRUFBb0JVLEdBQXBCLENBQTdCLEVBQXVEO0FBQ25EN0Isb0JBQVltQixLQUFaLEVBQW1CVSxHQUFuQjtBQUNBVixjQUFNbUQsSUFBTixDQUFXa0IsS0FBWDtBQUNIO0FBQ0o7QUFDRHBHLFFBQVFhLFlBQVIsR0FBdUJBLFlBQXZCO0FBQ0EsU0FBU0QsV0FBVCxDQUFxQm1CLEtBQXJCLEVBQTRCVSxHQUE1QixFQUFpQztBQUM3QlYsVUFBTU0sUUFBTixHQUFpQkksR0FBakI7QUFDQSxRQUFJMEQsYUFBYXBFLEtBQWIsRUFBb0JVLEdBQXBCLENBQUosRUFBOEI7QUFDMUJWLGNBQU13QixVQUFOLENBQWlCdUIsS0FBakIsR0FBeUJuRCxVQUFVeUQsT0FBVixDQUFrQnJELE1BQU1TLE1BQXhCLEVBQWdDQyxHQUFoQyxFQUFxQ1YsTUFBTXdCLFVBQU4sQ0FBaUI4QyxNQUF0RCxDQUF6QjtBQUNILEtBRkQsTUFJSXRFLE1BQU13QixVQUFOLENBQWlCdUIsS0FBakIsR0FBeUJ4QyxTQUF6QjtBQUNQO0FBQ0R0QyxRQUFRWSxXQUFSLEdBQXNCQSxXQUF0QjtBQUNBLFNBQVNELFFBQVQsQ0FBa0JvQixLQUFsQixFQUF5QjtBQUNyQkEsVUFBTU0sUUFBTixHQUFpQkMsU0FBakI7QUFDQVAsVUFBTXdCLFVBQU4sQ0FBaUJ1QixLQUFqQixHQUF5QnhDLFNBQXpCO0FBQ0FQLFVBQU1tRCxJQUFOLENBQVdhLE1BQVg7QUFDSDtBQUNEL0YsUUFBUVcsUUFBUixHQUFtQkEsUUFBbkI7QUFDQSxTQUFTdUYsU0FBVCxDQUFtQm5FLEtBQW5CLEVBQTBCcUIsSUFBMUIsRUFBZ0M7QUFDNUIsUUFBTVYsUUFBUVgsTUFBTVMsTUFBTixDQUFhd0IsR0FBYixDQUFpQlosSUFBakIsQ0FBZDtBQUNBLFdBQU8sQ0FBQyxDQUFDVixLQUFGLEtBQVlYLE1BQU04QyxPQUFOLENBQWNoQyxLQUFkLEtBQXdCLE1BQXhCLElBQW1DZCxNQUFNOEMsT0FBTixDQUFjaEMsS0FBZCxLQUF3QkgsTUFBTUcsS0FBOUIsSUFDbERkLE1BQU1nQixTQUFOLEtBQW9CTCxNQUFNRyxLQUR2QixDQUFQO0FBRUg7QUFDRCxTQUFTbkMsT0FBVCxDQUFpQnFCLEtBQWpCLEVBQXdCcUIsSUFBeEIsRUFBOEJDLElBQTlCLEVBQW9DO0FBQ2hDLFFBQUlpRCxFQUFKLEVBQVFDLEVBQVI7QUFDQSxXQUFPbkQsU0FBU0MsSUFBVCxJQUFpQjZDLFVBQVVuRSxLQUFWLEVBQWlCcUIsSUFBakIsQ0FBakIsS0FBNENyQixNQUFNOEMsT0FBTixDQUFjMkIsSUFBZCxJQUFzQixDQUFDLEVBQUUsQ0FBQ0QsS0FBSyxDQUFDRCxLQUFLdkUsTUFBTThDLE9BQU4sQ0FBY0MsS0FBcEIsTUFBK0IsSUFBL0IsSUFBdUN3QixPQUFPLEtBQUssQ0FBbkQsR0FBdUQsS0FBSyxDQUE1RCxHQUFnRUEsR0FBR3RDLEdBQUgsQ0FBT1osSUFBUCxDQUF0RSxNQUF3RixJQUF4RixJQUFnR21ELE9BQU8sS0FBSyxDQUE1RyxHQUFnSCxLQUFLLENBQXJILEdBQXlIQSxHQUFHRSxRQUFILENBQVlwRCxJQUFaLENBQTNILENBQW5FLENBQVA7QUFDSDtBQUNEckQsUUFBUVUsT0FBUixHQUFrQkEsT0FBbEI7QUFDQSxTQUFTK0UsT0FBVCxDQUFpQjFELEtBQWpCLEVBQXdCcUIsSUFBeEIsRUFBOEJDLElBQTlCLEVBQW9DO0FBQ2hDLFFBQU1YLFFBQVFYLE1BQU1TLE1BQU4sQ0FBYXdCLEdBQWIsQ0FBaUJaLElBQWpCLENBQWQ7QUFDQSxXQUFPLENBQUMsQ0FBQ1YsS0FBRixLQUFZVSxTQUFTQyxJQUFULElBQWlCLENBQUN0QixNQUFNUyxNQUFOLENBQWE0QixHQUFiLENBQWlCZixJQUFqQixDQUE5QixNQUEwRHRCLE1BQU04QyxPQUFOLENBQWNoQyxLQUFkLEtBQXdCLE1BQXhCLElBQW1DZCxNQUFNOEMsT0FBTixDQUFjaEMsS0FBZCxLQUF3QkgsTUFBTUcsS0FBOUIsSUFDaEdkLE1BQU1nQixTQUFOLEtBQW9CTCxNQUFNRyxLQUR2QixDQUFQO0FBRUg7QUFDRCxTQUFTc0QsWUFBVCxDQUFzQnBFLEtBQXRCLEVBQTZCcUIsSUFBN0IsRUFBbUM7QUFDL0IsUUFBTVYsUUFBUVgsTUFBTVMsTUFBTixDQUFhd0IsR0FBYixDQUFpQlosSUFBakIsQ0FBZDtBQUNBLFdBQU8sQ0FBQyxDQUFDVixLQUFGLElBQVdYLE1BQU13QixVQUFOLENBQWlCdUMsT0FBNUIsSUFDSC9ELE1BQU04QyxPQUFOLENBQWNoQyxLQUFkLEtBQXdCSCxNQUFNRyxLQUQzQixJQUVIZCxNQUFNZ0IsU0FBTixLQUFvQkwsTUFBTUcsS0FGOUI7QUFHSDtBQUNELFNBQVMyQyxVQUFULENBQW9CekQsS0FBcEIsRUFBMkJxQixJQUEzQixFQUFpQ0MsSUFBakMsRUFBdUM7QUFDbkMsV0FBT0QsU0FBU0MsSUFBVCxJQUNIOEMsYUFBYXBFLEtBQWIsRUFBb0JxQixJQUFwQixDQURHLElBRUh6QixVQUFVeUQsT0FBVixDQUFrQnJELE1BQU1TLE1BQXhCLEVBQWdDWSxJQUFoQyxFQUFzQ3JCLE1BQU13QixVQUFOLENBQWlCOEMsTUFBdkQsRUFBK0RJLFFBQS9ELENBQXdFcEQsSUFBeEUsQ0FGSjtBQUdIO0FBQ0QsU0FBU3VDLFVBQVQsQ0FBb0I3RCxLQUFwQixFQUEyQnFCLElBQTNCLEVBQWlDQyxJQUFqQyxFQUF1QztBQUNuQyxRQUFNWCxRQUFRWCxNQUFNUyxNQUFOLENBQWF3QixHQUFiLENBQWlCWixJQUFqQixDQUFkO0FBQ0EsUUFBTW9CLFlBQVl6QyxNQUFNUyxNQUFOLENBQWF3QixHQUFiLENBQWlCWCxJQUFqQixDQUFsQjtBQUNBLFdBQU8sQ0FBQyxDQUFDWCxLQUFGLEtBQ0YsQ0FBQzhCLFNBQUQsSUFBY0EsVUFBVTNCLEtBQVYsS0FBb0JkLE1BQU04QyxPQUFOLENBQWNoQyxLQUQ5QyxLQUVIZCxNQUFNNEIsWUFBTixDQUFtQm1DLE9BRmhCLEtBR0ZwRCxNQUFNUSxJQUFOLEtBQWUsTUFBZixJQUEwQkcsS0FBSyxDQUFMLE1BQVksR0FBWixJQUFtQkEsS0FBSyxDQUFMLE1BQVksR0FIdkQsS0FJSHRCLE1BQU04QyxPQUFOLENBQWNoQyxLQUFkLEtBQXdCSCxNQUFNRyxLQUozQixJQUtIZCxNQUFNZ0IsU0FBTixLQUFvQkwsTUFBTUcsS0FMOUI7QUFNSDtBQUNELFNBQVNwQyxXQUFULENBQXFCc0IsS0FBckIsRUFBNEJxQixJQUE1QixFQUFrQztBQUM5QixRQUFNVixRQUFRWCxNQUFNUyxNQUFOLENBQWF3QixHQUFiLENBQWlCWixJQUFqQixDQUFkO0FBQ0EsV0FBTyxDQUFDLENBQUNWLEtBQUYsSUFBV1gsTUFBTUssU0FBTixDQUFnQjBELE9BQTNCLEtBQXVDL0QsTUFBTThDLE9BQU4sQ0FBY2hDLEtBQWQsS0FBd0IsTUFBeEIsSUFBbUNkLE1BQU04QyxPQUFOLENBQWNoQyxLQUFkLEtBQXdCSCxNQUFNRyxLQUE5QixLQUF3Q2QsTUFBTWdCLFNBQU4sS0FBb0JMLE1BQU1HLEtBQTFCLElBQW1DZCxNQUFNd0IsVUFBTixDQUFpQnVDLE9BQTVGLENBQTFFLENBQVA7QUFDSDtBQUNEOUYsUUFBUVMsV0FBUixHQUFzQkEsV0FBdEI7QUFDQSxTQUFTRCxXQUFULENBQXFCdUIsS0FBckIsRUFBNEI7QUFDeEIsUUFBTTJDLE9BQU8zQyxNQUFNd0IsVUFBTixDQUFpQnBCLE9BQTlCO0FBQ0EsUUFBSSxDQUFDdUMsSUFBTCxFQUNJLE9BQU8sS0FBUDtBQUNKLFFBQU10QixPQUFPc0IsS0FBSyxDQUFMLENBQWI7QUFBQSxRQUFzQnJCLE9BQU9xQixLQUFLLENBQUwsQ0FBN0I7QUFDQSxRQUFJZ0MsVUFBVSxLQUFkO0FBQ0EsUUFBSWhHLFFBQVFxQixLQUFSLEVBQWVxQixJQUFmLEVBQXFCQyxJQUFyQixDQUFKLEVBQWdDO0FBQzVCLFlBQU0yQixTQUFTRCxhQUFhaEQsS0FBYixFQUFvQnFCLElBQXBCLEVBQTBCQyxJQUExQixDQUFmO0FBQ0EsWUFBSTJCLE1BQUosRUFBWTtBQUNSLGdCQUFNRyxXQUFXLEVBQUVDLFNBQVMsSUFBWCxFQUFqQjtBQUNBLGdCQUFJSixXQUFXLElBQWYsRUFDSUcsU0FBU1YsUUFBVCxHQUFvQk8sTUFBcEI7QUFDSnhELDZCQUFpQk8sTUFBTThDLE9BQU4sQ0FBY3JCLE1BQWQsQ0FBcUIrQixLQUF0QyxFQUE2Q25DLElBQTdDLEVBQW1EQyxJQUFuRCxFQUF5RDhCLFFBQXpEO0FBQ0F1QixzQkFBVSxJQUFWO0FBQ0g7QUFDSjtBQUNEdkYsaUJBQWFZLEtBQWI7QUFDQSxXQUFPMkUsT0FBUDtBQUNIO0FBQ0QxRyxRQUFRUSxXQUFSLEdBQXNCQSxXQUF0QjtBQUNBLFNBQVNELFdBQVQsQ0FBcUJ3QixLQUFyQixFQUE0QjRFLFFBQTVCLEVBQXNDO0FBQ2xDLFFBQU1DLE9BQU83RSxNQUFNNEIsWUFBTixDQUFtQnhCLE9BQWhDO0FBQ0EsUUFBSXVFLFVBQVUsS0FBZDtBQUNBLFFBQUksQ0FBQ0UsSUFBTCxFQUNJLE9BQU8sS0FBUDtBQUNKLFFBQUlELFNBQVNDLElBQVQsQ0FBSixFQUFvQjtBQUNoQixZQUFNbEUsUUFBUTtBQUNWUSxrQkFBTTBELEtBQUsxRCxJQUREO0FBRVZMLG1CQUFPZCxNQUFNOEMsT0FBTixDQUFjaEM7QUFGWCxTQUFkO0FBSUEsWUFBSTdCLGFBQWFlLEtBQWIsRUFBb0JXLEtBQXBCLEVBQTJCa0UsS0FBS25FLEdBQWhDLENBQUosRUFBMEM7QUFDdENqQiw2QkFBaUJPLE1BQU04QyxPQUFOLENBQWNyQixNQUFkLENBQXFCa0MsYUFBdEMsRUFBcURrQixLQUFLMUQsSUFBMUQsRUFBZ0UwRCxLQUFLbkUsR0FBckUsRUFBMEU7QUFDdEVrRCx5QkFBUztBQUQ2RCxhQUExRTtBQUdBZSxzQkFBVSxJQUFWO0FBQ0g7QUFDSjtBQUNEeEYsaUJBQWFhLEtBQWI7QUFDQSxXQUFPMkUsT0FBUDtBQUNIO0FBQ0QxRyxRQUFRTyxXQUFSLEdBQXNCQSxXQUF0QjtBQUNBLFNBQVNELFVBQVQsQ0FBb0J5QixLQUFwQixFQUEyQjtBQUN2QlosaUJBQWFZLEtBQWI7QUFDQWIsaUJBQWFhLEtBQWI7QUFDQXBCLGFBQVNvQixLQUFUO0FBQ0g7QUFDRC9CLFFBQVFNLFVBQVIsR0FBcUJBLFVBQXJCO0FBQ0EsU0FBU0QsSUFBVCxDQUFjMEIsS0FBZCxFQUFxQjtBQUNqQkEsVUFBTThDLE9BQU4sQ0FBY2hDLEtBQWQsR0FDSWQsTUFBTThDLE9BQU4sQ0FBY0MsS0FBZCxHQUNJL0MsTUFBTUcsU0FBTixDQUFnQkMsT0FBaEIsR0FBMEJHLFNBRmxDO0FBR0FoQyxlQUFXeUIsS0FBWDtBQUNIO0FBQ0QvQixRQUFRSyxJQUFSLEdBQWVBLElBQWY7QUFDQSxTQUFTRCxjQUFULENBQXdCeUcsR0FBeEIsRUFBNkJDLE9BQTdCLEVBQXNDQyxNQUF0QyxFQUE4QztBQUMxQyxRQUFJQyxPQUFPQyxLQUFLQyxLQUFMLENBQVcsS0FBS0wsSUFBSSxDQUFKLElBQVNFLE9BQU9JLElBQXJCLElBQTZCSixPQUFPSyxLQUEvQyxDQUFYO0FBQ0EsUUFBSSxDQUFDTixPQUFMLEVBQ0lFLE9BQU8sSUFBSUEsSUFBWDtBQUNKLFFBQUlLLE9BQU8sSUFBSUosS0FBS0MsS0FBTCxDQUFXLEtBQUtMLElBQUksQ0FBSixJQUFTRSxPQUFPTyxHQUFyQixJQUE0QlAsT0FBT1EsTUFBOUMsQ0FBZjtBQUNBLFFBQUksQ0FBQ1QsT0FBTCxFQUNJTyxPQUFPLElBQUlBLElBQVg7QUFDSixXQUFRTCxRQUFRLENBQVIsSUFBYUEsT0FBTyxDQUFwQixJQUF5QkssUUFBUSxDQUFqQyxJQUFzQ0EsT0FBTyxDQUE5QyxHQUFtRDVGLE9BQU80QyxPQUFQLENBQWUsQ0FBQzJDLElBQUQsRUFBT0ssSUFBUCxDQUFmLENBQW5ELEdBQWtGL0UsU0FBekY7QUFDSDtBQUNEdEMsUUFBUUksY0FBUixHQUF5QkEsY0FBekI7QUFDQSxTQUFTRCxxQkFBVCxDQUErQmlELElBQS9CLEVBQXFDeUQsR0FBckMsRUFBMENDLE9BQTFDLEVBQW1EQyxNQUFuRCxFQUEyRDtBQUN2RCxRQUFNOUMsVUFBVXhDLE9BQU95QyxPQUFQLENBQWVkLElBQWYsQ0FBaEI7QUFDQSxRQUFNb0UsZUFBZS9GLE9BQU9nRyxNQUFQLENBQWNDLE1BQWQsQ0FBcUIsZ0JBQVE7QUFDOUMsZUFBTy9GLFVBQVVnRyxLQUFWLENBQWdCMUQsUUFBUSxDQUFSLENBQWhCLEVBQTRCQSxRQUFRLENBQVIsQ0FBNUIsRUFBd0MyRCxLQUFLLENBQUwsQ0FBeEMsRUFBaURBLEtBQUssQ0FBTCxDQUFqRCxLQUE2RGpHLFVBQVVrRyxNQUFWLENBQWlCNUQsUUFBUSxDQUFSLENBQWpCLEVBQTZCQSxRQUFRLENBQVIsQ0FBN0IsRUFBeUMyRCxLQUFLLENBQUwsQ0FBekMsRUFBa0RBLEtBQUssQ0FBTCxDQUFsRCxDQUFwRTtBQUNILEtBRm9CLENBQXJCO0FBR0EsUUFBTUUsbUJBQW1CTixhQUFhTyxHQUFiLENBQWlCO0FBQUEsZUFBUXRHLE9BQU91RyxtQkFBUCxDQUEyQnZHLE9BQU80QyxPQUFQLENBQWV1RCxJQUFmLENBQTNCLEVBQWlEZCxPQUFqRCxFQUEwREMsTUFBMUQsQ0FBUjtBQUFBLEtBQWpCLENBQXpCO0FBQ0EsUUFBTWtCLHFCQUFxQkgsaUJBQWlCQyxHQUFqQixDQUFxQjtBQUFBLGVBQVF0RyxPQUFPeUcsVUFBUCxDQUFrQnJCLEdBQWxCLEVBQXVCZSxJQUF2QixDQUFSO0FBQUEsS0FBckIsQ0FBM0I7O0FBTnVELGdDQU8xQkssbUJBQW1CRSxNQUFuQixDQUEwQixVQUFDQyxDQUFELEVBQUlDLENBQUosRUFBT0MsS0FBUDtBQUFBLGVBQWlCRixFQUFFLENBQUYsSUFBT0MsQ0FBUCxHQUFXRCxDQUFYLEdBQWUsQ0FBQ0MsQ0FBRCxFQUFJQyxLQUFKLENBQWhDO0FBQUEsS0FBMUIsRUFBc0UsQ0FBQ0wsbUJBQW1CLENBQW5CLENBQUQsRUFBd0IsQ0FBeEIsQ0FBdEUsQ0FQMEI7QUFBQTtBQUFBLFFBTzlDTSxnQkFQOEM7O0FBUXZELFdBQU85RyxPQUFPNEMsT0FBUCxDQUFlbUQsYUFBYWUsZ0JBQWIsQ0FBZixDQUFQO0FBQ0g7QUFDRHZJLFFBQVFHLHFCQUFSLEdBQWdDQSxxQkFBaEM7QUFDQSxTQUFTRCxRQUFULENBQWtCc0ksQ0FBbEIsRUFBcUI7QUFDakIsV0FBT0EsRUFBRXhHLFdBQUYsS0FBa0IsT0FBekI7QUFDSDtBQUNEaEMsUUFBUUUsUUFBUixHQUFtQkEsUUFBbkI7QUFDQSIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLndoaXRlUG92ID0gZXhwb3J0cy5nZXRTbmFwcGVkS2V5QXREb21Qb3MgPSBleHBvcnRzLmdldEtleUF0RG9tUG9zID0gZXhwb3J0cy5zdG9wID0gZXhwb3J0cy5jYW5jZWxNb3ZlID0gZXhwb3J0cy5wbGF5UHJlZHJvcCA9IGV4cG9ydHMucGxheVByZW1vdmUgPSBleHBvcnRzLmlzRHJhZ2dhYmxlID0gZXhwb3J0cy5jYW5Nb3ZlID0gZXhwb3J0cy51bnNlbGVjdCA9IGV4cG9ydHMuc2V0U2VsZWN0ZWQgPSBleHBvcnRzLnNlbGVjdFNxdWFyZSA9IGV4cG9ydHMuZHJvcE5ld1BpZWNlID0gZXhwb3J0cy51c2VyTW92ZSA9IGV4cG9ydHMuYmFzZU5ld1BpZWNlID0gZXhwb3J0cy5iYXNlTW92ZSA9IGV4cG9ydHMudW5zZXRQcmVkcm9wID0gZXhwb3J0cy51bnNldFByZW1vdmUgPSBleHBvcnRzLnNldENoZWNrID0gZXhwb3J0cy5zZXRQaWVjZXMgPSBleHBvcnRzLnJlc2V0ID0gZXhwb3J0cy50b2dnbGVPcmllbnRhdGlvbiA9IGV4cG9ydHMuY2FsbFVzZXJGdW5jdGlvbiA9IHZvaWQgMDtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5jb25zdCBwcmVtb3ZlXzEgPSByZXF1aXJlKFwiLi9wcmVtb3ZlXCIpO1xuZnVuY3Rpb24gY2FsbFVzZXJGdW5jdGlvbihmLCAuLi5hcmdzKSB7XG4gICAgaWYgKGYpXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gZiguLi5hcmdzKSwgMSk7XG59XG5leHBvcnRzLmNhbGxVc2VyRnVuY3Rpb24gPSBjYWxsVXNlckZ1bmN0aW9uO1xuZnVuY3Rpb24gdG9nZ2xlT3JpZW50YXRpb24oc3RhdGUpIHtcbiAgICBzdGF0ZS5vcmllbnRhdGlvbiA9IHV0aWxfMS5vcHBvc2l0ZShzdGF0ZS5vcmllbnRhdGlvbik7XG4gICAgc3RhdGUuYW5pbWF0aW9uLmN1cnJlbnQgPVxuICAgICAgICBzdGF0ZS5kcmFnZ2FibGUuY3VycmVudCA9XG4gICAgICAgICAgICBzdGF0ZS5zZWxlY3RlZCA9IHVuZGVmaW5lZDtcbn1cbmV4cG9ydHMudG9nZ2xlT3JpZW50YXRpb24gPSB0b2dnbGVPcmllbnRhdGlvbjtcbmZ1bmN0aW9uIHJlc2V0KHN0YXRlKSB7XG4gICAgc3RhdGUubGFzdE1vdmUgPSB1bmRlZmluZWQ7XG4gICAgdW5zZWxlY3Qoc3RhdGUpO1xuICAgIHVuc2V0UHJlbW92ZShzdGF0ZSk7XG4gICAgdW5zZXRQcmVkcm9wKHN0YXRlKTtcbn1cbmV4cG9ydHMucmVzZXQgPSByZXNldDtcbmZ1bmN0aW9uIHNldFBpZWNlcyhzdGF0ZSwgcGllY2VzKSB7XG4gICAgZm9yIChjb25zdCBba2V5LCBwaWVjZV0gb2YgcGllY2VzKSB7XG4gICAgICAgIGlmIChwaWVjZSlcbiAgICAgICAgICAgIHN0YXRlLnBpZWNlcy5zZXQoa2V5LCBwaWVjZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHN0YXRlLnBpZWNlcy5kZWxldGUoa2V5KTtcbiAgICB9XG59XG5leHBvcnRzLnNldFBpZWNlcyA9IHNldFBpZWNlcztcbmZ1bmN0aW9uIHNldENoZWNrKHN0YXRlLCBjb2xvcikge1xuICAgIHN0YXRlLmNoZWNrID0gdW5kZWZpbmVkO1xuICAgIGlmIChjb2xvciA9PT0gdHJ1ZSlcbiAgICAgICAgY29sb3IgPSBzdGF0ZS50dXJuQ29sb3I7XG4gICAgaWYgKGNvbG9yKVxuICAgICAgICBmb3IgKGNvbnN0IFtrLCBwXSBvZiBzdGF0ZS5waWVjZXMpIHtcbiAgICAgICAgICAgIGlmIChwLnJvbGUgPT09ICdraW5nJyAmJiBwLmNvbG9yID09PSBjb2xvcikge1xuICAgICAgICAgICAgICAgIHN0YXRlLmNoZWNrID0gaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxufVxuZXhwb3J0cy5zZXRDaGVjayA9IHNldENoZWNrO1xuZnVuY3Rpb24gc2V0UHJlbW92ZShzdGF0ZSwgb3JpZywgZGVzdCwgbWV0YSkge1xuICAgIHVuc2V0UHJlZHJvcChzdGF0ZSk7XG4gICAgc3RhdGUucHJlbW92YWJsZS5jdXJyZW50ID0gW29yaWcsIGRlc3RdO1xuICAgIGNhbGxVc2VyRnVuY3Rpb24oc3RhdGUucHJlbW92YWJsZS5ldmVudHMuc2V0LCBvcmlnLCBkZXN0LCBtZXRhKTtcbn1cbmZ1bmN0aW9uIHVuc2V0UHJlbW92ZShzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS5wcmVtb3ZhYmxlLmN1cnJlbnQpIHtcbiAgICAgICAgc3RhdGUucHJlbW92YWJsZS5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICBjYWxsVXNlckZ1bmN0aW9uKHN0YXRlLnByZW1vdmFibGUuZXZlbnRzLnVuc2V0KTtcbiAgICB9XG59XG5leHBvcnRzLnVuc2V0UHJlbW92ZSA9IHVuc2V0UHJlbW92ZTtcbmZ1bmN0aW9uIHNldFByZWRyb3Aoc3RhdGUsIHJvbGUsIGtleSkge1xuICAgIHVuc2V0UHJlbW92ZShzdGF0ZSk7XG4gICAgc3RhdGUucHJlZHJvcHBhYmxlLmN1cnJlbnQgPSB7IHJvbGUsIGtleSB9O1xuICAgIGNhbGxVc2VyRnVuY3Rpb24oc3RhdGUucHJlZHJvcHBhYmxlLmV2ZW50cy5zZXQsIHJvbGUsIGtleSk7XG59XG5mdW5jdGlvbiB1bnNldFByZWRyb3Aoc3RhdGUpIHtcbiAgICBjb25zdCBwZCA9IHN0YXRlLnByZWRyb3BwYWJsZTtcbiAgICBpZiAocGQuY3VycmVudCkge1xuICAgICAgICBwZC5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICBjYWxsVXNlckZ1bmN0aW9uKHBkLmV2ZW50cy51bnNldCk7XG4gICAgfVxufVxuZXhwb3J0cy51bnNldFByZWRyb3AgPSB1bnNldFByZWRyb3A7XG5mdW5jdGlvbiB0cnlBdXRvQ2FzdGxlKHN0YXRlLCBvcmlnLCBkZXN0KSB7XG4gICAgaWYgKCFzdGF0ZS5hdXRvQ2FzdGxlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgY29uc3Qga2luZyA9IHN0YXRlLnBpZWNlcy5nZXQob3JpZyk7XG4gICAgaWYgKCFraW5nIHx8IGtpbmcucm9sZSAhPT0gJ2tpbmcnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgY29uc3Qgb3JpZ1BvcyA9IHV0aWxfMS5rZXkycG9zKG9yaWcpO1xuICAgIGNvbnN0IGRlc3RQb3MgPSB1dGlsXzEua2V5MnBvcyhkZXN0KTtcbiAgICBpZiAoKG9yaWdQb3NbMV0gIT09IDAgJiYgb3JpZ1Bvc1sxXSAhPT0gNykgfHwgb3JpZ1Bvc1sxXSAhPT0gZGVzdFBvc1sxXSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChvcmlnUG9zWzBdID09PSA0ICYmICFzdGF0ZS5waWVjZXMuaGFzKGRlc3QpKSB7XG4gICAgICAgIGlmIChkZXN0UG9zWzBdID09PSA2KVxuICAgICAgICAgICAgZGVzdCA9IHV0aWxfMS5wb3Mya2V5KFs3LCBkZXN0UG9zWzFdXSk7XG4gICAgICAgIGVsc2UgaWYgKGRlc3RQb3NbMF0gPT09IDIpXG4gICAgICAgICAgICBkZXN0ID0gdXRpbF8xLnBvczJrZXkoWzAsIGRlc3RQb3NbMV1dKTtcbiAgICB9XG4gICAgY29uc3Qgcm9vayA9IHN0YXRlLnBpZWNlcy5nZXQoZGVzdCk7XG4gICAgaWYgKCFyb29rIHx8IHJvb2suY29sb3IgIT09IGtpbmcuY29sb3IgfHwgcm9vay5yb2xlICE9PSAncm9vaycpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBzdGF0ZS5waWVjZXMuZGVsZXRlKG9yaWcpO1xuICAgIHN0YXRlLnBpZWNlcy5kZWxldGUoZGVzdCk7XG4gICAgaWYgKG9yaWdQb3NbMF0gPCBkZXN0UG9zWzBdKSB7XG4gICAgICAgIHN0YXRlLnBpZWNlcy5zZXQodXRpbF8xLnBvczJrZXkoWzYsIGRlc3RQb3NbMV1dKSwga2luZyk7XG4gICAgICAgIHN0YXRlLnBpZWNlcy5zZXQodXRpbF8xLnBvczJrZXkoWzUsIGRlc3RQb3NbMV1dKSwgcm9vayk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdGF0ZS5waWVjZXMuc2V0KHV0aWxfMS5wb3Mya2V5KFsyLCBkZXN0UG9zWzFdXSksIGtpbmcpO1xuICAgICAgICBzdGF0ZS5waWVjZXMuc2V0KHV0aWxfMS5wb3Mya2V5KFszLCBkZXN0UG9zWzFdXSksIHJvb2spO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGJhc2VNb3ZlKHN0YXRlLCBvcmlnLCBkZXN0KSB7XG4gICAgY29uc3Qgb3JpZ1BpZWNlID0gc3RhdGUucGllY2VzLmdldChvcmlnKSwgZGVzdFBpZWNlID0gc3RhdGUucGllY2VzLmdldChkZXN0KTtcbiAgICBpZiAob3JpZyA9PT0gZGVzdCB8fCAhb3JpZ1BpZWNlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgY2FwdHVyZWQgPSAoZGVzdFBpZWNlICYmIGRlc3RQaWVjZS5jb2xvciAhPT0gb3JpZ1BpZWNlLmNvbG9yKSA/IGRlc3RQaWVjZSA6IHVuZGVmaW5lZDtcbiAgICBpZiAoZGVzdCA9PT0gc3RhdGUuc2VsZWN0ZWQpXG4gICAgICAgIHVuc2VsZWN0KHN0YXRlKTtcbiAgICBjYWxsVXNlckZ1bmN0aW9uKHN0YXRlLmV2ZW50cy5tb3ZlLCBvcmlnLCBkZXN0LCBjYXB0dXJlZCk7XG4gICAgaWYgKCF0cnlBdXRvQ2FzdGxlKHN0YXRlLCBvcmlnLCBkZXN0KSkge1xuICAgICAgICBzdGF0ZS5waWVjZXMuc2V0KGRlc3QsIG9yaWdQaWVjZSk7XG4gICAgICAgIHN0YXRlLnBpZWNlcy5kZWxldGUob3JpZyk7XG4gICAgfVxuICAgIHN0YXRlLmxhc3RNb3ZlID0gW29yaWcsIGRlc3RdO1xuICAgIHN0YXRlLmNoZWNrID0gdW5kZWZpbmVkO1xuICAgIGNhbGxVc2VyRnVuY3Rpb24oc3RhdGUuZXZlbnRzLmNoYW5nZSk7XG4gICAgcmV0dXJuIGNhcHR1cmVkIHx8IHRydWU7XG59XG5leHBvcnRzLmJhc2VNb3ZlID0gYmFzZU1vdmU7XG5mdW5jdGlvbiBiYXNlTmV3UGllY2Uoc3RhdGUsIHBpZWNlLCBrZXksIGZvcmNlKSB7XG4gICAgaWYgKHN0YXRlLnBpZWNlcy5oYXMoa2V5KSkge1xuICAgICAgICBpZiAoZm9yY2UpXG4gICAgICAgICAgICBzdGF0ZS5waWVjZXMuZGVsZXRlKGtleSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY2FsbFVzZXJGdW5jdGlvbihzdGF0ZS5ldmVudHMuZHJvcE5ld1BpZWNlLCBwaWVjZSwga2V5KTtcbiAgICBzdGF0ZS5waWVjZXMuc2V0KGtleSwgcGllY2UpO1xuICAgIHN0YXRlLmxhc3RNb3ZlID0gW2tleV07XG4gICAgc3RhdGUuY2hlY2sgPSB1bmRlZmluZWQ7XG4gICAgY2FsbFVzZXJGdW5jdGlvbihzdGF0ZS5ldmVudHMuY2hhbmdlKTtcbiAgICBzdGF0ZS5tb3ZhYmxlLmRlc3RzID0gdW5kZWZpbmVkO1xuICAgIHN0YXRlLnR1cm5Db2xvciA9IHV0aWxfMS5vcHBvc2l0ZShzdGF0ZS50dXJuQ29sb3IpO1xuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0cy5iYXNlTmV3UGllY2UgPSBiYXNlTmV3UGllY2U7XG5mdW5jdGlvbiBiYXNlVXNlck1vdmUoc3RhdGUsIG9yaWcsIGRlc3QpIHtcbiAgICBjb25zdCByZXN1bHQgPSBiYXNlTW92ZShzdGF0ZSwgb3JpZywgZGVzdCk7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBzdGF0ZS5tb3ZhYmxlLmRlc3RzID0gdW5kZWZpbmVkO1xuICAgICAgICBzdGF0ZS50dXJuQ29sb3IgPSB1dGlsXzEub3Bwb3NpdGUoc3RhdGUudHVybkNvbG9yKTtcbiAgICAgICAgc3RhdGUuYW5pbWF0aW9uLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiB1c2VyTW92ZShzdGF0ZSwgb3JpZywgZGVzdCkge1xuICAgIGlmIChjYW5Nb3ZlKHN0YXRlLCBvcmlnLCBkZXN0KSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBiYXNlVXNlck1vdmUoc3RhdGUsIG9yaWcsIGRlc3QpO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBjb25zdCBob2xkVGltZSA9IHN0YXRlLmhvbGQuc3RvcCgpO1xuICAgICAgICAgICAgdW5zZWxlY3Qoc3RhdGUpO1xuICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSB7XG4gICAgICAgICAgICAgICAgcHJlbW92ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY3RybEtleTogc3RhdGUuc3RhdHMuY3RybEtleSxcbiAgICAgICAgICAgICAgICBob2xkVGltZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IHRydWUpXG4gICAgICAgICAgICAgICAgbWV0YWRhdGEuY2FwdHVyZWQgPSByZXN1bHQ7XG4gICAgICAgICAgICBjYWxsVXNlckZ1bmN0aW9uKHN0YXRlLm1vdmFibGUuZXZlbnRzLmFmdGVyLCBvcmlnLCBkZXN0LCBtZXRhZGF0YSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChjYW5QcmVtb3ZlKHN0YXRlLCBvcmlnLCBkZXN0KSkge1xuICAgICAgICBzZXRQcmVtb3ZlKHN0YXRlLCBvcmlnLCBkZXN0LCB7XG4gICAgICAgICAgICBjdHJsS2V5OiBzdGF0ZS5zdGF0cy5jdHJsS2V5XG4gICAgICAgIH0pO1xuICAgICAgICB1bnNlbGVjdChzdGF0ZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB1bnNlbGVjdChzdGF0ZSk7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0cy51c2VyTW92ZSA9IHVzZXJNb3ZlO1xuZnVuY3Rpb24gZHJvcE5ld1BpZWNlKHN0YXRlLCBvcmlnLCBkZXN0LCBmb3JjZSkge1xuICAgIGNvbnN0IHBpZWNlID0gc3RhdGUucGllY2VzLmdldChvcmlnKTtcbiAgICBpZiAocGllY2UgJiYgKGNhbkRyb3Aoc3RhdGUsIG9yaWcsIGRlc3QpIHx8IGZvcmNlKSkge1xuICAgICAgICBzdGF0ZS5waWVjZXMuZGVsZXRlKG9yaWcpO1xuICAgICAgICBiYXNlTmV3UGllY2Uoc3RhdGUsIHBpZWNlLCBkZXN0LCBmb3JjZSk7XG4gICAgICAgIGNhbGxVc2VyRnVuY3Rpb24oc3RhdGUubW92YWJsZS5ldmVudHMuYWZ0ZXJOZXdQaWVjZSwgcGllY2Uucm9sZSwgZGVzdCwge1xuICAgICAgICAgICAgcHJlZHJvcDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHBpZWNlICYmIGNhblByZWRyb3Aoc3RhdGUsIG9yaWcsIGRlc3QpKSB7XG4gICAgICAgIHNldFByZWRyb3Aoc3RhdGUsIHBpZWNlLnJvbGUsIGRlc3QpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdW5zZXRQcmVtb3ZlKHN0YXRlKTtcbiAgICAgICAgdW5zZXRQcmVkcm9wKHN0YXRlKTtcbiAgICB9XG4gICAgc3RhdGUucGllY2VzLmRlbGV0ZShvcmlnKTtcbiAgICB1bnNlbGVjdChzdGF0ZSk7XG59XG5leHBvcnRzLmRyb3BOZXdQaWVjZSA9IGRyb3BOZXdQaWVjZTtcbmZ1bmN0aW9uIHNlbGVjdFNxdWFyZShzdGF0ZSwga2V5LCBmb3JjZSkge1xuICAgIGNhbGxVc2VyRnVuY3Rpb24oc3RhdGUuZXZlbnRzLnNlbGVjdCwga2V5KTtcbiAgICBpZiAoc3RhdGUuc2VsZWN0ZWQpIHtcbiAgICAgICAgaWYgKHN0YXRlLnNlbGVjdGVkID09PSBrZXkgJiYgIXN0YXRlLmRyYWdnYWJsZS5lbmFibGVkKSB7XG4gICAgICAgICAgICB1bnNlbGVjdChzdGF0ZSk7XG4gICAgICAgICAgICBzdGF0ZS5ob2xkLmNhbmNlbCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChzdGF0ZS5zZWxlY3RhYmxlLmVuYWJsZWQgfHwgZm9yY2UpICYmIHN0YXRlLnNlbGVjdGVkICE9PSBrZXkpIHtcbiAgICAgICAgICAgIGlmICh1c2VyTW92ZShzdGF0ZSwgc3RhdGUuc2VsZWN0ZWQsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5zdGF0cy5kcmFnZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc01vdmFibGUoc3RhdGUsIGtleSkgfHwgaXNQcmVtb3ZhYmxlKHN0YXRlLCBrZXkpKSB7XG4gICAgICAgIHNldFNlbGVjdGVkKHN0YXRlLCBrZXkpO1xuICAgICAgICBzdGF0ZS5ob2xkLnN0YXJ0KCk7XG4gICAgfVxufVxuZXhwb3J0cy5zZWxlY3RTcXVhcmUgPSBzZWxlY3RTcXVhcmU7XG5mdW5jdGlvbiBzZXRTZWxlY3RlZChzdGF0ZSwga2V5KSB7XG4gICAgc3RhdGUuc2VsZWN0ZWQgPSBrZXk7XG4gICAgaWYgKGlzUHJlbW92YWJsZShzdGF0ZSwga2V5KSkge1xuICAgICAgICBzdGF0ZS5wcmVtb3ZhYmxlLmRlc3RzID0gcHJlbW92ZV8xLnByZW1vdmUoc3RhdGUucGllY2VzLCBrZXksIHN0YXRlLnByZW1vdmFibGUuY2FzdGxlKTtcbiAgICB9XG4gICAgZWxzZVxuICAgICAgICBzdGF0ZS5wcmVtb3ZhYmxlLmRlc3RzID0gdW5kZWZpbmVkO1xufVxuZXhwb3J0cy5zZXRTZWxlY3RlZCA9IHNldFNlbGVjdGVkO1xuZnVuY3Rpb24gdW5zZWxlY3Qoc3RhdGUpIHtcbiAgICBzdGF0ZS5zZWxlY3RlZCA9IHVuZGVmaW5lZDtcbiAgICBzdGF0ZS5wcmVtb3ZhYmxlLmRlc3RzID0gdW5kZWZpbmVkO1xuICAgIHN0YXRlLmhvbGQuY2FuY2VsKCk7XG59XG5leHBvcnRzLnVuc2VsZWN0ID0gdW5zZWxlY3Q7XG5mdW5jdGlvbiBpc01vdmFibGUoc3RhdGUsIG9yaWcpIHtcbiAgICBjb25zdCBwaWVjZSA9IHN0YXRlLnBpZWNlcy5nZXQob3JpZyk7XG4gICAgcmV0dXJuICEhcGllY2UgJiYgKHN0YXRlLm1vdmFibGUuY29sb3IgPT09ICdib3RoJyB8fCAoc3RhdGUubW92YWJsZS5jb2xvciA9PT0gcGllY2UuY29sb3IgJiZcbiAgICAgICAgc3RhdGUudHVybkNvbG9yID09PSBwaWVjZS5jb2xvcikpO1xufVxuZnVuY3Rpb24gY2FuTW92ZShzdGF0ZSwgb3JpZywgZGVzdCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIG9yaWcgIT09IGRlc3QgJiYgaXNNb3ZhYmxlKHN0YXRlLCBvcmlnKSAmJiAoc3RhdGUubW92YWJsZS5mcmVlIHx8ICEhKChfYiA9IChfYSA9IHN0YXRlLm1vdmFibGUuZGVzdHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXQob3JpZykpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5pbmNsdWRlcyhkZXN0KSkpO1xufVxuZXhwb3J0cy5jYW5Nb3ZlID0gY2FuTW92ZTtcbmZ1bmN0aW9uIGNhbkRyb3Aoc3RhdGUsIG9yaWcsIGRlc3QpIHtcbiAgICBjb25zdCBwaWVjZSA9IHN0YXRlLnBpZWNlcy5nZXQob3JpZyk7XG4gICAgcmV0dXJuICEhcGllY2UgJiYgKG9yaWcgPT09IGRlc3QgfHwgIXN0YXRlLnBpZWNlcy5oYXMoZGVzdCkpICYmIChzdGF0ZS5tb3ZhYmxlLmNvbG9yID09PSAnYm90aCcgfHwgKHN0YXRlLm1vdmFibGUuY29sb3IgPT09IHBpZWNlLmNvbG9yICYmXG4gICAgICAgIHN0YXRlLnR1cm5Db2xvciA9PT0gcGllY2UuY29sb3IpKTtcbn1cbmZ1bmN0aW9uIGlzUHJlbW92YWJsZShzdGF0ZSwgb3JpZykge1xuICAgIGNvbnN0IHBpZWNlID0gc3RhdGUucGllY2VzLmdldChvcmlnKTtcbiAgICByZXR1cm4gISFwaWVjZSAmJiBzdGF0ZS5wcmVtb3ZhYmxlLmVuYWJsZWQgJiZcbiAgICAgICAgc3RhdGUubW92YWJsZS5jb2xvciA9PT0gcGllY2UuY29sb3IgJiZcbiAgICAgICAgc3RhdGUudHVybkNvbG9yICE9PSBwaWVjZS5jb2xvcjtcbn1cbmZ1bmN0aW9uIGNhblByZW1vdmUoc3RhdGUsIG9yaWcsIGRlc3QpIHtcbiAgICByZXR1cm4gb3JpZyAhPT0gZGVzdCAmJlxuICAgICAgICBpc1ByZW1vdmFibGUoc3RhdGUsIG9yaWcpICYmXG4gICAgICAgIHByZW1vdmVfMS5wcmVtb3ZlKHN0YXRlLnBpZWNlcywgb3JpZywgc3RhdGUucHJlbW92YWJsZS5jYXN0bGUpLmluY2x1ZGVzKGRlc3QpO1xufVxuZnVuY3Rpb24gY2FuUHJlZHJvcChzdGF0ZSwgb3JpZywgZGVzdCkge1xuICAgIGNvbnN0IHBpZWNlID0gc3RhdGUucGllY2VzLmdldChvcmlnKTtcbiAgICBjb25zdCBkZXN0UGllY2UgPSBzdGF0ZS5waWVjZXMuZ2V0KGRlc3QpO1xuICAgIHJldHVybiAhIXBpZWNlICYmXG4gICAgICAgICghZGVzdFBpZWNlIHx8IGRlc3RQaWVjZS5jb2xvciAhPT0gc3RhdGUubW92YWJsZS5jb2xvcikgJiZcbiAgICAgICAgc3RhdGUucHJlZHJvcHBhYmxlLmVuYWJsZWQgJiZcbiAgICAgICAgKHBpZWNlLnJvbGUgIT09ICdwYXduJyB8fCAoZGVzdFsxXSAhPT0gJzEnICYmIGRlc3RbMV0gIT09ICc4JykpICYmXG4gICAgICAgIHN0YXRlLm1vdmFibGUuY29sb3IgPT09IHBpZWNlLmNvbG9yICYmXG4gICAgICAgIHN0YXRlLnR1cm5Db2xvciAhPT0gcGllY2UuY29sb3I7XG59XG5mdW5jdGlvbiBpc0RyYWdnYWJsZShzdGF0ZSwgb3JpZykge1xuICAgIGNvbnN0IHBpZWNlID0gc3RhdGUucGllY2VzLmdldChvcmlnKTtcbiAgICByZXR1cm4gISFwaWVjZSAmJiBzdGF0ZS5kcmFnZ2FibGUuZW5hYmxlZCAmJiAoc3RhdGUubW92YWJsZS5jb2xvciA9PT0gJ2JvdGgnIHx8IChzdGF0ZS5tb3ZhYmxlLmNvbG9yID09PSBwaWVjZS5jb2xvciAmJiAoc3RhdGUudHVybkNvbG9yID09PSBwaWVjZS5jb2xvciB8fCBzdGF0ZS5wcmVtb3ZhYmxlLmVuYWJsZWQpKSk7XG59XG5leHBvcnRzLmlzRHJhZ2dhYmxlID0gaXNEcmFnZ2FibGU7XG5mdW5jdGlvbiBwbGF5UHJlbW92ZShzdGF0ZSkge1xuICAgIGNvbnN0IG1vdmUgPSBzdGF0ZS5wcmVtb3ZhYmxlLmN1cnJlbnQ7XG4gICAgaWYgKCFtb3ZlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgY29uc3Qgb3JpZyA9IG1vdmVbMF0sIGRlc3QgPSBtb3ZlWzFdO1xuICAgIGxldCBzdWNjZXNzID0gZmFsc2U7XG4gICAgaWYgKGNhbk1vdmUoc3RhdGUsIG9yaWcsIGRlc3QpKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGJhc2VVc2VyTW92ZShzdGF0ZSwgb3JpZywgZGVzdCk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0geyBwcmVtb3ZlOiB0cnVlIH07XG4gICAgICAgICAgICBpZiAocmVzdWx0ICE9PSB0cnVlKVxuICAgICAgICAgICAgICAgIG1ldGFkYXRhLmNhcHR1cmVkID0gcmVzdWx0O1xuICAgICAgICAgICAgY2FsbFVzZXJGdW5jdGlvbihzdGF0ZS5tb3ZhYmxlLmV2ZW50cy5hZnRlciwgb3JpZywgZGVzdCwgbWV0YWRhdGEpO1xuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdW5zZXRQcmVtb3ZlKHN0YXRlKTtcbiAgICByZXR1cm4gc3VjY2Vzcztcbn1cbmV4cG9ydHMucGxheVByZW1vdmUgPSBwbGF5UHJlbW92ZTtcbmZ1bmN0aW9uIHBsYXlQcmVkcm9wKHN0YXRlLCB2YWxpZGF0ZSkge1xuICAgIGNvbnN0IGRyb3AgPSBzdGF0ZS5wcmVkcm9wcGFibGUuY3VycmVudDtcbiAgICBsZXQgc3VjY2VzcyA9IGZhbHNlO1xuICAgIGlmICghZHJvcClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh2YWxpZGF0ZShkcm9wKSkge1xuICAgICAgICBjb25zdCBwaWVjZSA9IHtcbiAgICAgICAgICAgIHJvbGU6IGRyb3Aucm9sZSxcbiAgICAgICAgICAgIGNvbG9yOiBzdGF0ZS5tb3ZhYmxlLmNvbG9yXG4gICAgICAgIH07XG4gICAgICAgIGlmIChiYXNlTmV3UGllY2Uoc3RhdGUsIHBpZWNlLCBkcm9wLmtleSkpIHtcbiAgICAgICAgICAgIGNhbGxVc2VyRnVuY3Rpb24oc3RhdGUubW92YWJsZS5ldmVudHMuYWZ0ZXJOZXdQaWVjZSwgZHJvcC5yb2xlLCBkcm9wLmtleSwge1xuICAgICAgICAgICAgICAgIHByZWRyb3A6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdW5zZXRQcmVkcm9wKHN0YXRlKTtcbiAgICByZXR1cm4gc3VjY2Vzcztcbn1cbmV4cG9ydHMucGxheVByZWRyb3AgPSBwbGF5UHJlZHJvcDtcbmZ1bmN0aW9uIGNhbmNlbE1vdmUoc3RhdGUpIHtcbiAgICB1bnNldFByZW1vdmUoc3RhdGUpO1xuICAgIHVuc2V0UHJlZHJvcChzdGF0ZSk7XG4gICAgdW5zZWxlY3Qoc3RhdGUpO1xufVxuZXhwb3J0cy5jYW5jZWxNb3ZlID0gY2FuY2VsTW92ZTtcbmZ1bmN0aW9uIHN0b3Aoc3RhdGUpIHtcbiAgICBzdGF0ZS5tb3ZhYmxlLmNvbG9yID1cbiAgICAgICAgc3RhdGUubW92YWJsZS5kZXN0cyA9XG4gICAgICAgICAgICBzdGF0ZS5hbmltYXRpb24uY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICBjYW5jZWxNb3ZlKHN0YXRlKTtcbn1cbmV4cG9ydHMuc3RvcCA9IHN0b3A7XG5mdW5jdGlvbiBnZXRLZXlBdERvbVBvcyhwb3MsIGFzV2hpdGUsIGJvdW5kcykge1xuICAgIGxldCBmaWxlID0gTWF0aC5mbG9vcig4ICogKHBvc1swXSAtIGJvdW5kcy5sZWZ0KSAvIGJvdW5kcy53aWR0aCk7XG4gICAgaWYgKCFhc1doaXRlKVxuICAgICAgICBmaWxlID0gNyAtIGZpbGU7XG4gICAgbGV0IHJhbmsgPSA3IC0gTWF0aC5mbG9vcig4ICogKHBvc1sxXSAtIGJvdW5kcy50b3ApIC8gYm91bmRzLmhlaWdodCk7XG4gICAgaWYgKCFhc1doaXRlKVxuICAgICAgICByYW5rID0gNyAtIHJhbms7XG4gICAgcmV0dXJuIChmaWxlID49IDAgJiYgZmlsZSA8IDggJiYgcmFuayA+PSAwICYmIHJhbmsgPCA4KSA/IHV0aWxfMS5wb3Mya2V5KFtmaWxlLCByYW5rXSkgOiB1bmRlZmluZWQ7XG59XG5leHBvcnRzLmdldEtleUF0RG9tUG9zID0gZ2V0S2V5QXREb21Qb3M7XG5mdW5jdGlvbiBnZXRTbmFwcGVkS2V5QXREb21Qb3Mob3JpZywgcG9zLCBhc1doaXRlLCBib3VuZHMpIHtcbiAgICBjb25zdCBvcmlnUG9zID0gdXRpbF8xLmtleTJwb3Mob3JpZyk7XG4gICAgY29uc3QgdmFsaWRTbmFwUG9zID0gdXRpbF8xLmFsbFBvcy5maWx0ZXIocG9zMiA9PiB7XG4gICAgICAgIHJldHVybiBwcmVtb3ZlXzEucXVlZW4ob3JpZ1Bvc1swXSwgb3JpZ1Bvc1sxXSwgcG9zMlswXSwgcG9zMlsxXSkgfHwgcHJlbW92ZV8xLmtuaWdodChvcmlnUG9zWzBdLCBvcmlnUG9zWzFdLCBwb3MyWzBdLCBwb3MyWzFdKTtcbiAgICB9KTtcbiAgICBjb25zdCB2YWxpZFNuYXBDZW50ZXJzID0gdmFsaWRTbmFwUG9zLm1hcChwb3MyID0+IHV0aWxfMS5jb21wdXRlU3F1YXJlQ2VudGVyKHV0aWxfMS5wb3Mya2V5KHBvczIpLCBhc1doaXRlLCBib3VuZHMpKTtcbiAgICBjb25zdCB2YWxpZFNuYXBEaXN0YW5jZXMgPSB2YWxpZFNuYXBDZW50ZXJzLm1hcChwb3MyID0+IHV0aWxfMS5kaXN0YW5jZVNxKHBvcywgcG9zMikpO1xuICAgIGNvbnN0IFssIGNsb3Nlc3RTbmFwSW5kZXhdID0gdmFsaWRTbmFwRGlzdGFuY2VzLnJlZHVjZSgoYSwgYiwgaW5kZXgpID0+IGFbMF0gPCBiID8gYSA6IFtiLCBpbmRleF0sIFt2YWxpZFNuYXBEaXN0YW5jZXNbMF0sIDBdKTtcbiAgICByZXR1cm4gdXRpbF8xLnBvczJrZXkodmFsaWRTbmFwUG9zW2Nsb3Nlc3RTbmFwSW5kZXhdKTtcbn1cbmV4cG9ydHMuZ2V0U25hcHBlZEtleUF0RG9tUG9zID0gZ2V0U25hcHBlZEtleUF0RG9tUG9zO1xuZnVuY3Rpb24gd2hpdGVQb3Yocykge1xuICAgIHJldHVybiBzLm9yaWVudGF0aW9uID09PSAnd2hpdGUnO1xufVxuZXhwb3J0cy53aGl0ZVBvdiA9IHdoaXRlUG92O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Ym9hcmQuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9lY2hlc3Nncm91bmQvYm9hcmQuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cancel = exports.end = exports.move = exports.dragNewPiece = exports.start = void 0;\nvar board = __webpack_require__(1);\nvar util = __webpack_require__(0);\nvar draw_1 = __webpack_require__(7);\nvar anim_1 = __webpack_require__(5);\nfunction start(s, e) {\n    if (!e.isTrusted || e.button !== undefined && e.button !== 0) return;\n    if (e.touches && e.touches.length > 1) return;\n    var bounds = s.dom.bounds(),\n        position = util.eventPosition(e),\n        orig = board.getKeyAtDomPos(position, board.whitePov(s), bounds);\n    if (!orig) return;\n    var piece = s.pieces.get(orig);\n    var previouslySelected = s.selected;\n    if (!previouslySelected && s.drawable.enabled && (s.drawable.eraseOnClick || !piece || piece.color !== s.turnColor)) draw_1.clear(s);\n    if (e.cancelable !== false && (!e.touches || !s.movable.color || piece || previouslySelected || pieceCloseTo(s, position))) e.preventDefault();\n    var hadPremove = !!s.premovable.current;\n    var hadPredrop = !!s.predroppable.current;\n    s.stats.ctrlKey = e.ctrlKey;\n    if (s.selected && board.canMove(s, s.selected, orig)) {\n        anim_1.anim(function (state) {\n            return board.selectSquare(state, orig);\n        }, s);\n    } else {\n        board.selectSquare(s, orig);\n    }\n    var stillSelected = s.selected === orig;\n    var element = pieceElementByKey(s, orig);\n    if (piece && element && stillSelected && board.isDraggable(s, orig)) {\n        s.draggable.current = {\n            orig: orig,\n            piece: piece,\n            origPos: position,\n            pos: position,\n            started: s.draggable.autoDistance && s.stats.dragged,\n            element: element,\n            previouslySelected: previouslySelected,\n            originTarget: e.target\n        };\n        element.cgDragging = true;\n        element.classList.add('dragging');\n        var ghost = s.dom.elements.ghost;\n        if (ghost) {\n            ghost.className = \"ghost \" + piece.color + \" \" + piece.role;\n            util.translateAbs(ghost, util.posToTranslateAbs(bounds)(util.key2pos(orig), board.whitePov(s)));\n            util.setVisible(ghost, true);\n        }\n        processDrag(s);\n    } else {\n        if (hadPremove) board.unsetPremove(s);\n        if (hadPredrop) board.unsetPredrop(s);\n    }\n    s.dom.redraw();\n}\nexports.start = start;\nfunction pieceCloseTo(s, pos) {\n    var asWhite = board.whitePov(s),\n        bounds = s.dom.bounds(),\n        radiusSq = Math.pow(bounds.width / 8, 2);\n    for (var key in s.pieces) {\n        var center = util.computeSquareCenter(key, asWhite, bounds);\n        if (util.distanceSq(center, pos) <= radiusSq) return true;\n    }\n    return false;\n}\nfunction dragNewPiece(s, piece, e, force) {\n    var key = 'a0';\n    s.pieces.set(key, piece);\n    s.dom.redraw();\n    var position = util.eventPosition(e);\n    s.draggable.current = {\n        orig: key,\n        piece: piece,\n        origPos: position,\n        pos: position,\n        started: true,\n        element: function element() {\n            return pieceElementByKey(s, key);\n        },\n        originTarget: e.target,\n        newPiece: true,\n        force: !!force\n    };\n    processDrag(s);\n}\nexports.dragNewPiece = dragNewPiece;\nfunction processDrag(s) {\n    requestAnimationFrame(function () {\n        var _a;\n        var cur = s.draggable.current;\n        if (!cur) return;\n        if ((_a = s.animation.current) === null || _a === void 0 ? void 0 : _a.plan.anims.has(cur.orig)) s.animation.current = undefined;\n        var origPiece = s.pieces.get(cur.orig);\n        if (!origPiece || !util.samePiece(origPiece, cur.piece)) cancel(s);else {\n            if (!cur.started && util.distanceSq(cur.pos, cur.origPos) >= Math.pow(s.draggable.distance, 2)) cur.started = true;\n            if (cur.started) {\n                if (typeof cur.element === 'function') {\n                    var found = cur.element();\n                    if (!found) return;\n                    found.cgDragging = true;\n                    found.classList.add('dragging');\n                    cur.element = found;\n                }\n                var bounds = s.dom.bounds();\n                util.translateAbs(cur.element, [cur.pos[0] - bounds.left - bounds.width / 16, cur.pos[1] - bounds.top - bounds.height / 16]);\n            }\n        }\n        processDrag(s);\n    });\n}\nfunction move(s, e) {\n    if (s.draggable.current && (!e.touches || e.touches.length < 2)) {\n        s.draggable.current.pos = util.eventPosition(e);\n    }\n}\nexports.move = move;\nfunction end(s, e) {\n    var cur = s.draggable.current;\n    if (!cur) return;\n    if (e.type === 'touchend' && e.cancelable !== false) e.preventDefault();\n    if (e.type === 'touchend' && cur.originTarget !== e.target && !cur.newPiece) {\n        s.draggable.current = undefined;\n        return;\n    }\n    board.unsetPremove(s);\n    board.unsetPredrop(s);\n    var eventPos = util.eventPosition(e) || cur.pos;\n    var dest = board.getKeyAtDomPos(eventPos, board.whitePov(s), s.dom.bounds());\n    if (dest && cur.started && cur.orig !== dest) {\n        if (cur.newPiece) board.dropNewPiece(s, cur.orig, dest, cur.force);else {\n            s.stats.ctrlKey = e.ctrlKey;\n            if (board.userMove(s, cur.orig, dest)) s.stats.dragged = true;\n        }\n    } else if (cur.newPiece) {\n        s.pieces.delete(cur.orig);\n    } else if (s.draggable.deleteOnDropOff && !dest) {\n        s.pieces.delete(cur.orig);\n        board.callUserFunction(s.events.change);\n    }\n    if (cur.orig === cur.previouslySelected && (cur.orig === dest || !dest)) board.unselect(s);else if (!s.selectable.enabled) board.unselect(s);\n    removeDragElements(s);\n    s.draggable.current = undefined;\n    s.dom.redraw();\n}\nexports.end = end;\nfunction cancel(s) {\n    var cur = s.draggable.current;\n    if (cur) {\n        if (cur.newPiece) s.pieces.delete(cur.orig);\n        s.draggable.current = undefined;\n        board.unselect(s);\n        removeDragElements(s);\n        s.dom.redraw();\n    }\n}\nexports.cancel = cancel;\nfunction removeDragElements(s) {\n    var e = s.dom.elements;\n    if (e.ghost) util.setVisible(e.ghost, false);\n}\nfunction pieceElementByKey(s, key) {\n    var el = s.dom.elements.board.firstChild;\n    while (el) {\n        if (el.cgKey === key && el.tagName === 'PIECE') return el;\n        el = el.nextSibling;\n    }\n    return;\n}\n//# sourceMappingURL=drag.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VjaGVzc2dyb3VuZC9kcmFnLmpzPzUzYjMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJjYW5jZWwiLCJlbmQiLCJtb3ZlIiwiZHJhZ05ld1BpZWNlIiwic3RhcnQiLCJib2FyZCIsInJlcXVpcmUiLCJ1dGlsIiwiZHJhd18xIiwiYW5pbV8xIiwicyIsImUiLCJpc1RydXN0ZWQiLCJidXR0b24iLCJ1bmRlZmluZWQiLCJ0b3VjaGVzIiwibGVuZ3RoIiwiYm91bmRzIiwiZG9tIiwicG9zaXRpb24iLCJldmVudFBvc2l0aW9uIiwib3JpZyIsImdldEtleUF0RG9tUG9zIiwid2hpdGVQb3YiLCJwaWVjZSIsInBpZWNlcyIsImdldCIsInByZXZpb3VzbHlTZWxlY3RlZCIsInNlbGVjdGVkIiwiZHJhd2FibGUiLCJlbmFibGVkIiwiZXJhc2VPbkNsaWNrIiwiY29sb3IiLCJ0dXJuQ29sb3IiLCJjbGVhciIsImNhbmNlbGFibGUiLCJtb3ZhYmxlIiwicGllY2VDbG9zZVRvIiwicHJldmVudERlZmF1bHQiLCJoYWRQcmVtb3ZlIiwicHJlbW92YWJsZSIsImN1cnJlbnQiLCJoYWRQcmVkcm9wIiwicHJlZHJvcHBhYmxlIiwic3RhdHMiLCJjdHJsS2V5IiwiY2FuTW92ZSIsImFuaW0iLCJzZWxlY3RTcXVhcmUiLCJzdGF0ZSIsInN0aWxsU2VsZWN0ZWQiLCJlbGVtZW50IiwicGllY2VFbGVtZW50QnlLZXkiLCJpc0RyYWdnYWJsZSIsImRyYWdnYWJsZSIsIm9yaWdQb3MiLCJwb3MiLCJzdGFydGVkIiwiYXV0b0Rpc3RhbmNlIiwiZHJhZ2dlZCIsIm9yaWdpblRhcmdldCIsInRhcmdldCIsImNnRHJhZ2dpbmciLCJjbGFzc0xpc3QiLCJhZGQiLCJnaG9zdCIsImVsZW1lbnRzIiwiY2xhc3NOYW1lIiwicm9sZSIsInRyYW5zbGF0ZUFicyIsInBvc1RvVHJhbnNsYXRlQWJzIiwia2V5MnBvcyIsInNldFZpc2libGUiLCJwcm9jZXNzRHJhZyIsInVuc2V0UHJlbW92ZSIsInVuc2V0UHJlZHJvcCIsInJlZHJhdyIsImFzV2hpdGUiLCJyYWRpdXNTcSIsIk1hdGgiLCJwb3ciLCJ3aWR0aCIsImtleSIsImNlbnRlciIsImNvbXB1dGVTcXVhcmVDZW50ZXIiLCJkaXN0YW5jZVNxIiwiZm9yY2UiLCJzZXQiLCJuZXdQaWVjZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIl9hIiwiY3VyIiwiYW5pbWF0aW9uIiwicGxhbiIsImFuaW1zIiwiaGFzIiwib3JpZ1BpZWNlIiwic2FtZVBpZWNlIiwiZGlzdGFuY2UiLCJmb3VuZCIsImxlZnQiLCJ0b3AiLCJoZWlnaHQiLCJ0eXBlIiwiZXZlbnRQb3MiLCJkZXN0IiwiZHJvcE5ld1BpZWNlIiwidXNlck1vdmUiLCJkZWxldGUiLCJkZWxldGVPbkRyb3BPZmYiLCJjYWxsVXNlckZ1bmN0aW9uIiwiZXZlbnRzIiwiY2hhbmdlIiwidW5zZWxlY3QiLCJzZWxlY3RhYmxlIiwicmVtb3ZlRHJhZ0VsZW1lbnRzIiwiZWwiLCJmaXJzdENoaWxkIiwiY2dLZXkiLCJ0YWdOYW1lIiwibmV4dFNpYmxpbmciXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQUQsUUFBUUUsTUFBUixHQUFpQkYsUUFBUUcsR0FBUixHQUFjSCxRQUFRSSxJQUFSLEdBQWVKLFFBQVFLLFlBQVIsR0FBdUJMLFFBQVFNLEtBQVIsR0FBZ0IsS0FBSyxDQUExRjtBQUNBLElBQU1DLFFBQVEsbUJBQUFDLENBQVEsQ0FBUixDQUFkO0FBQ0EsSUFBTUMsT0FBTyxtQkFBQUQsQ0FBUSxDQUFSLENBQWI7QUFDQSxJQUFNRSxTQUFTLG1CQUFBRixDQUFRLENBQVIsQ0FBZjtBQUNBLElBQU1HLFNBQVMsbUJBQUFILENBQVEsQ0FBUixDQUFmO0FBQ0EsU0FBU0YsS0FBVCxDQUFlTSxDQUFm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UjtBQUNIO0FBQ0Q7QUFDSDtBQUNEIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY2FuY2VsID0gZXhwb3J0cy5lbmQgPSBleHBvcnRzLm1vdmUgPSBleHBvcnRzLmRyYWdOZXdQaWVjZSA9IGV4cG9ydHMuc3RhcnQgPSB2b2lkIDA7XG5jb25zdCBib2FyZCA9IHJlcXVpcmUoXCIuL2JvYXJkXCIpO1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5jb25zdCBkcmF3XzEgPSByZXF1aXJlKFwiLi9kcmF3XCIpO1xuY29uc3QgYW5pbV8xID0gcmVxdWlyZShcIi4vYW5pbVwiKTtcbmZ1bmN0aW9uIHN0YXJ0KHMsIGUpIHtcbiAgICBpZiAoIWUuaXNUcnVzdGVkIHx8IGUuYnV0dG9uICE9PSB1bmRlZmluZWQgJiYgZS5idXR0b24gIT09IDApXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAoZS50b3VjaGVzICYmIGUudG91Y2hlcy5sZW5ndGggPiAxKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgYm91bmRzID0gcy5kb20uYm91bmRzKCksIHBvc2l0aW9uID0gdXRpbC5ldmVudFBvc2l0aW9uKGUpLCBvcmlnID0gYm9hcmQuZ2V0S2V5QXREb21Qb3MocG9zaXRpb24sIGJvYXJkLndoaXRlUG92KHMpLCBib3VuZHMpO1xuICAgIGlmICghb3JpZylcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHBpZWNlID0gcy5waWVjZXMuZ2V0KG9yaWcpO1xuICAgIGNvbnN0IHByZXZpb3VzbHlTZWxlY3RlZCA9IHMuc2VsZWN0ZWQ7XG4gICAgaWYgKCFwcmV2aW91c2x5U2VsZWN0ZWQgJiYgcy5kcmF3YWJsZS5lbmFibGVkICYmIChzLmRyYXdhYmxlLmVyYXNlT25DbGljayB8fCAoIXBpZWNlIHx8IHBpZWNlLmNvbG9yICE9PSBzLnR1cm5Db2xvcikpKVxuICAgICAgICBkcmF3XzEuY2xlYXIocyk7XG4gICAgaWYgKGUuY2FuY2VsYWJsZSAhPT0gZmFsc2UgJiZcbiAgICAgICAgKCFlLnRvdWNoZXMgfHwgIXMubW92YWJsZS5jb2xvciB8fCBwaWVjZSB8fCBwcmV2aW91c2x5U2VsZWN0ZWQgfHwgcGllY2VDbG9zZVRvKHMsIHBvc2l0aW9uKSkpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBoYWRQcmVtb3ZlID0gISFzLnByZW1vdmFibGUuY3VycmVudDtcbiAgICBjb25zdCBoYWRQcmVkcm9wID0gISFzLnByZWRyb3BwYWJsZS5jdXJyZW50O1xuICAgIHMuc3RhdHMuY3RybEtleSA9IGUuY3RybEtleTtcbiAgICBpZiAocy5zZWxlY3RlZCAmJiBib2FyZC5jYW5Nb3ZlKHMsIHMuc2VsZWN0ZWQsIG9yaWcpKSB7XG4gICAgICAgIGFuaW1fMS5hbmltKHN0YXRlID0+IGJvYXJkLnNlbGVjdFNxdWFyZShzdGF0ZSwgb3JpZyksIHMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYm9hcmQuc2VsZWN0U3F1YXJlKHMsIG9yaWcpO1xuICAgIH1cbiAgICBjb25zdCBzdGlsbFNlbGVjdGVkID0gcy5zZWxlY3RlZCA9PT0gb3JpZztcbiAgICBjb25zdCBlbGVtZW50ID0gcGllY2VFbGVtZW50QnlLZXkocywgb3JpZyk7XG4gICAgaWYgKHBpZWNlICYmIGVsZW1lbnQgJiYgc3RpbGxTZWxlY3RlZCAmJiBib2FyZC5pc0RyYWdnYWJsZShzLCBvcmlnKSkge1xuICAgICAgICBzLmRyYWdnYWJsZS5jdXJyZW50ID0ge1xuICAgICAgICAgICAgb3JpZyxcbiAgICAgICAgICAgIHBpZWNlLFxuICAgICAgICAgICAgb3JpZ1BvczogcG9zaXRpb24sXG4gICAgICAgICAgICBwb3M6IHBvc2l0aW9uLFxuICAgICAgICAgICAgc3RhcnRlZDogcy5kcmFnZ2FibGUuYXV0b0Rpc3RhbmNlICYmIHMuc3RhdHMuZHJhZ2dlZCxcbiAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICBwcmV2aW91c2x5U2VsZWN0ZWQsXG4gICAgICAgICAgICBvcmlnaW5UYXJnZXQ6IGUudGFyZ2V0XG4gICAgICAgIH07XG4gICAgICAgIGVsZW1lbnQuY2dEcmFnZ2luZyA9IHRydWU7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZHJhZ2dpbmcnKTtcbiAgICAgICAgY29uc3QgZ2hvc3QgPSBzLmRvbS5lbGVtZW50cy5naG9zdDtcbiAgICAgICAgaWYgKGdob3N0KSB7XG4gICAgICAgICAgICBnaG9zdC5jbGFzc05hbWUgPSBgZ2hvc3QgJHtwaWVjZS5jb2xvcn0gJHtwaWVjZS5yb2xlfWA7XG4gICAgICAgICAgICB1dGlsLnRyYW5zbGF0ZUFicyhnaG9zdCwgdXRpbC5wb3NUb1RyYW5zbGF0ZUFicyhib3VuZHMpKHV0aWwua2V5MnBvcyhvcmlnKSwgYm9hcmQud2hpdGVQb3YocykpKTtcbiAgICAgICAgICAgIHV0aWwuc2V0VmlzaWJsZShnaG9zdCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2Vzc0RyYWcocyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoaGFkUHJlbW92ZSlcbiAgICAgICAgICAgIGJvYXJkLnVuc2V0UHJlbW92ZShzKTtcbiAgICAgICAgaWYgKGhhZFByZWRyb3ApXG4gICAgICAgICAgICBib2FyZC51bnNldFByZWRyb3Aocyk7XG4gICAgfVxuICAgIHMuZG9tLnJlZHJhdygpO1xufVxuZXhwb3J0cy5zdGFydCA9IHN0YXJ0O1xuZnVuY3Rpb24gcGllY2VDbG9zZVRvKHMsIHBvcykge1xuICAgIGNvbnN0IGFzV2hpdGUgPSBib2FyZC53aGl0ZVBvdihzKSwgYm91bmRzID0gcy5kb20uYm91bmRzKCksIHJhZGl1c1NxID0gTWF0aC5wb3coYm91bmRzLndpZHRoIC8gOCwgMik7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcy5waWVjZXMpIHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gdXRpbC5jb21wdXRlU3F1YXJlQ2VudGVyKGtleSwgYXNXaGl0ZSwgYm91bmRzKTtcbiAgICAgICAgaWYgKHV0aWwuZGlzdGFuY2VTcShjZW50ZXIsIHBvcykgPD0gcmFkaXVzU3EpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZHJhZ05ld1BpZWNlKHMsIHBpZWNlLCBlLCBmb3JjZSkge1xuICAgIGNvbnN0IGtleSA9ICdhMCc7XG4gICAgcy5waWVjZXMuc2V0KGtleSwgcGllY2UpO1xuICAgIHMuZG9tLnJlZHJhdygpO1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdXRpbC5ldmVudFBvc2l0aW9uKGUpO1xuICAgIHMuZHJhZ2dhYmxlLmN1cnJlbnQgPSB7XG4gICAgICAgIG9yaWc6IGtleSxcbiAgICAgICAgcGllY2UsXG4gICAgICAgIG9yaWdQb3M6IHBvc2l0aW9uLFxuICAgICAgICBwb3M6IHBvc2l0aW9uLFxuICAgICAgICBzdGFydGVkOiB0cnVlLFxuICAgICAgICBlbGVtZW50OiAoKSA9PiBwaWVjZUVsZW1lbnRCeUtleShzLCBrZXkpLFxuICAgICAgICBvcmlnaW5UYXJnZXQ6IGUudGFyZ2V0LFxuICAgICAgICBuZXdQaWVjZTogdHJ1ZSxcbiAgICAgICAgZm9yY2U6ICEhZm9yY2VcbiAgICB9O1xuICAgIHByb2Nlc3NEcmFnKHMpO1xufVxuZXhwb3J0cy5kcmFnTmV3UGllY2UgPSBkcmFnTmV3UGllY2U7XG5mdW5jdGlvbiBwcm9jZXNzRHJhZyhzKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBjdXIgPSBzLmRyYWdnYWJsZS5jdXJyZW50O1xuICAgICAgICBpZiAoIWN1cilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKChfYSA9IHMuYW5pbWF0aW9uLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wbGFuLmFuaW1zLmhhcyhjdXIub3JpZykpXG4gICAgICAgICAgICBzLmFuaW1hdGlvbi5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBvcmlnUGllY2UgPSBzLnBpZWNlcy5nZXQoY3VyLm9yaWcpO1xuICAgICAgICBpZiAoIW9yaWdQaWVjZSB8fCAhdXRpbC5zYW1lUGllY2Uob3JpZ1BpZWNlLCBjdXIucGllY2UpKVxuICAgICAgICAgICAgY2FuY2VsKHMpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghY3VyLnN0YXJ0ZWQgJiYgdXRpbC5kaXN0YW5jZVNxKGN1ci5wb3MsIGN1ci5vcmlnUG9zKSA+PSBNYXRoLnBvdyhzLmRyYWdnYWJsZS5kaXN0YW5jZSwgMikpXG4gICAgICAgICAgICAgICAgY3VyLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGN1ci5zdGFydGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXIuZWxlbWVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3VuZCA9IGN1ci5lbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZm91bmQpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kLmNnRHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBmb3VuZC5jbGFzc0xpc3QuYWRkKCdkcmFnZ2luZycpO1xuICAgICAgICAgICAgICAgICAgICBjdXIuZWxlbWVudCA9IGZvdW5kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBib3VuZHMgPSBzLmRvbS5ib3VuZHMoKTtcbiAgICAgICAgICAgICAgICB1dGlsLnRyYW5zbGF0ZUFicyhjdXIuZWxlbWVudCwgW1xuICAgICAgICAgICAgICAgICAgICBjdXIucG9zWzBdIC0gYm91bmRzLmxlZnQgLSBib3VuZHMud2lkdGggLyAxNixcbiAgICAgICAgICAgICAgICAgICAgY3VyLnBvc1sxXSAtIGJvdW5kcy50b3AgLSBib3VuZHMuaGVpZ2h0IC8gMTZcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzRHJhZyhzKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIG1vdmUocywgZSkge1xuICAgIGlmIChzLmRyYWdnYWJsZS5jdXJyZW50ICYmICghZS50b3VjaGVzIHx8IGUudG91Y2hlcy5sZW5ndGggPCAyKSkge1xuICAgICAgICBzLmRyYWdnYWJsZS5jdXJyZW50LnBvcyA9IHV0aWwuZXZlbnRQb3NpdGlvbihlKTtcbiAgICB9XG59XG5leHBvcnRzLm1vdmUgPSBtb3ZlO1xuZnVuY3Rpb24gZW5kKHMsIGUpIHtcbiAgICBjb25zdCBjdXIgPSBzLmRyYWdnYWJsZS5jdXJyZW50O1xuICAgIGlmICghY3VyKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKGUudHlwZSA9PT0gJ3RvdWNoZW5kJyAmJiBlLmNhbmNlbGFibGUgIT09IGZhbHNlKVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKGUudHlwZSA9PT0gJ3RvdWNoZW5kJyAmJiBjdXIub3JpZ2luVGFyZ2V0ICE9PSBlLnRhcmdldCAmJiAhY3VyLm5ld1BpZWNlKSB7XG4gICAgICAgIHMuZHJhZ2dhYmxlLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYm9hcmQudW5zZXRQcmVtb3ZlKHMpO1xuICAgIGJvYXJkLnVuc2V0UHJlZHJvcChzKTtcbiAgICBjb25zdCBldmVudFBvcyA9IHV0aWwuZXZlbnRQb3NpdGlvbihlKSB8fCBjdXIucG9zO1xuICAgIGNvbnN0IGRlc3QgPSBib2FyZC5nZXRLZXlBdERvbVBvcyhldmVudFBvcywgYm9hcmQud2hpdGVQb3YocyksIHMuZG9tLmJvdW5kcygpKTtcbiAgICBpZiAoZGVzdCAmJiBjdXIuc3RhcnRlZCAmJiBjdXIub3JpZyAhPT0gZGVzdCkge1xuICAgICAgICBpZiAoY3VyLm5ld1BpZWNlKVxuICAgICAgICAgICAgYm9hcmQuZHJvcE5ld1BpZWNlKHMsIGN1ci5vcmlnLCBkZXN0LCBjdXIuZm9yY2UpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHMuc3RhdHMuY3RybEtleSA9IGUuY3RybEtleTtcbiAgICAgICAgICAgIGlmIChib2FyZC51c2VyTW92ZShzLCBjdXIub3JpZywgZGVzdCkpXG4gICAgICAgICAgICAgICAgcy5zdGF0cy5kcmFnZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChjdXIubmV3UGllY2UpIHtcbiAgICAgICAgcy5waWVjZXMuZGVsZXRlKGN1ci5vcmlnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocy5kcmFnZ2FibGUuZGVsZXRlT25Ecm9wT2ZmICYmICFkZXN0KSB7XG4gICAgICAgIHMucGllY2VzLmRlbGV0ZShjdXIub3JpZyk7XG4gICAgICAgIGJvYXJkLmNhbGxVc2VyRnVuY3Rpb24ocy5ldmVudHMuY2hhbmdlKTtcbiAgICB9XG4gICAgaWYgKGN1ci5vcmlnID09PSBjdXIucHJldmlvdXNseVNlbGVjdGVkICYmIChjdXIub3JpZyA9PT0gZGVzdCB8fCAhZGVzdCkpXG4gICAgICAgIGJvYXJkLnVuc2VsZWN0KHMpO1xuICAgIGVsc2UgaWYgKCFzLnNlbGVjdGFibGUuZW5hYmxlZClcbiAgICAgICAgYm9hcmQudW5zZWxlY3Qocyk7XG4gICAgcmVtb3ZlRHJhZ0VsZW1lbnRzKHMpO1xuICAgIHMuZHJhZ2dhYmxlLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgcy5kb20ucmVkcmF3KCk7XG59XG5leHBvcnRzLmVuZCA9IGVuZDtcbmZ1bmN0aW9uIGNhbmNlbChzKSB7XG4gICAgY29uc3QgY3VyID0gcy5kcmFnZ2FibGUuY3VycmVudDtcbiAgICBpZiAoY3VyKSB7XG4gICAgICAgIGlmIChjdXIubmV3UGllY2UpXG4gICAgICAgICAgICBzLnBpZWNlcy5kZWxldGUoY3VyLm9yaWcpO1xuICAgICAgICBzLmRyYWdnYWJsZS5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICBib2FyZC51bnNlbGVjdChzKTtcbiAgICAgICAgcmVtb3ZlRHJhZ0VsZW1lbnRzKHMpO1xuICAgICAgICBzLmRvbS5yZWRyYXcoKTtcbiAgICB9XG59XG5leHBvcnRzLmNhbmNlbCA9IGNhbmNlbDtcbmZ1bmN0aW9uIHJlbW92ZURyYWdFbGVtZW50cyhzKSB7XG4gICAgY29uc3QgZSA9IHMuZG9tLmVsZW1lbnRzO1xuICAgIGlmIChlLmdob3N0KVxuICAgICAgICB1dGlsLnNldFZpc2libGUoZS5naG9zdCwgZmFsc2UpO1xufVxuZnVuY3Rpb24gcGllY2VFbGVtZW50QnlLZXkocywga2V5KSB7XG4gICAgbGV0IGVsID0gcy5kb20uZWxlbWVudHMuYm9hcmQuZmlyc3RDaGlsZDtcbiAgICB3aGlsZSAoZWwpIHtcbiAgICAgICAgaWYgKGVsLmNnS2V5ID09PSBrZXkgJiYgZWwudGFnTmFtZSA9PT0gJ1BJRUNFJylcbiAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgZWwgPSBlbC5uZXh0U2libGluZztcbiAgICB9XG4gICAgcmV0dXJuO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZHJhZy5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2VjaGVzc2dyb3VuZC9kcmFnLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.write = exports.read = exports.initial = void 0;\nvar util_1 = __webpack_require__(0);\nvar cg = __webpack_require__(4);\nexports.initial = 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR';\nvar roles = { p: 'pawn', r: 'rook', n: 'knight', b: 'bishop', q: 'queen', k: 'king', e: 'elephant' };\nvar letters = { pawn: 'p', rook: 'r', knight: 'n', bishop: 'b', queen: 'q', king: 'k', elephant: 'e' };\nfunction read(fen) {\n    if (fen === 'start') fen = exports.initial;\n    var pieces = new Map();\n    var row = 7,\n        col = 0;\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = fen[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var c = _step.value;\n\n            switch (c) {\n                case ' ':\n                    return pieces;\n                case '/':\n                    --row;\n                    if (row < 0) return pieces;\n                    col = 0;\n                    break;\n                case '~':\n                    var piece = pieces.get(util_1.pos2key([col, row]));\n                    if (piece) piece.promoted = true;\n                    break;\n                default:\n                    var nb = c.charCodeAt(0);\n                    if (nb < 57) col += nb - 48;else {\n                        var role = c.toLowerCase();\n                        pieces.set(util_1.pos2key([col, row]), {\n                            role: roles[role],\n                            color: c === role ? 'black' : 'white'\n                        });\n                        ++col;\n                    }\n            }\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n\n    return pieces;\n}\nexports.read = read;\nfunction write(pieces) {\n    return util_1.invRanks.map(function (y) {\n        return cg.files.map(function (x) {\n            var piece = pieces.get(x + y);\n            if (piece) {\n                var letter = letters[piece.role];\n                return piece.color === 'white' ? letter.toUpperCase() : letter;\n            } else return '1';\n        }).join('');\n    }).join('/').replace(/1{2,}/g, function (s) {\n        return s.length.toString();\n    });\n}\nexports.write = write;\n//# sourceMappingURL=fen.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VjaGVzc2dyb3VuZC9mZW4uanM/MTc1ZSJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIndyaXRlIiwicmVhZCIsImluaXRpYWwiLCJ1dGlsXzEiLCJyZXF1aXJlIiwiY2ciLCJyb2xlcyIsInAiLCJyIiwibiIsImIiLCJxIiwiayIsImUiLCJsZXR0ZXJzIiwicGF3biIsInJvb2siLCJrbmlnaHQiLCJiaXNob3AiLCJxdWVlbiIsImtpbmciLCJlbGVwaGFudCIsImZlbiIsInBpZWNlcyIsIk1hcCIsInJvdyIsImNvbCIsImMiLCJwaWVjZSIsImdldCIsInBvczJrZXkiLCJwcm9tb3RlZCIsIm5iIiwiY2hhckNvZGVBdCIsInJvbGUiLCJ0b0xvd2VyQ2FzZSIsInNldCIsImNvbG9yIiwiaW52UmFua3MiLCJtYXAiLCJmaWxlcyIsIngiLCJ5IiwibGV0dGVyIiwidG9VcHBlckNhc2UiLCJqb2luIiwicmVwbGFjZSIsInMiLCJsZW5ndGgiLCJ0b1N0cmluZyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBRCxRQUFRRSxLQUFSLEdBQWdCRixRQUFRRyxJQUFSLEdBQWVILFFBQVFJLE9BQVIsR0FBa0IsS0FBSyxDQUF0RDtBQUNBLElBQU1DLFNBQVMsbUJBQUFDLENBQVEsQ0FBUixDQUFmO0FBQ0EsSUFBTUMsS0FBSyxtQkFBQUQsQ0FBUSxDQUFSLENBQVg7QUFDQU4sUUFBUUksT0FBUixHQUFrQiw2Q0FBbEI7QUFDQSxJQUFNSSxRQUFRLEVBQUVDLEdBQUcsTUFBTCxFQUFhQyxHQUFHLE1BQWhCLEVBQXdCQyxHQUFHLFFBQTNCLEVBQXFDQyxHQUFHLFFBQXhDLEVBQWtEQyxHQUFHLE9BQXJELEVBQThEQyxHQUFHLE1BQWpFLEVBQXlFQyxHQUFHLFVBQTVFLEVBQWQ7QUFDQSxJQUFNQyxVQUFVLEVBQUVDLE1BQU0sR0FBUixFQUFhQyxNQUFNLEdBQW5CLEVBQXdCQyxRQUFRLEdBQWhDLEVBQXFDQyxRQUFRLEdBQTdDLEVBQWtEQyxPQUFPLEdBQXpELEVBQThEQyxNQUFNLEdBQXBFLEVBQXlFQyxVQUFVLEdBQW5GLEVBQWhCO0FBQ0EsU0FBU3BCLElBQVQsQ0FBY3FCLEdBQWQsRUFBbUI7QUFDZixRQUFJQSxRQUFRLE9BQVosRUFDSUEsTUFBTXhCLFFBQVFJLE9BQWQ7QUFDSixRQUFNcUIsU0FBUyxJQUFJQyxHQUFKLEVBQWY7QUFDQSxRQUFJQyxNQUFNLENBQVY7QUFBQSxRQUFhQyxNQUFNLENBQW5CO0FBSmU7QUFBQTtBQUFBOztBQUFBO0FBS2YsNkJBQWdCSixHQUFoQiw4SEFBcUI7QUFBQSxnQkFBVkssQ0FBVTs7QUFDakIsb0JBQVFBLENBQVI7QUFDSSxxQkFBSyxHQUFMO0FBQVUsMkJBQU9KLE1BQVA7QUFDVixxQkFBSyxHQUFMO0FBQ0ksc0JBQUVFLEdBQUY7QUFDQSx3QkFBSUEsTUFBTSxDQUFWLEVBQ0ksT0FBT0YsTUFBUDtBQUNKRywwQkFBTSxDQUFOO0FBQ0E7QUFDSixxQkFBSyxHQUFMO0FBQ0ksd0JBQU1FLFFBQVFMLE9BQU9NLEdBQVAsQ0FBVzFCLE9BQU8yQixPQUFQLENBQWUsQ0FBQ0osR0FBRCxFQUFNRCxHQUFOLENBQWYsQ0FBWCxDQUFkO0FBQ0Esd0JBQUlHLEtBQUosRUFDSUEsTUFBTUcsUUFBTixHQUFpQixJQUFqQjtBQUNKO0FBQ0o7QUFDSSx3QkFBTUMsS0FBS0wsRUFBRU0sVUFBRixDQUFhLENBQWIsQ0FBWDtBQUNBLHdCQUFJRCxLQUFLLEVBQVQsRUFDSU4sT0FBT00sS0FBSyxFQUFaLENBREosS0FFSztBQUNELDRCQUFNRSxPQUFPUCxFQUFFUSxXQUFGLEVBQWI7QUFDQVosK0JBQU9hLEdBQVAsQ0FBV2pDLE9BQU8yQixPQUFQLENBQWUsQ0FBQ0osR0FBRCxFQUFNRCxHQUFOLENBQWYsQ0FBWCxFQUF1QztBQUNuQ1Msa0NBQU01QixNQUFNNEIsSUFBTixDQUQ2QjtBQUVuQ0csbUNBQU9WLE1BQU1PLElBQU4sR0FBYSxPQUFiLEdBQXVCO0FBRksseUJBQXZDO0FBSUEsMEJBQUVSLEdBQUY7QUFDSDtBQXhCVDtBQTBCSDtBQWhDYztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQWlDZixXQUFPSCxNQUFQO0FBQ0g7QUFDRHpCLFFBQVFHLElBQVIsR0FBZUEsSUFBZjtBQUNBLFNBQVNELEtBQVQsQ0FBZXVCLE1BQWYsRUFBdUI7QUFDbkIsV0FBT3BCLE9BQU9tQyxRQUFQLENBQWdCQyxHQUFoQixDQUFvQjtBQUFBLGVBQUtsQyxHQUFHbUMsS0FBSCxDQUFTRCxHQUFULENBQWEsYUFBSztBQUM5QyxnQkFBTVgsUUFBUUwsT0FBT00sR0FBUCxDQUFXWSxJQUFJQyxDQUFmLENBQWQ7QUFDQSxnQkFBSWQsS0FBSixFQUFXO0FBQ1Asb0JBQU1lLFNBQVM3QixRQUFRYyxNQUFNTSxJQUFkLENBQWY7QUFDQSx1QkFBT04sTUFBTVMsS0FBTixLQUFnQixPQUFoQixHQUEwQk0sT0FBT0MsV0FBUCxFQUExQixHQUFpREQsTUFBeEQ7QUFDSCxhQUhELE1BS0ksT0FBTyxHQUFQO0FBQ1AsU0FSK0IsRUFRN0JFLElBUjZCLENBUXhCLEVBUndCLENBQUw7QUFBQSxLQUFwQixFQVFNQSxJQVJOLENBUVcsR0FSWCxFQVFnQkMsT0FSaEIsQ0FRd0IsUUFSeEIsRUFRa0M7QUFBQSxlQUFLQyxFQUFFQyxNQUFGLENBQVNDLFFBQVQsRUFBTDtBQUFBLEtBUmxDLENBQVA7QUFTSDtBQUNEbkQsUUFBUUUsS0FBUixHQUFnQkEsS0FBaEI7QUFDQSIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLndyaXRlID0gZXhwb3J0cy5yZWFkID0gZXhwb3J0cy5pbml0aWFsID0gdm9pZCAwO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbmNvbnN0IGNnID0gcmVxdWlyZShcIi4vdHlwZXNcIik7XG5leHBvcnRzLmluaXRpYWwgPSAncm5icWtibnIvcHBwcHBwcHAvOC84LzgvOC9QUFBQUFBQUC9STkJRS0JOUic7XG5jb25zdCByb2xlcyA9IHsgcDogJ3Bhd24nLCByOiAncm9vaycsIG46ICdrbmlnaHQnLCBiOiAnYmlzaG9wJywgcTogJ3F1ZWVuJywgazogJ2tpbmcnLCBlOiAnZWxlcGhhbnQnIH07XG5jb25zdCBsZXR0ZXJzID0geyBwYXduOiAncCcsIHJvb2s6ICdyJywga25pZ2h0OiAnbicsIGJpc2hvcDogJ2InLCBxdWVlbjogJ3EnLCBraW5nOiAnaycsIGVsZXBoYW50OiAnZScgfTtcbmZ1bmN0aW9uIHJlYWQoZmVuKSB7XG4gICAgaWYgKGZlbiA9PT0gJ3N0YXJ0JylcbiAgICAgICAgZmVuID0gZXhwb3J0cy5pbml0aWFsO1xuICAgIGNvbnN0IHBpZWNlcyA9IG5ldyBNYXAoKTtcbiAgICBsZXQgcm93ID0gNywgY29sID0gMDtcbiAgICBmb3IgKGNvbnN0IGMgb2YgZmVuKSB7XG4gICAgICAgIHN3aXRjaCAoYykge1xuICAgICAgICAgICAgY2FzZSAnICc6IHJldHVybiBwaWVjZXM7XG4gICAgICAgICAgICBjYXNlICcvJzpcbiAgICAgICAgICAgICAgICAtLXJvdztcbiAgICAgICAgICAgICAgICBpZiAocm93IDwgMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBpZWNlcztcbiAgICAgICAgICAgICAgICBjb2wgPSAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnfic6XG4gICAgICAgICAgICAgICAgY29uc3QgcGllY2UgPSBwaWVjZXMuZ2V0KHV0aWxfMS5wb3Mya2V5KFtjb2wsIHJvd10pKTtcbiAgICAgICAgICAgICAgICBpZiAocGllY2UpXG4gICAgICAgICAgICAgICAgICAgIHBpZWNlLnByb21vdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29uc3QgbmIgPSBjLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICAgICAgaWYgKG5iIDwgNTcpXG4gICAgICAgICAgICAgICAgICAgIGNvbCArPSBuYiAtIDQ4O1xuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByb2xlID0gYy50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBwaWVjZXMuc2V0KHV0aWxfMS5wb3Mya2V5KFtjb2wsIHJvd10pLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlOiByb2xlc1tyb2xlXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBjID09PSByb2xlID8gJ2JsYWNrJyA6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICArK2NvbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBpZWNlcztcbn1cbmV4cG9ydHMucmVhZCA9IHJlYWQ7XG5mdW5jdGlvbiB3cml0ZShwaWVjZXMpIHtcbiAgICByZXR1cm4gdXRpbF8xLmludlJhbmtzLm1hcCh5ID0+IGNnLmZpbGVzLm1hcCh4ID0+IHtcbiAgICAgICAgY29uc3QgcGllY2UgPSBwaWVjZXMuZ2V0KHggKyB5KTtcbiAgICAgICAgaWYgKHBpZWNlKSB7XG4gICAgICAgICAgICBjb25zdCBsZXR0ZXIgPSBsZXR0ZXJzW3BpZWNlLnJvbGVdO1xuICAgICAgICAgICAgcmV0dXJuIHBpZWNlLmNvbG9yID09PSAnd2hpdGUnID8gbGV0dGVyLnRvVXBwZXJDYXNlKCkgOiBsZXR0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuICcxJztcbiAgICB9KS5qb2luKCcnKSkuam9pbignLycpLnJlcGxhY2UoLzF7Mix9L2csIHMgPT4gcy5sZW5ndGgudG9TdHJpbmcoKSk7XG59XG5leHBvcnRzLndyaXRlID0gd3JpdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mZW4uanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9lY2hlc3Nncm91bmQvZmVuLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ranks = exports.files = exports.colors = void 0;\nexports.colors = ['white', 'black'];\nexports.files = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'];\nexports.ranks = ['1', '2', '3', '4', '5', '6', '7', '8'];\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VjaGVzc2dyb3VuZC90eXBlcy5qcz9hODkwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwicmFua3MiLCJmaWxlcyIsImNvbG9ycyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBRCxRQUFRRSxLQUFSLEdBQWdCRixRQUFRRyxLQUFSLEdBQWdCSCxRQUFRSSxNQUFSLEdBQWlCLEtBQUssQ0FBdEQ7QUFDQUosUUFBUUksTUFBUixHQUFpQixDQUFDLE9BQUQsRUFBVSxPQUFWLENBQWpCO0FBQ0FKLFFBQVFHLEtBQVIsR0FBZ0IsQ0FBQyxHQUFELEVBQU0sR0FBTixFQUFXLEdBQVgsRUFBZ0IsR0FBaEIsRUFBcUIsR0FBckIsRUFBMEIsR0FBMUIsRUFBK0IsR0FBL0IsRUFBb0MsR0FBcEMsQ0FBaEI7QUFDQUgsUUFBUUUsS0FBUixHQUFnQixDQUFDLEdBQUQsRUFBTSxHQUFOLEVBQVcsR0FBWCxFQUFnQixHQUFoQixFQUFxQixHQUFyQixFQUEwQixHQUExQixFQUErQixHQUEvQixFQUFvQyxHQUFwQyxDQUFoQjtBQUNBIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmFua3MgPSBleHBvcnRzLmZpbGVzID0gZXhwb3J0cy5jb2xvcnMgPSB2b2lkIDA7XG5leHBvcnRzLmNvbG9ycyA9IFsnd2hpdGUnLCAnYmxhY2snXTtcbmV4cG9ydHMuZmlsZXMgPSBbJ2EnLCAnYicsICdjJywgJ2QnLCAnZScsICdmJywgJ2cnLCAnaCddO1xuZXhwb3J0cy5yYW5rcyA9IFsnMScsICcyJywgJzMnLCAnNCcsICc1JywgJzYnLCAnNycsICc4J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlcy5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2VjaGVzc2dyb3VuZC90eXBlcy5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.render = exports.anim = void 0;\nvar util = __webpack_require__(0);\nfunction anim(mutation, state) {\n    return state.animation.enabled ? animate(mutation, state) : render(mutation, state);\n}\nexports.anim = anim;\nfunction render(mutation, state) {\n    var result = mutation(state);\n    state.dom.redraw();\n    return result;\n}\nexports.render = render;\nfunction makePiece(key, piece) {\n    return {\n        key: key,\n        pos: util.key2pos(key),\n        piece: piece\n    };\n}\nfunction closer(piece, pieces) {\n    return pieces.sort(function (p1, p2) {\n        return util.distanceSq(piece.pos, p1.pos) - util.distanceSq(piece.pos, p2.pos);\n    })[0];\n}\nfunction computePlan(prevPieces, current) {\n    var anims = new Map(),\n        animedOrigs = [],\n        fadings = new Map(),\n        missings = [],\n        news = [],\n        prePieces = new Map();\n    var curP = void 0,\n        preP = void 0,\n        vector = void 0;\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = prevPieces[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var _step$value = _slicedToArray(_step.value, 2),\n                k = _step$value[0],\n                p = _step$value[1];\n\n            prePieces.set(k, makePiece(k, p));\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n        for (var _iterator2 = util.allKeys[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var key = _step2.value;\n\n            curP = current.pieces.get(key);\n            preP = prePieces.get(key);\n            if (curP) {\n                if (preP) {\n                    if (!util.samePiece(curP, preP.piece)) {\n                        missings.push(preP);\n                        news.push(makePiece(key, curP));\n                    }\n                } else news.push(makePiece(key, curP));\n            } else if (preP) missings.push(preP);\n        }\n    } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n            }\n        } finally {\n            if (_didIteratorError2) {\n                throw _iteratorError2;\n            }\n        }\n    }\n\n    var _iteratorNormalCompletion3 = true;\n    var _didIteratorError3 = false;\n    var _iteratorError3 = undefined;\n\n    try {\n        var _loop = function _loop() {\n            var newP = _step3.value;\n\n            preP = closer(newP, missings.filter(function (p) {\n                return util.samePiece(newP.piece, p.piece);\n            }));\n            if (preP) {\n                vector = [preP.pos[0] - newP.pos[0], preP.pos[1] - newP.pos[1]];\n                anims.set(newP.key, vector.concat(vector));\n                animedOrigs.push(preP.key);\n            }\n        };\n\n        for (var _iterator3 = news[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            _loop();\n        }\n    } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                _iterator3.return();\n            }\n        } finally {\n            if (_didIteratorError3) {\n                throw _iteratorError3;\n            }\n        }\n    }\n\n    var _iteratorNormalCompletion4 = true;\n    var _didIteratorError4 = false;\n    var _iteratorError4 = undefined;\n\n    try {\n        for (var _iterator4 = missings[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var p = _step4.value;\n\n            if (!animedOrigs.includes(p.key)) fadings.set(p.key, p.piece);\n        }\n    } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                _iterator4.return();\n            }\n        } finally {\n            if (_didIteratorError4) {\n                throw _iteratorError4;\n            }\n        }\n    }\n\n    return {\n        anims: anims,\n        fadings: fadings\n    };\n}\nfunction step(state, now) {\n    var cur = state.animation.current;\n    if (cur === undefined) {\n        if (!state.dom.destroyed) state.dom.redrawNow();\n        return;\n    }\n    var rest = 1 - (now - cur.start) * cur.frequency;\n    if (rest <= 0) {\n        state.animation.current = undefined;\n        state.dom.redrawNow();\n    } else {\n        var ease = easing(rest);\n        var _iteratorNormalCompletion5 = true;\n        var _didIteratorError5 = false;\n        var _iteratorError5 = undefined;\n\n        try {\n            for (var _iterator5 = cur.plan.anims.values()[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                var cfg = _step5.value;\n\n                cfg[2] = cfg[0] * ease;\n                cfg[3] = cfg[1] * ease;\n            }\n        } catch (err) {\n            _didIteratorError5 = true;\n            _iteratorError5 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                    _iterator5.return();\n                }\n            } finally {\n                if (_didIteratorError5) {\n                    throw _iteratorError5;\n                }\n            }\n        }\n\n        state.dom.redrawNow(true);\n        requestAnimationFrame(function () {\n            var now = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : performance.now();\n            return step(state, now);\n        });\n    }\n}\nfunction animate(mutation, state) {\n    var prevPieces = new Map(state.pieces);\n    var result = mutation(state);\n    var plan = computePlan(prevPieces, state);\n    if (plan.anims.size || plan.fadings.size) {\n        var alreadyRunning = state.animation.current && state.animation.current.start;\n        state.animation.current = {\n            start: performance.now(),\n            frequency: 1 / state.animation.duration,\n            plan: plan\n        };\n        if (!alreadyRunning) step(state, performance.now());\n    } else {\n        state.dom.redraw();\n    }\n    return result;\n}\nfunction easing(t) {\n    return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n}\n//# sourceMappingURL=anim.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VjaGVzc2dyb3VuZC9hbmltLmpzPzEzOGUiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJyZW5kZXIiLCJhbmltIiwidXRpbCIsInJlcXVpcmUiLCJtdXRhdGlvbiIsInN0YXRlIiwiYW5pbWF0aW9uIiwiZW5hYmxlZCIsImFuaW1hdGUiLCJyZXN1bHQiLCJkb20iLCJyZWRyYXciLCJtYWtlUGllY2UiLCJrZXkiLCJwaWVjZSIsInBvcyIsImtleTJwb3MiLCJjbG9zZXIiLCJwaWVjZXMiLCJzb3J0IiwicDEiLCJwMiIsImRpc3RhbmNlU3EiLCJjb21wdXRlUGxhbiIsInByZXZQaWVjZXMiLCJjdXJyZW50IiwiYW5pbXMiLCJNYXAiLCJhbmltZWRPcmlncyIsImZhZGluZ3MiLCJtaXNzaW5ncyIsIm5ld3MiLCJwcmVQaWVjZXMiLCJjdXJQIiwicHJlUCIsInZlY3RvciIsImsiLCJwIiwic2V0IiwiYWxsS2V5cyIsImdldCIsInNhbWVQaWVjZSIsInB1c2giLCJuZXdQIiwiZmlsdGVyIiwiY29uY2F0IiwiaW5jbHVkZXMiLCJzdGVwIiwibm93IiwiY3VyIiwidW5kZWZpbmVkIiwiZGVzdHJveWVkIiwicmVkcmF3Tm93IiwicmVzdCIsInN0YXJ0IiwiZnJlcXVlbmN5IiwiZWFzZSIsImVhc2luZyIsInBsYW4iLCJ2YWx1ZXMiLCJjZmciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJwZXJmb3JtYW5jZSIsInNpemUiLCJhbHJlYWR5UnVubmluZyIsImR1cmF0aW9uIiwidCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUFDQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0FELFFBQVFFLE1BQVIsR0FBaUJGLFFBQVFHLElBQVIsR0FBZSxLQUFLLENBQXJDO0FBQ0EsSUFBTUMsT0FBTyxtQkFBQUMsQ0FBUSxDQUFSLENBQWI7QUFDQSxTQUFTRixJQUFULENBQWNHLFFBQWQsRUFBd0JDLEtBQXhCLEVBQStCO0FBQzNCLFdBQU9BLE1BQU1DLFNBQU4sQ0FBZ0JDLE9BQWhCLEdBQTBCQyxRQUFRSixRQUFSLEVBQWtCQyxLQUFsQixDQUExQixHQUFxREwsT0FBT0ksUUFBUCxFQUFpQkMsS0FBakIsQ0FBNUQ7QUFDSDtBQUNEUCxRQUFRRyxJQUFSLEdBQWVBLElBQWY7QUFDQSxTQUFTRCxNQUFULENBQWdCSSxRQUFoQixFQUEwQkMsS0FBMUIsRUFBaUM7QUFDN0IsUUFBTUksU0FBU0wsU0FBU0MsS0FBVCxDQUFmO0FBQ0FBLFVBQU1LLEdBQU4sQ0FBVUMsTUFBVjtBQUNBLFdBQU9GLE1BQVA7QUFDSDtBQUNEWCxRQUFRRSxNQUFSLEdBQWlCQSxNQUFqQjtBQUNBLFNBQVNZLFNBQVQsQ0FBbUJDLEdBQW5CLEVBQXdCQyxLQUF4QixFQUErQjtBQUMzQixXQUFPO0FBQ0hELGFBQUtBLEdBREY7QUFFSEUsYUFBS2IsS0FBS2MsT0FBTCxDQUFhSCxHQUFiLENBRkY7QUFHSEMsZUFBT0E7QUFISixLQUFQO0FBS0g7QUFDRCxTQUFTRyxNQUFULENBQWdCSCxLQUFoQixFQUF1QkksTUFBdkIsRUFBK0I7QUFDM0IsV0FBT0EsT0FBT0MsSUFBUCxDQUFZLFVBQUNDLEVBQUQsRUFBS0MsRUFBTCxFQUFZO0FBQzNCLGVBQU9uQixLQUFLb0IsVUFBTCxDQUFnQlIsTUFBTUMsR0FBdEIsRUFBMkJLLEdBQUdMLEdBQTlCLElBQXFDYixLQUFLb0IsVUFBTCxDQUFnQlIsTUFBTUMsR0FBdEIsRUFBMkJNLEdBQUdOLEdBQTlCLENBQTVDO0FBQ0gsS0FGTSxFQUVKLENBRkksQ0FBUDtBQUdIO0FBQ0QsU0FBU1EsV0FBVCxDQUFxQkMsVUFBckIsRUFBaUNDLE9BQWpDLEVBQTBDO0FBQ3RDLFFBQU1DLFFBQVEsSUFBSUMsR0FBSixFQUFkO0FBQUEsUUFBeUJDLGNBQWMsRUFBdkM7QUFBQSxRQUEyQ0MsVUFBVSxJQUFJRixHQUFKLEVBQXJEO0FBQUEsUUFBZ0VHLFdBQVcsRUFBM0U7QUFBQSxRQUErRUMsT0FBTyxFQUF0RjtBQUFBLFFBQTBGQyxZQUFZLElBQUlMLEdBQUosRUFBdEc7QUFDQSxRQUFJTSxhQUFKO0FBQUEsUUFBVUMsYUFBVjtBQUFBLFFBQWdCQyxlQUFoQjtBQUZzQztBQUFBO0FBQUE7O0FBQUE7QUFHdEMsNkJBQXFCWCxVQUFyQiw4SEFBaUM7QUFBQTtBQUFBLGdCQUFyQlksQ0FBcUI7QUFBQSxnQkFBbEJDLENBQWtCOztBQUM3Qkwsc0JBQVVNLEdBQVYsQ0FBY0YsQ0FBZCxFQUFpQnhCLFVBQVV3QixDQUFWLEVBQWFDLENBQWIsQ0FBakI7QUFDSDtBQUxxQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQU10Qyw4QkFBa0JuQyxLQUFLcUMsT0FBdkIsbUlBQWdDO0FBQUEsZ0JBQXJCMUIsR0FBcUI7O0FBQzVCb0IsbUJBQU9SLFFBQVFQLE1BQVIsQ0FBZXNCLEdBQWYsQ0FBbUIzQixHQUFuQixDQUFQO0FBQ0FxQixtQkFBT0YsVUFBVVEsR0FBVixDQUFjM0IsR0FBZCxDQUFQO0FBQ0EsZ0JBQUlvQixJQUFKLEVBQVU7QUFDTixvQkFBSUMsSUFBSixFQUFVO0FBQ04sd0JBQUksQ0FBQ2hDLEtBQUt1QyxTQUFMLENBQWVSLElBQWYsRUFBcUJDLEtBQUtwQixLQUExQixDQUFMLEVBQXVDO0FBQ25DZ0IsaUNBQVNZLElBQVQsQ0FBY1IsSUFBZDtBQUNBSCw2QkFBS1csSUFBTCxDQUFVOUIsVUFBVUMsR0FBVixFQUFlb0IsSUFBZixDQUFWO0FBQ0g7QUFDSixpQkFMRCxNQU9JRixLQUFLVyxJQUFMLENBQVU5QixVQUFVQyxHQUFWLEVBQWVvQixJQUFmLENBQVY7QUFDUCxhQVRELE1BVUssSUFBSUMsSUFBSixFQUNESixTQUFTWSxJQUFULENBQWNSLElBQWQ7QUFDUDtBQXJCcUM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBLGdCQXNCM0JTLElBdEIyQjs7QUF1QmxDVCxtQkFBT2pCLE9BQU8wQixJQUFQLEVBQWFiLFNBQVNjLE1BQVQsQ0FBZ0I7QUFBQSx1QkFBSzFDLEtBQUt1QyxTQUFMLENBQWVFLEtBQUs3QixLQUFwQixFQUEyQnVCLEVBQUV2QixLQUE3QixDQUFMO0FBQUEsYUFBaEIsQ0FBYixDQUFQO0FBQ0EsZ0JBQUlvQixJQUFKLEVBQVU7QUFDTkMseUJBQVMsQ0FBQ0QsS0FBS25CLEdBQUwsQ0FBUyxDQUFULElBQWM0QixLQUFLNUIsR0FBTCxDQUFTLENBQVQsQ0FBZixFQUE0Qm1CLEtBQUtuQixHQUFMLENBQVMsQ0FBVCxJQUFjNEIsS0FBSzVCLEdBQUwsQ0FBUyxDQUFULENBQTFDLENBQVQ7QUFDQVcsc0JBQU1ZLEdBQU4sQ0FBVUssS0FBSzlCLEdBQWYsRUFBb0JzQixPQUFPVSxNQUFQLENBQWNWLE1BQWQsQ0FBcEI7QUFDQVAsNEJBQVljLElBQVosQ0FBaUJSLEtBQUtyQixHQUF0QjtBQUNIO0FBNUJpQzs7QUFzQnRDLDhCQUFtQmtCLElBQW5CLG1JQUF5QjtBQUFBO0FBT3hCO0FBN0JxQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQThCdEMsOEJBQWdCRCxRQUFoQixtSUFBMEI7QUFBQSxnQkFBZk8sQ0FBZTs7QUFDdEIsZ0JBQUksQ0FBQ1QsWUFBWWtCLFFBQVosQ0FBcUJULEVBQUV4QixHQUF2QixDQUFMLEVBQ0lnQixRQUFRUyxHQUFSLENBQVlELEVBQUV4QixHQUFkLEVBQW1Cd0IsRUFBRXZCLEtBQXJCO0FBQ1A7QUFqQ3FDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBa0N0QyxXQUFPO0FBQ0hZLGVBQU9BLEtBREo7QUFFSEcsaUJBQVNBO0FBRk4sS0FBUDtBQUlIO0FBQ0QsU0FBU2tCLElBQVQsQ0FBYzFDLEtBQWQsRUFBcUIyQyxHQUFyQixFQUEwQjtBQUN0QixRQUFNQyxNQUFNNUMsTUFBTUMsU0FBTixDQUFnQm1CLE9BQTVCO0FBQ0EsUUFBSXdCLFFBQVFDLFNBQVosRUFBdUI7QUFDbkIsWUFBSSxDQUFDN0MsTUFBTUssR0FBTixDQUFVeUMsU0FBZixFQUNJOUMsTUFBTUssR0FBTixDQUFVMEMsU0FBVjtBQUNKO0FBQ0g7QUFDRCxRQUFNQyxPQUFPLElBQUksQ0FBQ0wsTUFBTUMsSUFBSUssS0FBWCxJQUFvQkwsSUFBSU0sU0FBekM7QUFDQSxRQUFJRixRQUFRLENBQVosRUFBZTtBQUNYaEQsY0FBTUMsU0FBTixDQUFnQm1CLE9BQWhCLEdBQTBCeUIsU0FBMUI7QUFDQTdDLGNBQU1LLEdBQU4sQ0FBVTBDLFNBQVY7QUFDSCxLQUhELE1BSUs7QUFDRCxZQUFNSSxPQUFPQyxPQUFPSixJQUFQLENBQWI7QUFEQztBQUFBO0FBQUE7O0FBQUE7QUFFRCxrQ0FBa0JKLElBQUlTLElBQUosQ0FBU2hDLEtBQVQsQ0FBZWlDLE1BQWYsRUFBbEIsbUlBQTJDO0FBQUEsb0JBQWhDQyxHQUFnQzs7QUFDdkNBLG9CQUFJLENBQUosSUFBU0EsSUFBSSxDQUFKLElBQVNKLElBQWxCO0FBQ0FJLG9CQUFJLENBQUosSUFBU0EsSUFBSSxDQUFKLElBQVNKLElBQWxCO0FBQ0g7QUFMQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQU1EbkQsY0FBTUssR0FBTixDQUFVMEMsU0FBVixDQUFvQixJQUFwQjtBQUNBUyw4QkFBc0I7QUFBQSxnQkFBQ2IsR0FBRCx1RUFBT2MsWUFBWWQsR0FBWixFQUFQO0FBQUEsbUJBQTZCRCxLQUFLMUMsS0FBTCxFQUFZMkMsR0FBWixDQUE3QjtBQUFBLFNBQXRCO0FBQ0g7QUFDSjtBQUNELFNBQVN4QyxPQUFULENBQWlCSixRQUFqQixFQUEyQkMsS0FBM0IsRUFBa0M7QUFDOUIsUUFBTW1CLGFBQWEsSUFBSUcsR0FBSixDQUFRdEIsTUFBTWEsTUFBZCxDQUFuQjtBQUNBLFFBQU1ULFNBQVNMLFNBQVNDLEtBQVQsQ0FBZjtBQUNBLFFBQU1xRCxPQUFPbkMsWUFBWUMsVUFBWixFQUF3Qm5CLEtBQXhCLENBQWI7QUFDQSxRQUFJcUQsS0FBS2hDLEtBQUwsQ0FBV3FDLElBQVgsSUFBbUJMLEtBQUs3QixPQUFMLENBQWFrQyxJQUFwQyxFQUEwQztBQUN0QyxZQUFNQyxpQkFBaUIzRCxNQUFNQyxTQUFOLENBQWdCbUIsT0FBaEIsSUFBMkJwQixNQUFNQyxTQUFOLENBQWdCbUIsT0FBaEIsQ0FBd0I2QixLQUExRTtBQUNBakQsY0FBTUMsU0FBTixDQUFnQm1CLE9BQWhCLEdBQTBCO0FBQ3RCNkIsbUJBQU9RLFlBQVlkLEdBQVosRUFEZTtBQUV0Qk8sdUJBQVcsSUFBSWxELE1BQU1DLFNBQU4sQ0FBZ0IyRCxRQUZUO0FBR3RCUCxrQkFBTUE7QUFIZ0IsU0FBMUI7QUFLQSxZQUFJLENBQUNNLGNBQUwsRUFDSWpCLEtBQUsxQyxLQUFMLEVBQVl5RCxZQUFZZCxHQUFaLEVBQVo7QUFDUCxLQVRELE1BVUs7QUFDRDNDLGNBQU1LLEdBQU4sQ0FBVUMsTUFBVjtBQUNIO0FBQ0QsV0FBT0YsTUFBUDtBQUNIO0FBQ0QsU0FBU2dELE1BQVQsQ0FBZ0JTLENBQWhCLEVBQW1CO0FBQ2YsV0FBT0EsSUFBSSxHQUFKLEdBQVUsSUFBSUEsQ0FBSixHQUFRQSxDQUFSLEdBQVlBLENBQXRCLEdBQTBCLENBQUNBLElBQUksQ0FBTCxLQUFXLElBQUlBLENBQUosR0FBUSxDQUFuQixLQUF5QixJQUFJQSxDQUFKLEdBQVEsQ0FBakMsSUFBc0MsQ0FBdkU7QUFDSDtBQUNEIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVuZGVyID0gZXhwb3J0cy5hbmltID0gdm9pZCAwO1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5mdW5jdGlvbiBhbmltKG11dGF0aW9uLCBzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5hbmltYXRpb24uZW5hYmxlZCA/IGFuaW1hdGUobXV0YXRpb24sIHN0YXRlKSA6IHJlbmRlcihtdXRhdGlvbiwgc3RhdGUpO1xufVxuZXhwb3J0cy5hbmltID0gYW5pbTtcbmZ1bmN0aW9uIHJlbmRlcihtdXRhdGlvbiwgc3RhdGUpIHtcbiAgICBjb25zdCByZXN1bHQgPSBtdXRhdGlvbihzdGF0ZSk7XG4gICAgc3RhdGUuZG9tLnJlZHJhdygpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLnJlbmRlciA9IHJlbmRlcjtcbmZ1bmN0aW9uIG1ha2VQaWVjZShrZXksIHBpZWNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIHBvczogdXRpbC5rZXkycG9zKGtleSksXG4gICAgICAgIHBpZWNlOiBwaWVjZVxuICAgIH07XG59XG5mdW5jdGlvbiBjbG9zZXIocGllY2UsIHBpZWNlcykge1xuICAgIHJldHVybiBwaWVjZXMuc29ydCgocDEsIHAyKSA9PiB7XG4gICAgICAgIHJldHVybiB1dGlsLmRpc3RhbmNlU3EocGllY2UucG9zLCBwMS5wb3MpIC0gdXRpbC5kaXN0YW5jZVNxKHBpZWNlLnBvcywgcDIucG9zKTtcbiAgICB9KVswXTtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVQbGFuKHByZXZQaWVjZXMsIGN1cnJlbnQpIHtcbiAgICBjb25zdCBhbmltcyA9IG5ldyBNYXAoKSwgYW5pbWVkT3JpZ3MgPSBbXSwgZmFkaW5ncyA9IG5ldyBNYXAoKSwgbWlzc2luZ3MgPSBbXSwgbmV3cyA9IFtdLCBwcmVQaWVjZXMgPSBuZXcgTWFwKCk7XG4gICAgbGV0IGN1clAsIHByZVAsIHZlY3RvcjtcbiAgICBmb3IgKGNvbnN0IFtrLCBwXSBvZiBwcmV2UGllY2VzKSB7XG4gICAgICAgIHByZVBpZWNlcy5zZXQoaywgbWFrZVBpZWNlKGssIHApKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgdXRpbC5hbGxLZXlzKSB7XG4gICAgICAgIGN1clAgPSBjdXJyZW50LnBpZWNlcy5nZXQoa2V5KTtcbiAgICAgICAgcHJlUCA9IHByZVBpZWNlcy5nZXQoa2V5KTtcbiAgICAgICAgaWYgKGN1clApIHtcbiAgICAgICAgICAgIGlmIChwcmVQKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1dGlsLnNhbWVQaWVjZShjdXJQLCBwcmVQLnBpZWNlKSkge1xuICAgICAgICAgICAgICAgICAgICBtaXNzaW5ncy5wdXNoKHByZVApO1xuICAgICAgICAgICAgICAgICAgICBuZXdzLnB1c2gobWFrZVBpZWNlKGtleSwgY3VyUCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBuZXdzLnB1c2gobWFrZVBpZWNlKGtleSwgY3VyUCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByZVApXG4gICAgICAgICAgICBtaXNzaW5ncy5wdXNoKHByZVApO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IG5ld1Agb2YgbmV3cykge1xuICAgICAgICBwcmVQID0gY2xvc2VyKG5ld1AsIG1pc3NpbmdzLmZpbHRlcihwID0+IHV0aWwuc2FtZVBpZWNlKG5ld1AucGllY2UsIHAucGllY2UpKSk7XG4gICAgICAgIGlmIChwcmVQKSB7XG4gICAgICAgICAgICB2ZWN0b3IgPSBbcHJlUC5wb3NbMF0gLSBuZXdQLnBvc1swXSwgcHJlUC5wb3NbMV0gLSBuZXdQLnBvc1sxXV07XG4gICAgICAgICAgICBhbmltcy5zZXQobmV3UC5rZXksIHZlY3Rvci5jb25jYXQodmVjdG9yKSk7XG4gICAgICAgICAgICBhbmltZWRPcmlncy5wdXNoKHByZVAua2V5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IHAgb2YgbWlzc2luZ3MpIHtcbiAgICAgICAgaWYgKCFhbmltZWRPcmlncy5pbmNsdWRlcyhwLmtleSkpXG4gICAgICAgICAgICBmYWRpbmdzLnNldChwLmtleSwgcC5waWVjZSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFuaW1zOiBhbmltcyxcbiAgICAgICAgZmFkaW5nczogZmFkaW5nc1xuICAgIH07XG59XG5mdW5jdGlvbiBzdGVwKHN0YXRlLCBub3cpIHtcbiAgICBjb25zdCBjdXIgPSBzdGF0ZS5hbmltYXRpb24uY3VycmVudDtcbiAgICBpZiAoY3VyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKCFzdGF0ZS5kb20uZGVzdHJveWVkKVxuICAgICAgICAgICAgc3RhdGUuZG9tLnJlZHJhd05vdygpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlc3QgPSAxIC0gKG5vdyAtIGN1ci5zdGFydCkgKiBjdXIuZnJlcXVlbmN5O1xuICAgIGlmIChyZXN0IDw9IDApIHtcbiAgICAgICAgc3RhdGUuYW5pbWF0aW9uLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHN0YXRlLmRvbS5yZWRyYXdOb3coKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGVhc2UgPSBlYXNpbmcocmVzdCk7XG4gICAgICAgIGZvciAoY29uc3QgY2ZnIG9mIGN1ci5wbGFuLmFuaW1zLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBjZmdbMl0gPSBjZmdbMF0gKiBlYXNlO1xuICAgICAgICAgICAgY2ZnWzNdID0gY2ZnWzFdICogZWFzZTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5kb20ucmVkcmF3Tm93KHRydWUpO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpKSA9PiBzdGVwKHN0YXRlLCBub3cpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhbmltYXRlKG11dGF0aW9uLCBzdGF0ZSkge1xuICAgIGNvbnN0IHByZXZQaWVjZXMgPSBuZXcgTWFwKHN0YXRlLnBpZWNlcyk7XG4gICAgY29uc3QgcmVzdWx0ID0gbXV0YXRpb24oc3RhdGUpO1xuICAgIGNvbnN0IHBsYW4gPSBjb21wdXRlUGxhbihwcmV2UGllY2VzLCBzdGF0ZSk7XG4gICAgaWYgKHBsYW4uYW5pbXMuc2l6ZSB8fCBwbGFuLmZhZGluZ3Muc2l6ZSkge1xuICAgICAgICBjb25zdCBhbHJlYWR5UnVubmluZyA9IHN0YXRlLmFuaW1hdGlvbi5jdXJyZW50ICYmIHN0YXRlLmFuaW1hdGlvbi5jdXJyZW50LnN0YXJ0O1xuICAgICAgICBzdGF0ZS5hbmltYXRpb24uY3VycmVudCA9IHtcbiAgICAgICAgICAgIHN0YXJ0OiBwZXJmb3JtYW5jZS5ub3coKSxcbiAgICAgICAgICAgIGZyZXF1ZW5jeTogMSAvIHN0YXRlLmFuaW1hdGlvbi5kdXJhdGlvbixcbiAgICAgICAgICAgIHBsYW46IHBsYW5cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFhbHJlYWR5UnVubmluZylcbiAgICAgICAgICAgIHN0ZXAoc3RhdGUsIHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN0YXRlLmRvbS5yZWRyYXcoKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGVhc2luZyh0KSB7XG4gICAgcmV0dXJuIHQgPCAwLjUgPyA0ICogdCAqIHQgKiB0IDogKHQgLSAxKSAqICgyICogdCAtIDIpICogKDIgKiB0IC0gMikgKyAxO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5pbS5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2VjaGVzc2dyb3VuZC9hbmltLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.configure = void 0;\nvar board_1 = __webpack_require__(1);\nvar fen_1 = __webpack_require__(3);\nfunction configure(state, config) {\n    var _a;\n    if ((_a = config.movable) === null || _a === void 0 ? void 0 : _a.dests) state.movable.dests = undefined;\n    merge(state, config);\n    if (config.fen) {\n        state.pieces = fen_1.read(config.fen);\n        state.drawable.shapes = [];\n    }\n    if (config.hasOwnProperty('check')) board_1.setCheck(state, config.check || false);\n    if (config.hasOwnProperty('lastMove') && !config.lastMove) state.lastMove = undefined;else if (config.lastMove) state.lastMove = config.lastMove;\n    if (state.selected) board_1.setSelected(state, state.selected);\n    if (!state.animation.duration || state.animation.duration < 100) state.animation.enabled = false;\n    if (!state.movable.rookCastle && state.movable.dests) {\n        var rank = state.movable.color === 'white' ? '1' : '8',\n            kingStartPos = 'e' + rank,\n            dests = state.movable.dests.get(kingStartPos),\n            king = state.pieces.get(kingStartPos);\n        if (!dests || !king || king.role !== 'king') return;\n        state.movable.dests.set(kingStartPos, dests.filter(function (d) {\n            return !(d === 'a' + rank && dests.includes('c' + rank)) && !(d === 'h' + rank && dests.includes('g' + rank));\n        }));\n    }\n}\nexports.configure = configure;\nfunction merge(base, extend) {\n    for (var key in extend) {\n        if (isObject(base[key]) && isObject(extend[key])) merge(base[key], extend[key]);else base[key] = extend[key];\n    }\n}\nfunction isObject(o) {\n    return (typeof o === \"undefined\" ? \"undefined\" : _typeof(o)) === 'object';\n}\n//# sourceMappingURL=config.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VjaGVzc2dyb3VuZC9jb25maWcuanM/MTA1MiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImNvbmZpZ3VyZSIsImJvYXJkXzEiLCJyZXF1aXJlIiwiZmVuXzEiLCJzdGF0ZSIsImNvbmZpZyIsIl9hIiwibW92YWJsZSIsImRlc3RzIiwidW5kZWZpbmVkIiwibWVyZ2UiLCJmZW4iLCJwaWVjZXMiLCJyZWFkIiwiZHJhd2FibGUiLCJzaGFwZXMiLCJoYXNPd25Qcm9wZXJ0eSIsInNldENoZWNrIiwiY2hlY2siLCJsYXN0TW92ZSIsInNlbGVjdGVkIiwic2V0U2VsZWN0ZWQiLCJhbmltYXRpb24iLCJkdXJhdGlvbiIsImVuYWJsZWQiLCJyb29rQ2FzdGxlIiwicmFuayIsImNvbG9yIiwia2luZ1N0YXJ0UG9zIiwiZ2V0Iiwia2luZyIsInJvbGUiLCJzZXQiLCJmaWx0ZXIiLCJkIiwiaW5jbHVkZXMiLCJiYXNlIiwiZXh0ZW5kIiwia2V5IiwiaXNPYmplY3QiLCJvIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQUQsUUFBUUUsU0FBUixHQUFvQixLQUFLLENBQXpCO0FBQ0EsSUFBTUMsVUFBVSxtQkFBQUMsQ0FBUSxDQUFSLENBQWhCO0FBQ0EsSUFBTUMsUUFBUSxtQkFBQUQsQ0FBUSxDQUFSLENBQWQ7QUFDQSxTQUFTRixTQUFULENBQW1CSSxLQUFuQixFQUEwQkMsTUFBMUIsRUFBa0M7QUFDOUIsUUFBSUMsRUFBSjtBQUNBLFFBQUksQ0FBQ0EsS0FBS0QsT0FBT0UsT0FBYixNQUEwQixJQUExQixJQUFrQ0QsT0FBTyxLQUFLLENBQTlDLEdBQWtELEtBQUssQ0FBdkQsR0FBMkRBLEdBQUdFLEtBQWxFLEVBQ0lKLE1BQU1HLE9BQU4sQ0FBY0MsS0FBZCxHQUFzQkMsU0FBdEI7QUFDSkMsVUFBTU4sS0FBTixFQUFhQyxNQUFiO0FBQ0EsUUFBSUEsT0FBT00sR0FBWCxFQUFnQjtBQUNaUCxjQUFNUSxNQUFOLEdBQWVULE1BQU1VLElBQU4sQ0FBV1IsT0FBT00sR0FBbEIsQ0FBZjtBQUNBUCxjQUFNVSxRQUFOLENBQWVDLE1BQWYsR0FBd0IsRUFBeEI7QUFDSDtBQUNELFFBQUlWLE9BQU9XLGNBQVAsQ0FBc0IsT0FBdEIsQ0FBSixFQUNJZixRQUFRZ0IsUUFBUixDQUFpQmIsS0FBakIsRUFBd0JDLE9BQU9hLEtBQVAsSUFBZ0IsS0FBeEM7QUFDSixRQUFJYixPQUFPVyxjQUFQLENBQXNCLFVBQXRCLEtBQXFDLENBQUNYLE9BQU9jLFFBQWpELEVBQ0lmLE1BQU1lLFFBQU4sR0FBaUJWLFNBQWpCLENBREosS0FFSyxJQUFJSixPQUFPYyxRQUFYLEVBQ0RmLE1BQU1lLFFBQU4sR0FBaUJkLE9BQU9jLFFBQXhCO0FBQ0osUUFBSWYsTUFBTWdCLFFBQVYsRUFDSW5CLFFBQVFvQixXQUFSLENBQW9CakIsS0FBcEIsRUFBMkJBLE1BQU1nQixRQUFqQztBQUNKLFFBQUksQ0FBQ2hCLE1BQU1rQixTQUFOLENBQWdCQyxRQUFqQixJQUE2Qm5CLE1BQU1rQixTQUFOLENBQWdCQyxRQUFoQixHQUEyQixHQUE1RCxFQUNJbkIsTUFBTWtCLFNBQU4sQ0FBZ0JFLE9BQWhCLEdBQTBCLEtBQTFCO0FBQ0osUUFBSSxDQUFDcEIsTUFBTUcsT0FBTixDQUFja0IsVUFBZixJQUE2QnJCLE1BQU1HLE9BQU4sQ0FBY0MsS0FBL0MsRUFBc0Q7QUFDbEQsWUFBTWtCLE9BQU90QixNQUFNRyxPQUFOLENBQWNvQixLQUFkLEtBQXdCLE9BQXhCLEdBQWtDLEdBQWxDLEdBQXdDLEdBQXJEO0FBQUEsWUFBMERDLGVBQWUsTUFBTUYsSUFBL0U7QUFBQSxZQUFxRmxCLFFBQVFKLE1BQU1HLE9BQU4sQ0FBY0MsS0FBZCxDQUFvQnFCLEdBQXBCLENBQXdCRCxZQUF4QixDQUE3RjtBQUFBLFlBQW9JRSxPQUFPMUIsTUFBTVEsTUFBTixDQUFhaUIsR0FBYixDQUFpQkQsWUFBakIsQ0FBM0k7QUFDQSxZQUFJLENBQUNwQixLQUFELElBQVUsQ0FBQ3NCLElBQVgsSUFBbUJBLEtBQUtDLElBQUwsS0FBYyxNQUFyQyxFQUNJO0FBQ0ozQixjQUFNRyxPQUFOLENBQWNDLEtBQWQsQ0FBb0J3QixHQUFwQixDQUF3QkosWUFBeEIsRUFBc0NwQixNQUFNeUIsTUFBTixDQUFhO0FBQUEsbUJBQUssRUFBR0MsTUFBTSxNQUFNUixJQUFiLElBQXNCbEIsTUFBTTJCLFFBQU4sQ0FBZSxNQUFNVCxJQUFyQixDQUF4QixLQUNwRCxFQUFHUSxNQUFNLE1BQU1SLElBQWIsSUFBc0JsQixNQUFNMkIsUUFBTixDQUFlLE1BQU1ULElBQXJCLENBQXhCLENBRCtDO0FBQUEsU0FBYixDQUF0QztBQUVIO0FBQ0o7QUFDRDVCLFFBQVFFLFNBQVIsR0FBb0JBLFNBQXBCO0FBQ0EsU0FBU1UsS0FBVCxDQUFlMEIsSUFBZixFQUFxQkMsTUFBckIsRUFBNkI7QUFDekIsU0FBSyxJQUFNQyxHQUFYLElBQWtCRCxNQUFsQixFQUEwQjtBQUN0QixZQUFJRSxTQUFTSCxLQUFLRSxHQUFMLENBQVQsS0FBdUJDLFNBQVNGLE9BQU9DLEdBQVAsQ0FBVCxDQUEzQixFQUNJNUIsTUFBTTBCLEtBQUtFLEdBQUwsQ0FBTixFQUFpQkQsT0FBT0MsR0FBUCxDQUFqQixFQURKLEtBR0lGLEtBQUtFLEdBQUwsSUFBWUQsT0FBT0MsR0FBUCxDQUFaO0FBQ1A7QUFDSjtBQUNELFNBQVNDLFFBQVQsQ0FBa0JDLENBQWxCLEVBQXFCO0FBQ2pCLFdBQU8sUUFBT0EsQ0FBUCx5Q0FBT0EsQ0FBUCxPQUFhLFFBQXBCO0FBQ0g7QUFDRCIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbmZpZ3VyZSA9IHZvaWQgMDtcbmNvbnN0IGJvYXJkXzEgPSByZXF1aXJlKFwiLi9ib2FyZFwiKTtcbmNvbnN0IGZlbl8xID0gcmVxdWlyZShcIi4vZmVuXCIpO1xuZnVuY3Rpb24gY29uZmlndXJlKHN0YXRlLCBjb25maWcpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKChfYSA9IGNvbmZpZy5tb3ZhYmxlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVzdHMpXG4gICAgICAgIHN0YXRlLm1vdmFibGUuZGVzdHMgPSB1bmRlZmluZWQ7XG4gICAgbWVyZ2Uoc3RhdGUsIGNvbmZpZyk7XG4gICAgaWYgKGNvbmZpZy5mZW4pIHtcbiAgICAgICAgc3RhdGUucGllY2VzID0gZmVuXzEucmVhZChjb25maWcuZmVuKTtcbiAgICAgICAgc3RhdGUuZHJhd2FibGUuc2hhcGVzID0gW107XG4gICAgfVxuICAgIGlmIChjb25maWcuaGFzT3duUHJvcGVydHkoJ2NoZWNrJykpXG4gICAgICAgIGJvYXJkXzEuc2V0Q2hlY2soc3RhdGUsIGNvbmZpZy5jaGVjayB8fCBmYWxzZSk7XG4gICAgaWYgKGNvbmZpZy5oYXNPd25Qcm9wZXJ0eSgnbGFzdE1vdmUnKSAmJiAhY29uZmlnLmxhc3RNb3ZlKVxuICAgICAgICBzdGF0ZS5sYXN0TW92ZSA9IHVuZGVmaW5lZDtcbiAgICBlbHNlIGlmIChjb25maWcubGFzdE1vdmUpXG4gICAgICAgIHN0YXRlLmxhc3RNb3ZlID0gY29uZmlnLmxhc3RNb3ZlO1xuICAgIGlmIChzdGF0ZS5zZWxlY3RlZClcbiAgICAgICAgYm9hcmRfMS5zZXRTZWxlY3RlZChzdGF0ZSwgc3RhdGUuc2VsZWN0ZWQpO1xuICAgIGlmICghc3RhdGUuYW5pbWF0aW9uLmR1cmF0aW9uIHx8IHN0YXRlLmFuaW1hdGlvbi5kdXJhdGlvbiA8IDEwMClcbiAgICAgICAgc3RhdGUuYW5pbWF0aW9uLmVuYWJsZWQgPSBmYWxzZTtcbiAgICBpZiAoIXN0YXRlLm1vdmFibGUucm9va0Nhc3RsZSAmJiBzdGF0ZS5tb3ZhYmxlLmRlc3RzKSB7XG4gICAgICAgIGNvbnN0IHJhbmsgPSBzdGF0ZS5tb3ZhYmxlLmNvbG9yID09PSAnd2hpdGUnID8gJzEnIDogJzgnLCBraW5nU3RhcnRQb3MgPSAnZScgKyByYW5rLCBkZXN0cyA9IHN0YXRlLm1vdmFibGUuZGVzdHMuZ2V0KGtpbmdTdGFydFBvcyksIGtpbmcgPSBzdGF0ZS5waWVjZXMuZ2V0KGtpbmdTdGFydFBvcyk7XG4gICAgICAgIGlmICghZGVzdHMgfHwgIWtpbmcgfHwga2luZy5yb2xlICE9PSAna2luZycpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHN0YXRlLm1vdmFibGUuZGVzdHMuc2V0KGtpbmdTdGFydFBvcywgZGVzdHMuZmlsdGVyKGQgPT4gISgoZCA9PT0gJ2EnICsgcmFuaykgJiYgZGVzdHMuaW5jbHVkZXMoJ2MnICsgcmFuaykpICYmXG4gICAgICAgICAgICAhKChkID09PSAnaCcgKyByYW5rKSAmJiBkZXN0cy5pbmNsdWRlcygnZycgKyByYW5rKSkpKTtcbiAgICB9XG59XG5leHBvcnRzLmNvbmZpZ3VyZSA9IGNvbmZpZ3VyZTtcbmZ1bmN0aW9uIG1lcmdlKGJhc2UsIGV4dGVuZCkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGV4dGVuZCkge1xuICAgICAgICBpZiAoaXNPYmplY3QoYmFzZVtrZXldKSAmJiBpc09iamVjdChleHRlbmRba2V5XSkpXG4gICAgICAgICAgICBtZXJnZShiYXNlW2tleV0sIGV4dGVuZFtrZXldKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgYmFzZVtrZXldID0gZXh0ZW5kW2tleV07XG4gICAgfVxufVxuZnVuY3Rpb24gaXNPYmplY3Qobykge1xuICAgIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCc7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9lY2hlc3Nncm91bmQvY29uZmlnLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n");

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.clear = exports.cancel = exports.end = exports.move = exports.processDraw = exports.start = void 0;\nvar board_1 = __webpack_require__(1);\nvar util_1 = __webpack_require__(0);\nvar brushes = ['green', 'red', 'blue', 'yellow'];\nfunction start(state, e) {\n    if (e.touches && e.touches.length > 1) return;\n    e.stopPropagation();\n    e.preventDefault();\n    e.ctrlKey ? board_1.unselect(state) : board_1.cancelMove(state);\n    var pos = util_1.eventPosition(e),\n        orig = board_1.getKeyAtDomPos(pos, board_1.whitePov(state), state.dom.bounds());\n    if (!orig) return;\n    state.drawable.current = {\n        orig: orig,\n        pos: pos,\n        brush: eventBrush(e),\n        snapToValidMove: state.drawable.defaultSnapToValidMove\n    };\n    processDraw(state);\n}\nexports.start = start;\nfunction processDraw(state) {\n    requestAnimationFrame(function () {\n        var cur = state.drawable.current;\n        if (cur) {\n            var keyAtDomPos = board_1.getKeyAtDomPos(cur.pos, board_1.whitePov(state), state.dom.bounds());\n            if (!keyAtDomPos) {\n                cur.snapToValidMove = false;\n            }\n            var mouseSq = cur.snapToValidMove ? board_1.getSnappedKeyAtDomPos(cur.orig, cur.pos, board_1.whitePov(state), state.dom.bounds()) : keyAtDomPos;\n            if (mouseSq !== cur.mouseSq) {\n                cur.mouseSq = mouseSq;\n                cur.dest = mouseSq !== cur.orig ? mouseSq : undefined;\n                state.dom.redrawNow();\n            }\n            processDraw(state);\n        }\n    });\n}\nexports.processDraw = processDraw;\nfunction move(state, e) {\n    if (state.drawable.current) state.drawable.current.pos = util_1.eventPosition(e);\n}\nexports.move = move;\nfunction end(state) {\n    var cur = state.drawable.current;\n    if (cur) {\n        if (cur.mouseSq) addShape(state.drawable, cur);\n        cancel(state);\n    }\n}\nexports.end = end;\nfunction cancel(state) {\n    if (state.drawable.current) {\n        state.drawable.current = undefined;\n        state.dom.redraw();\n    }\n}\nexports.cancel = cancel;\nfunction clear(state) {\n    if (state.drawable.shapes.length) {\n        state.drawable.shapes = [];\n        state.dom.redraw();\n        onChange(state.drawable);\n    }\n}\nexports.clear = clear;\nfunction eventBrush(e) {\n    var _a;\n    var modA = (e.shiftKey || e.ctrlKey) && util_1.isRightButton(e);\n    var modB = e.altKey || e.metaKey || ((_a = e.getModifierState) === null || _a === void 0 ? void 0 : _a.call(e, 'AltGraph'));\n    return brushes[(modA ? 1 : 0) + (modB ? 2 : 0)];\n}\nfunction addShape(drawable, cur) {\n    var sameShape = function sameShape(s) {\n        return s.orig === cur.orig && s.dest === cur.dest;\n    };\n    var similar = drawable.shapes.find(sameShape);\n    if (similar) drawable.shapes = drawable.shapes.filter(function (s) {\n        return !sameShape(s);\n    });\n    if (!similar || similar.brush !== cur.brush) drawable.shapes.push(cur);\n    onChange(drawable);\n}\nfunction onChange(drawable) {\n    if (drawable.onChange) drawable.onChange(drawable.shapes);\n}\n//# sourceMappingURL=draw.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VjaGVzc2dyb3VuZC9kcmF3LmpzPzM3MWIiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJjbGVhciIsImNhbmNlbCIsImVuZCIsIm1vdmUiLCJwcm9jZXNzRHJhdyIsInN0YXJ0IiwiYm9hcmRfMSIsInJlcXVpcmUiLCJ1dGlsXzEiLCJicnVzaGVzIiwic3RhdGUiLCJlIiwidG91Y2hlcyIsImxlbmd0aCIsInN0b3BQcm9wYWdhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiY3RybEtleSIsInVuc2VsZWN0IiwiY2FuY2VsTW92ZSIsInBvcyIsImV2ZW50UG9zaXRpb24iLCJvcmlnIiwiZ2V0S2V5QXREb21Qb3MiLCJ3aGl0ZVBvdiIsImRvbSIsImJvdW5kcyIsImRyYXdhYmxlIiwiY3VycmVudCIsImJydXNoIiwiZXZlbnRCcnVzaCIsInNuYXBUb1ZhbGlkTW92ZSIsImRlZmF1bHRTbmFwVG9WYWxpZE1vdmUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjdXIiLCJrZXlBdERvbVBvcyIsIm1vdXNlU3EiLCJnZXRTbmFwcGVkS2V5QXREb21Qb3MiLCJkZXN0IiwidW5kZWZpbmVkIiwicmVkcmF3Tm93IiwiYWRkU2hhcGUiLCJyZWRyYXciLCJzaGFwZXMiLCJvbkNoYW5nZSIsIl9hIiwibW9kQSIsInNoaWZ0S2V5IiwiaXNSaWdodEJ1dHRvbiIsIm1vZEIiLCJhbHRLZXkiLCJtZXRhS2V5IiwiZ2V0TW9kaWZpZXJTdGF0ZSIsImNhbGwiLCJzYW1lU2hhcGUiLCJzIiwic2ltaWxhciIsImZpbmQiLCJmaWx0ZXIiLCJwdXNoIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0FELFFBQVFFLEtBQVIsR0FBZ0JGLFFBQVFHLE1BQVIsR0FBaUJILFFBQVFJLEdBQVIs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Q0FBUixFQUFXLFVBQVgsQ0FBekYsQ0FBYjtBQUNBLFdBQU9GLFFBQVEsQ0FBQ29DLE9BQU8sQ0FBUCxHQUFXLENBQVosS0FBa0JHLE9BQU8sQ0FBUCxHQUFXLENBQTdCLENBQVIsQ0FBUDtBQUNIO0FBQ0QsU0FBU1IsUUFBVCxDQUFrQmQsUUFBbEIsRUFBNEJPLEdBQTVCLEVBQWlDO0FBQzdCLFFBQU1vQixZQUFZLFNBQVpBLFNBQVksQ0FBQ0MsQ0FBRDtBQUFBLGVBQU9BLEVBQUVqQyxJQUFGLEtBQVdZLElBQUlaLElBQWYsSUFBdUJpQyxFQUFFakIsSUFBRixLQUFXSixJQUFJSSxJQUE3QztBQUFBLEtBQWxCO0FBQ0EsUUFBTWtCLFVBQVU3QixTQUFTZ0IsTUFBVCxDQUFnQmMsSUFBaEIsQ0FBcUJILFNBQXJCLENBQWhCO0FBQ0EsUUFBSUUsT0FBSixFQUNJN0IsU0FBU2dCLE1BQVQsR0FBa0JoQixTQUFTZ0IsTUFBVCxDQUFnQmUsTUFBaEIsQ0FBdUI7QUFBQSxlQUFLLENBQUNKLFVBQVVDLENBQVYsQ0FBTjtBQUFBLEtBQXZCLENBQWxCO0FBQ0osUUFBSSxDQUFDQyxPQUFELElBQVlBLFFBQVEzQixLQUFSLEtBQWtCSyxJQUFJTCxLQUF0QyxFQUNJRixTQUFTZ0IsTUFBVCxDQUFnQmdCLElBQWhCLENBQXFCekIsR0FBckI7QUFDSlUsYUFBU2pCLFFBQVQ7QUFDSDtBQUNELFNBQVNpQixRQUFULENBQWtCakIsUUFBbEIsRUFBNEI7QUFDeEIsUUFBSUEsU0FBU2lCLFFBQWIsRUFDSWpCLFNBQVNpQixRQUFULENBQWtCakIsU0FBU2dCLE1BQTNCO0FBQ1A7QUFDRCIsImZpbGUiOiI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNsZWFyID0gZXhwb3J0cy5jYW5jZWwgPSBleHBvcnRzLmVuZCA9IGV4cG9ydHMubW92ZSA9IGV4cG9ydHMucHJvY2Vzc0RyYXcgPSBleHBvcnRzLnN0YXJ0ID0gdm9pZCAwO1xuY29uc3QgYm9hcmRfMSA9IHJlcXVpcmUoXCIuL2JvYXJkXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbmNvbnN0IGJydXNoZXMgPSBbJ2dyZWVuJywgJ3JlZCcsICdibHVlJywgJ3llbGxvdyddO1xuZnVuY3Rpb24gc3RhcnQoc3RhdGUsIGUpIHtcbiAgICBpZiAoZS50b3VjaGVzICYmIGUudG91Y2hlcy5sZW5ndGggPiAxKVxuICAgICAgICByZXR1cm47XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5jdHJsS2V5ID8gYm9hcmRfMS51bnNlbGVjdChzdGF0ZSkgOiBib2FyZF8xLmNhbmNlbE1vdmUoc3RhdGUpO1xuICAgIGNvbnN0IHBvcyA9IHV0aWxfMS5ldmVudFBvc2l0aW9uKGUpLCBvcmlnID0gYm9hcmRfMS5nZXRLZXlBdERvbVBvcyhwb3MsIGJvYXJkXzEud2hpdGVQb3Yoc3RhdGUpLCBzdGF0ZS5kb20uYm91bmRzKCkpO1xuICAgIGlmICghb3JpZylcbiAgICAgICAgcmV0dXJuO1xuICAgIHN0YXRlLmRyYXdhYmxlLmN1cnJlbnQgPSB7XG4gICAgICAgIG9yaWcsXG4gICAgICAgIHBvcyxcbiAgICAgICAgYnJ1c2g6IGV2ZW50QnJ1c2goZSksXG4gICAgICAgIHNuYXBUb1ZhbGlkTW92ZTogc3RhdGUuZHJhd2FibGUuZGVmYXVsdFNuYXBUb1ZhbGlkTW92ZSxcbiAgICB9O1xuICAgIHByb2Nlc3NEcmF3KHN0YXRlKTtcbn1cbmV4cG9ydHMuc3RhcnQgPSBzdGFydDtcbmZ1bmN0aW9uIHByb2Nlc3NEcmF3KHN0YXRlKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgY29uc3QgY3VyID0gc3RhdGUuZHJhd2FibGUuY3VycmVudDtcbiAgICAgICAgaWYgKGN1cikge1xuICAgICAgICAgICAgY29uc3Qga2V5QXREb21Qb3MgPSBib2FyZF8xLmdldEtleUF0RG9tUG9zKGN1ci5wb3MsIGJvYXJkXzEud2hpdGVQb3Yoc3RhdGUpLCBzdGF0ZS5kb20uYm91bmRzKCkpO1xuICAgICAgICAgICAgaWYgKCFrZXlBdERvbVBvcykge1xuICAgICAgICAgICAgICAgIGN1ci5zbmFwVG9WYWxpZE1vdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1vdXNlU3EgPSBjdXIuc25hcFRvVmFsaWRNb3ZlID9cbiAgICAgICAgICAgICAgICBib2FyZF8xLmdldFNuYXBwZWRLZXlBdERvbVBvcyhjdXIub3JpZywgY3VyLnBvcywgYm9hcmRfMS53aGl0ZVBvdihzdGF0ZSksIHN0YXRlLmRvbS5ib3VuZHMoKSkgOlxuICAgICAgICAgICAgICAgIGtleUF0RG9tUG9zO1xuICAgICAgICAgICAgaWYgKG1vdXNlU3EgIT09IGN1ci5tb3VzZVNxKSB7XG4gICAgICAgICAgICAgICAgY3VyLm1vdXNlU3EgPSBtb3VzZVNxO1xuICAgICAgICAgICAgICAgIGN1ci5kZXN0ID0gbW91c2VTcSAhPT0gY3VyLm9yaWcgPyBtb3VzZVNxIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHN0YXRlLmRvbS5yZWRyYXdOb3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb2Nlc3NEcmF3KHN0YXRlKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0cy5wcm9jZXNzRHJhdyA9IHByb2Nlc3NEcmF3O1xuZnVuY3Rpb24gbW92ZShzdGF0ZSwgZSkge1xuICAgIGlmIChzdGF0ZS5kcmF3YWJsZS5jdXJyZW50KVxuICAgICAgICBzdGF0ZS5kcmF3YWJsZS5jdXJyZW50LnBvcyA9IHV0aWxfMS5ldmVudFBvc2l0aW9uKGUpO1xufVxuZXhwb3J0cy5tb3ZlID0gbW92ZTtcbmZ1bmN0aW9uIGVuZChzdGF0ZSkge1xuICAgIGNvbnN0IGN1ciA9IHN0YXRlLmRyYXdhYmxlLmN1cnJlbnQ7XG4gICAgaWYgKGN1cikge1xuICAgICAgICBpZiAoY3VyLm1vdXNlU3EpXG4gICAgICAgICAgICBhZGRTaGFwZShzdGF0ZS5kcmF3YWJsZSwgY3VyKTtcbiAgICAgICAgY2FuY2VsKHN0YXRlKTtcbiAgICB9XG59XG5leHBvcnRzLmVuZCA9IGVuZDtcbmZ1bmN0aW9uIGNhbmNlbChzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS5kcmF3YWJsZS5jdXJyZW50KSB7XG4gICAgICAgIHN0YXRlLmRyYXdhYmxlLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHN0YXRlLmRvbS5yZWRyYXcoKTtcbiAgICB9XG59XG5leHBvcnRzLmNhbmNlbCA9IGNhbmNlbDtcbmZ1bmN0aW9uIGNsZWFyKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLmRyYXdhYmxlLnNoYXBlcy5sZW5ndGgpIHtcbiAgICAgICAgc3RhdGUuZHJhd2FibGUuc2hhcGVzID0gW107XG4gICAgICAgIHN0YXRlLmRvbS5yZWRyYXcoKTtcbiAgICAgICAgb25DaGFuZ2Uoc3RhdGUuZHJhd2FibGUpO1xuICAgIH1cbn1cbmV4cG9ydHMuY2xlYXIgPSBjbGVhcjtcbmZ1bmN0aW9uIGV2ZW50QnJ1c2goZSkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBtb2RBID0gKGUuc2hpZnRLZXkgfHwgZS5jdHJsS2V5KSAmJiB1dGlsXzEuaXNSaWdodEJ1dHRvbihlKTtcbiAgICBjb25zdCBtb2RCID0gZS5hbHRLZXkgfHwgZS5tZXRhS2V5IHx8ICgoX2EgPSBlLmdldE1vZGlmaWVyU3RhdGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGUsICdBbHRHcmFwaCcpKTtcbiAgICByZXR1cm4gYnJ1c2hlc1sobW9kQSA/IDEgOiAwKSArIChtb2RCID8gMiA6IDApXTtcbn1cbmZ1bmN0aW9uIGFkZFNoYXBlKGRyYXdhYmxlLCBjdXIpIHtcbiAgICBjb25zdCBzYW1lU2hhcGUgPSAocykgPT4gcy5vcmlnID09PSBjdXIub3JpZyAmJiBzLmRlc3QgPT09IGN1ci5kZXN0O1xuICAgIGNvbnN0IHNpbWlsYXIgPSBkcmF3YWJsZS5zaGFwZXMuZmluZChzYW1lU2hhcGUpO1xuICAgIGlmIChzaW1pbGFyKVxuICAgICAgICBkcmF3YWJsZS5zaGFwZXMgPSBkcmF3YWJsZS5zaGFwZXMuZmlsdGVyKHMgPT4gIXNhbWVTaGFwZShzKSk7XG4gICAgaWYgKCFzaW1pbGFyIHx8IHNpbWlsYXIuYnJ1c2ggIT09IGN1ci5icnVzaClcbiAgICAgICAgZHJhd2FibGUuc2hhcGVzLnB1c2goY3VyKTtcbiAgICBvbkNoYW5nZShkcmF3YWJsZSk7XG59XG5mdW5jdGlvbiBvbkNoYW5nZShkcmF3YWJsZSkge1xuICAgIGlmIChkcmF3YWJsZS5vbkNoYW5nZSlcbiAgICAgICAgZHJhd2FibGUub25DaGFuZ2UoZHJhd2FibGUuc2hhcGVzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRyYXcuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9lY2hlc3Nncm91bmQvZHJhdy5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7\n");

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.renderSvg = exports.createElement = void 0;\nvar util_1 = __webpack_require__(0);\nfunction createElement(tagName) {\n    return document.createElementNS('http://www.w3.org/2000/svg', tagName);\n}\nexports.createElement = createElement;\nfunction renderSvg(state, root) {\n    var d = state.drawable,\n        curD = d.current,\n        cur = curD && curD.mouseSq ? curD : undefined,\n        arrowDests = new Map(),\n        bounds = state.dom.bounds();\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = d.shapes.concat(d.autoShapes).concat(cur ? [cur] : [])[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var s = _step.value;\n\n            if (s.dest) arrowDests.set(s.dest, (arrowDests.get(s.dest) || 0) + 1);\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n\n    var shapes = d.shapes.concat(d.autoShapes).map(function (s) {\n        return {\n            shape: s,\n            current: false,\n            hash: shapeHash(s, arrowDests, false, bounds)\n        };\n    });\n    if (cur) shapes.push({\n        shape: cur,\n        current: true,\n        hash: shapeHash(cur, arrowDests, true, bounds)\n    });\n    var fullHash = shapes.map(function (sc) {\n        return sc.hash;\n    }).join(';');\n    if (fullHash === state.drawable.prevSvgHash) return;\n    state.drawable.prevSvgHash = fullHash;\n    var defsEl = root.firstChild;\n    syncDefs(d, shapes, defsEl);\n    syncShapes(state, shapes, d.brushes, arrowDests, root, defsEl);\n}\nexports.renderSvg = renderSvg;\nfunction syncDefs(d, shapes, defsEl) {\n    var brushes = new Map();\n    var brush = void 0;\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n        for (var _iterator2 = shapes[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var s = _step2.value;\n\n            if (s.shape.dest) {\n                brush = d.brushes[s.shape.brush];\n                if (s.shape.modifiers) brush = makeCustomBrush(brush, s.shape.modifiers);\n                brushes.set(brush.key, brush);\n            }\n        }\n    } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n            }\n        } finally {\n            if (_didIteratorError2) {\n                throw _iteratorError2;\n            }\n        }\n    }\n\n    var keysInDom = new Set();\n    var el = defsEl.firstChild;\n    while (el) {\n        keysInDom.add(el.getAttribute('cgKey'));\n        el = el.nextSibling;\n    }\n    var _iteratorNormalCompletion3 = true;\n    var _didIteratorError3 = false;\n    var _iteratorError3 = undefined;\n\n    try {\n        for (var _iterator3 = brushes.entries()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            var _step3$value = _slicedToArray(_step3.value, 2),\n                key = _step3$value[0],\n                _brush = _step3$value[1];\n\n            if (!keysInDom.has(key)) defsEl.appendChild(renderMarker(_brush));\n        }\n    } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                _iterator3.return();\n            }\n        } finally {\n            if (_didIteratorError3) {\n                throw _iteratorError3;\n            }\n        }\n    }\n}\nfunction syncShapes(state, shapes, brushes, arrowDests, root, defsEl) {\n    var bounds = state.dom.bounds(),\n        hashesInDom = new Map(),\n        toRemove = [];\n    var _iteratorNormalCompletion4 = true;\n    var _didIteratorError4 = false;\n    var _iteratorError4 = undefined;\n\n    try {\n        for (var _iterator4 = shapes[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var sc = _step4.value;\n\n            hashesInDom.set(sc.hash, false);\n        }\n    } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                _iterator4.return();\n            }\n        } finally {\n            if (_didIteratorError4) {\n                throw _iteratorError4;\n            }\n        }\n    }\n\n    var el = defsEl.nextSibling,\n        elHash = void 0;\n    while (el) {\n        elHash = el.getAttribute('cgHash');\n        if (hashesInDom.has(elHash)) hashesInDom.set(elHash, true);else toRemove.push(el);\n        el = el.nextSibling;\n    }\n    var _iteratorNormalCompletion5 = true;\n    var _didIteratorError5 = false;\n    var _iteratorError5 = undefined;\n\n    try {\n        for (var _iterator5 = toRemove[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n            var _el = _step5.value;\n\n            root.removeChild(_el);\n        }\n    } catch (err) {\n        _didIteratorError5 = true;\n        _iteratorError5 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                _iterator5.return();\n            }\n        } finally {\n            if (_didIteratorError5) {\n                throw _iteratorError5;\n            }\n        }\n    }\n\n    var _iteratorNormalCompletion6 = true;\n    var _didIteratorError6 = false;\n    var _iteratorError6 = undefined;\n\n    try {\n        for (var _iterator6 = shapes[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n            var _sc = _step6.value;\n\n            if (!hashesInDom.get(_sc.hash)) root.appendChild(renderShape(state, _sc, brushes, arrowDests, bounds));\n        }\n    } catch (err) {\n        _didIteratorError6 = true;\n        _iteratorError6 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion6 && _iterator6.return) {\n                _iterator6.return();\n            }\n        } finally {\n            if (_didIteratorError6) {\n                throw _iteratorError6;\n            }\n        }\n    }\n}\nfunction shapeHash(_ref, arrowDests, current, bounds) {\n    var orig = _ref.orig,\n        dest = _ref.dest,\n        brush = _ref.brush,\n        piece = _ref.piece,\n        modifiers = _ref.modifiers;\n\n    return [bounds.width, bounds.height, current, orig, dest, brush, dest && (arrowDests.get(dest) || 0) > 1, piece && pieceHash(piece), modifiers && modifiersHash(modifiers)].filter(function (x) {\n        return x;\n    }).join(',');\n}\nfunction pieceHash(piece) {\n    return [piece.color, piece.role, piece.scale].filter(function (x) {\n        return x;\n    }).join(',');\n}\nfunction modifiersHash(m) {\n    return '' + (m.lineWidth || '');\n}\nfunction renderShape(state, _ref2, brushes, arrowDests, bounds) {\n    var shape = _ref2.shape,\n        current = _ref2.current,\n        hash = _ref2.hash;\n\n    var el = void 0;\n    if (shape.piece) el = renderPiece(state.drawable.pieces.baseUrl, orient(util_1.key2pos(shape.orig), state.orientation), shape.piece, bounds);else {\n        var orig = orient(util_1.key2pos(shape.orig), state.orientation);\n        if (shape.dest) {\n            var brush = brushes[shape.brush];\n            if (shape.modifiers) brush = makeCustomBrush(brush, shape.modifiers);\n            el = renderArrow(brush, orig, orient(util_1.key2pos(shape.dest), state.orientation), current, (arrowDests.get(shape.dest) || 0) > 1, bounds);\n        } else el = renderCircle(brushes[shape.brush], orig, current, bounds);\n    }\n    el.setAttribute('cgHash', hash);\n    return el;\n}\nfunction renderCircle(brush, pos, current, bounds) {\n    var o = pos2px(pos, bounds),\n        widths = circleWidth(bounds),\n        radius = (bounds.width + bounds.height) / 32;\n    return setAttributes(createElement('circle'), {\n        stroke: brush.color,\n        'stroke-width': widths[current ? 0 : 1],\n        fill: 'none',\n        opacity: opacity(brush, current),\n        cx: o[0],\n        cy: o[1],\n        r: radius - widths[1] / 2\n    });\n}\nfunction renderArrow(brush, orig, dest, current, shorten, bounds) {\n    var m = arrowMargin(bounds, shorten && !current),\n        a = pos2px(orig, bounds),\n        b = pos2px(dest, bounds),\n        dx = b[0] - a[0],\n        dy = b[1] - a[1],\n        angle = Math.atan2(dy, dx),\n        xo = Math.cos(angle) * m,\n        yo = Math.sin(angle) * m;\n    return setAttributes(createElement('line'), {\n        stroke: brush.color,\n        'stroke-width': lineWidth(brush, current, bounds),\n        'stroke-linecap': 'round',\n        'marker-end': 'url(#arrowhead-' + brush.key + ')',\n        opacity: opacity(brush, current),\n        x1: a[0],\n        y1: a[1],\n        x2: b[0] - xo,\n        y2: b[1] - yo\n    });\n}\nfunction renderPiece(baseUrl, pos, piece, bounds) {\n    var o = pos2px(pos, bounds),\n        size = bounds.width / 8 * (piece.scale || 1),\n        name = piece.color[0] + (piece.role === 'knight' ? 'n' : piece.role[0]).toUpperCase();\n    return setAttributes(createElement('image'), {\n        className: piece.role + \" \" + piece.color,\n        x: o[0] - size / 2,\n        y: o[1] - size / 2,\n        width: size,\n        height: size,\n        href: baseUrl + name + '.svg'\n    });\n}\nfunction renderMarker(brush) {\n    var marker = setAttributes(createElement('marker'), {\n        id: 'arrowhead-' + brush.key,\n        orient: 'auto',\n        markerWidth: 4,\n        markerHeight: 8,\n        refX: 2.05,\n        refY: 2.01\n    });\n    marker.appendChild(setAttributes(createElement('path'), {\n        d: 'M0,0 V4 L3,2 Z',\n        fill: brush.color\n    }));\n    marker.setAttribute('cgKey', brush.key);\n    return marker;\n}\nfunction setAttributes(el, attrs) {\n    for (var key in attrs) {\n        el.setAttribute(key, attrs[key]);\n    }return el;\n}\nfunction orient(pos, color) {\n    return color === 'white' ? pos : [7 - pos[0], 7 - pos[1]];\n}\nfunction makeCustomBrush(base, modifiers) {\n    return {\n        color: base.color,\n        opacity: Math.round(base.opacity * 10) / 10,\n        lineWidth: Math.round(modifiers.lineWidth || base.lineWidth),\n        key: [base.key, modifiers.lineWidth].filter(function (x) {\n            return x;\n        }).join('')\n    };\n}\nfunction circleWidth(bounds) {\n    var base = bounds.width / 512;\n    return [3 * base, 4 * base];\n}\nfunction lineWidth(brush, current, bounds) {\n    return (brush.lineWidth || 10) * (current ? 0.85 : 1) / 512 * bounds.width;\n}\nfunction opacity(brush, current) {\n    return (brush.opacity || 1) * (current ? 0.9 : 1);\n}\nfunction arrowMargin(bounds, shorten) {\n    return (shorten ? 20 : 10) / 512 * bounds.width;\n}\nfunction pos2px(pos, bounds) {\n    return [(pos[0] + 0.5) * bounds.width / 8, (7.5 - pos[1]) * bounds.height / 8];\n}\n//# sourceMappingURL=svg.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VjaGVzc2dyb3VuZC9zdmcuanM/ZGJkYiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInJlbmRlclN2ZyIsImNyZWF0ZUVsZW1lbnQiLCJ1dGlsXzEiLCJyZXF1aXJlIiwidGFnTmFtZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwic3RhdGUiLCJyb290IiwiZCIsImRyYXdhYmxlIiwiY3VyRCIsImN1cnJlbnQiLCJjdXIiLCJtb3VzZVNxIiwidW5kZWZpbmVkIiwiYXJyb3dEZXN0cyIsIk1hcCIsImJvdW5kcyIsImRvbSIsInNoYXBlcyIsImNvbmNhdCIsImF1dG9TaGFwZXMiLCJzIiwiZGVzdCIsInNldCIsImdldCIsIm1hcCIsInNoYXBlIiwiaGFzaCIsInNoYXBlSGFzaCIsInB1c2giLCJmdWxsSGFzaCIsInNjIiwiam9pbiIsInByZXZTdmdIYXNoIiwiZGVmc0VsIiwiZmlyc3RDaGlsZCIsInN5bmNEZWZzIiwic3luY1NoYXBlcyIsImJydXNoZXMiLCJicnVzaCIsIm1vZGlmaWVycyIsIm1ha2VDdXN0b21CcnVzaCIsImtleSIsImtleXNJbkRvbSIsIlNldCIsImVsIiwiYWRkIiwiZ2V0QXR0cmlidXRlIiwibmV4dFNpYmxpbmciLCJlbnRyaWVzIiwiaGFzIiwiYXBwZW5kQ2hpbGQiLCJyZW5kZXJNYXJrZXIiLCJoYXNoZXNJbkRvbSIsInRvUmVtb3ZlIiwiZWxIYXNoIiwicmVtb3ZlQ2hpbGQiLCJyZW5kZXJTaGFwZSIsIm9yaWciLCJwaWVjZSIsIndpZHRoIiwiaGVpZ2h0IiwicGllY2VIYXNoIiwibW9kaWZpZXJzSGFzaCIsImZpbHRlciIsIngiLCJjb2xvciIsInJvbGUiLCJzY2FsZSIsIm0iLCJsaW5lV2lkdGgiLCJyZW5kZXJQaWVjZSIsInBpZWNlcyIsImJhc2VVcmwiLCJvcmllbnQiLCJrZXkycG9zIiwib3JpZW50YXRpb24iLCJyZW5kZXJBcnJvdyIsInJlbmRlckNpcmNsZSIsInNldEF0dHJpYnV0ZSIsInBvcyIsIm8iLCJwb3MycHgiLCJ3aWR0aHMiLCJjaXJjbGVXaWR0aCIsInJhZGl1cyIsInNldEF0dHJpYnV0ZXMiLCJzdHJva2UiLCJmaWxsIiwib3BhY2l0eSIsImN4IiwiY3kiLCJyIiwic2hvcnRlbiIsImFycm93TWFyZ2luIiwiYSIsImIiLCJkeCIsImR5IiwiYW5nbGUiLCJNYXRoIiwiYXRhbjIiLCJ4byIsImNvcyIsInlvIiwic2luIiwieDEiLCJ5MSIsIngyIiwieTIiLCJzaXplIiwibmFtZSIsInRvVXBwZXJDYXNlIiwiY2xhc3NOYW1lIiwieSIsImhyZWYiLCJtYXJrZXIiLCJpZCIsIm1hcmtlcldpZHRoIiwibWFya2VySGVpZ2h0IiwicmVmWCIsInJlZlkiLCJhdHRycyIsImJhc2UiLCJyb3VuZCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUFDQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0FELFFBQVFFLFNBQVIsR0FBb0JGLFFBQVFHLGFBQVIsR0FBd0IsS0FBSyxDQUFqRDtBQUNBLElBQU1DLFNBQVMsbUJBQUFDLENBQVEsQ0FBUixDQUFmO0FBQ0EsU0FBU0YsYUFBVCxDQUF1QkcsT0FBdkIsRUFBZ0M7QUFDNUIsV0FBT0MsU0FBU0MsZUFBVCxDQUF5Qiw0QkFBekIsRUFBdURGLE9BQXZELENBQVA7QUFDSDtBQUNETixRQUFRRyxhQUFSLEdBQXdCQSxhQUF4QjtBQUNBLFNBQVNELFNBQVQsQ0FBbUJPLEtBQW5CLEVBQTBCQyxJQUExQixFQUFnQztBQUM1QixRQUFNQyxJQUFJRixNQUFNRyxRQUFoQjtBQUFBLFFBQTBCQyxPQUFPRixFQUFFRyxPQUFuQztBQUFBLFFBQTRDQyxNQUFNRixRQUFRQSxLQUFLRyxPQUFiLEdBQXVCSCxJQUF2QixHQUE4QkksU0FBaEY7QUFBQSxRQUEyRkMsYUFBYSxJQUFJQyxHQUFKLEVBQXhHO0FBQUEsUUFBbUhDLFNB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dGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVuZGVyU3ZnID0gZXhwb3J0cy5jcmVhdGVFbGVtZW50ID0gdm9pZCAwO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodGFnTmFtZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgdGFnTmFtZSk7XG59XG5leHBvcnRzLmNyZWF0ZUVsZW1lbnQgPSBjcmVhdGVFbGVtZW50O1xuZnVuY3Rpb24gcmVuZGVyU3ZnKHN0YXRlLCByb290KSB7XG4gICAgY29uc3QgZCA9IHN0YXRlLmRyYXdhYmxlLCBjdXJEID0gZC5jdXJyZW50LCBjdXIgPSBjdXJEICYmIGN1ckQubW91c2VTcSA/IGN1ckQgOiB1bmRlZmluZWQsIGFycm93RGVzdHMgPSBuZXcgTWFwKCksIGJvdW5kcyA9IHN0YXRlLmRvbS5ib3VuZHMoKTtcbiAgICBmb3IgKGNvbnN0IHMgb2YgZC5zaGFwZXMuY29uY2F0KGQuYXV0b1NoYXBlcykuY29uY2F0KGN1ciA/IFtjdXJdIDogW10pKSB7XG4gICAgICAgIGlmIChzLmRlc3QpXG4gICAgICAgICAgICBhcnJvd0Rlc3RzLnNldChzLmRlc3QsIChhcnJvd0Rlc3RzLmdldChzLmRlc3QpIHx8IDApICsgMSk7XG4gICAgfVxuICAgIGNvbnN0IHNoYXBlcyA9IGQuc2hhcGVzLmNvbmNhdChkLmF1dG9TaGFwZXMpLm1hcCgocykgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2hhcGU6IHMsXG4gICAgICAgICAgICBjdXJyZW50OiBmYWxzZSxcbiAgICAgICAgICAgIGhhc2g6IHNoYXBlSGFzaChzLCBhcnJvd0Rlc3RzLCBmYWxzZSwgYm91bmRzKVxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIGlmIChjdXIpXG4gICAgICAgIHNoYXBlcy5wdXNoKHtcbiAgICAgICAgICAgIHNoYXBlOiBjdXIsXG4gICAgICAgICAgICBjdXJyZW50OiB0cnVlLFxuICAgICAgICAgICAgaGFzaDogc2hhcGVIYXNoKGN1ciwgYXJyb3dEZXN0cywgdHJ1ZSwgYm91bmRzKVxuICAgICAgICB9KTtcbiAgICBjb25zdCBmdWxsSGFzaCA9IHNoYXBlcy5tYXAoc2MgPT4gc2MuaGFzaCkuam9pbignOycpO1xuICAgIGlmIChmdWxsSGFzaCA9PT0gc3RhdGUuZHJhd2FibGUucHJldlN2Z0hhc2gpXG4gICAgICAgIHJldHVybjtcbiAgICBzdGF0ZS5kcmF3YWJsZS5wcmV2U3ZnSGFzaCA9IGZ1bGxIYXNoO1xuICAgIGNvbnN0IGRlZnNFbCA9IHJvb3QuZmlyc3RDaGlsZDtcbiAgICBzeW5jRGVmcyhkLCBzaGFwZXMsIGRlZnNFbCk7XG4gICAgc3luY1NoYXBlcyhzdGF0ZSwgc2hhcGVzLCBkLmJydXNoZXMsIGFycm93RGVzdHMsIHJvb3QsIGRlZnNFbCk7XG59XG5leHBvcnRzLnJlbmRlclN2ZyA9IHJlbmRlclN2ZztcbmZ1bmN0aW9uIHN5bmNEZWZzKGQsIHNoYXBlcywgZGVmc0VsKSB7XG4gICAgY29uc3QgYnJ1c2hlcyA9IG5ldyBNYXAoKTtcbiAgICBsZXQgYnJ1c2g7XG4gICAgZm9yIChjb25zdCBzIG9mIHNoYXBlcykge1xuICAgICAgICBpZiAocy5zaGFwZS5kZXN0KSB7XG4gICAgICAgICAgICBicnVzaCA9IGQuYnJ1c2hlc1tzLnNoYXBlLmJydXNoXTtcbiAgICAgICAgICAgIGlmIChzLnNoYXBlLm1vZGlmaWVycylcbiAgICAgICAgICAgICAgICBicnVzaCA9IG1ha2VDdXN0b21CcnVzaChicnVzaCwgcy5zaGFwZS5tb2RpZmllcnMpO1xuICAgICAgICAgICAgYnJ1c2hlcy5zZXQoYnJ1c2gua2V5LCBicnVzaCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qga2V5c0luRG9tID0gbmV3IFNldCgpO1xuICAgIGxldCBlbCA9IGRlZnNFbC5maXJzdENoaWxkO1xuICAgIHdoaWxlIChlbCkge1xuICAgICAgICBrZXlzSW5Eb20uYWRkKGVsLmdldEF0dHJpYnV0ZSgnY2dLZXknKSk7XG4gICAgICAgIGVsID0gZWwubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIGZvciAoY29uc3QgW2tleSwgYnJ1c2hdIG9mIGJydXNoZXMuZW50cmllcygpKSB7XG4gICAgICAgIGlmICgha2V5c0luRG9tLmhhcyhrZXkpKVxuICAgICAgICAgICAgZGVmc0VsLmFwcGVuZENoaWxkKHJlbmRlck1hcmtlcihicnVzaCkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHN5bmNTaGFwZXMoc3RhdGUsIHNoYXBlcywgYnJ1c2hlcywgYXJyb3dEZXN0cywgcm9vdCwgZGVmc0VsKSB7XG4gICAgY29uc3QgYm91bmRzID0gc3RhdGUuZG9tLmJvdW5kcygpLCBoYXNoZXNJbkRvbSA9IG5ldyBNYXAoKSwgdG9SZW1vdmUgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHNjIG9mIHNoYXBlcylcbiAgICAgICAgaGFzaGVzSW5Eb20uc2V0KHNjLmhhc2gsIGZhbHNlKTtcbiAgICBsZXQgZWwgPSBkZWZzRWwubmV4dFNpYmxpbmcsIGVsSGFzaDtcbiAgICB3aGlsZSAoZWwpIHtcbiAgICAgICAgZWxIYXNoID0gZWwuZ2V0QXR0cmlidXRlKCdjZ0hhc2gnKTtcbiAgICAgICAgaWYgKGhhc2hlc0luRG9tLmhhcyhlbEhhc2gpKVxuICAgICAgICAgICAgaGFzaGVzSW5Eb20uc2V0KGVsSGFzaCwgdHJ1ZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRvUmVtb3ZlLnB1c2goZWwpO1xuICAgICAgICBlbCA9IGVsLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGVsIG9mIHRvUmVtb3ZlKVxuICAgICAgICByb290LnJlbW92ZUNoaWxkKGVsKTtcbiAgICBmb3IgKGNvbnN0IHNjIG9mIHNoYXBlcykge1xuICAgICAgICBpZiAoIWhhc2hlc0luRG9tLmdldChzYy5oYXNoKSlcbiAgICAgICAgICAgIHJvb3QuYXBwZW5kQ2hpbGQocmVuZGVyU2hhcGUoc3RhdGUsIHNjLCBicnVzaGVzLCBhcnJvd0Rlc3RzLCBib3VuZHMpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzaGFwZUhhc2goeyBvcmlnLCBkZXN0LCBicnVzaCwgcGllY2UsIG1vZGlmaWVycyB9LCBhcnJvd0Rlc3RzLCBjdXJyZW50LCBib3VuZHMpIHtcbiAgICByZXR1cm4gW2JvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCwgY3VycmVudCwgb3JpZywgZGVzdCwgYnJ1c2gsIGRlc3QgJiYgKGFycm93RGVzdHMuZ2V0KGRlc3QpIHx8IDApID4gMSxcbiAgICAgICAgcGllY2UgJiYgcGllY2VIYXNoKHBpZWNlKSxcbiAgICAgICAgbW9kaWZpZXJzICYmIG1vZGlmaWVyc0hhc2gobW9kaWZpZXJzKVxuICAgIF0uZmlsdGVyKHggPT4geCkuam9pbignLCcpO1xufVxuZnVuY3Rpb24gcGllY2VIYXNoKHBpZWNlKSB7XG4gICAgcmV0dXJuIFtwaWVjZS5jb2xvciwgcGllY2Uucm9sZSwgcGllY2Uuc2NhbGVdLmZpbHRlcih4ID0+IHgpLmpvaW4oJywnKTtcbn1cbmZ1bmN0aW9uIG1vZGlmaWVyc0hhc2gobSkge1xuICAgIHJldHVybiAnJyArIChtLmxpbmVXaWR0aCB8fCAnJyk7XG59XG5mdW5jdGlvbiByZW5kZXJTaGFwZShzdGF0ZSwgeyBzaGFwZSwgY3VycmVudCwgaGFzaCB9LCBicnVzaGVzLCBhcnJvd0Rlc3RzLCBib3VuZHMpIHtcbiAgICBsZXQgZWw7XG4gICAgaWYgKHNoYXBlLnBpZWNlKVxuICAgICAgICBlbCA9IHJlbmRlclBpZWNlKHN0YXRlLmRyYXdhYmxlLnBpZWNlcy5iYXNlVXJsLCBvcmllbnQodXRpbF8xLmtleTJwb3Moc2hhcGUub3JpZyksIHN0YXRlLm9yaWVudGF0aW9uKSwgc2hhcGUucGllY2UsIGJvdW5kcyk7XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IG9yaWcgPSBvcmllbnQodXRpbF8xLmtleTJwb3Moc2hhcGUub3JpZyksIHN0YXRlLm9yaWVudGF0aW9uKTtcbiAgICAgICAgaWYgKHNoYXBlLmRlc3QpIHtcbiAgICAgICAgICAgIGxldCBicnVzaCA9IGJydXNoZXNbc2hhcGUuYnJ1c2hdO1xuICAgICAgICAgICAgaWYgKHNoYXBlLm1vZGlmaWVycylcbiAgICAgICAgICAgICAgICBicnVzaCA9IG1ha2VDdXN0b21CcnVzaChicnVzaCwgc2hhcGUubW9kaWZpZXJzKTtcbiAgICAgICAgICAgIGVsID0gcmVuZGVyQXJyb3coYnJ1c2gsIG9yaWcsIG9yaWVudCh1dGlsXzEua2V5MnBvcyhzaGFwZS5kZXN0KSwgc3RhdGUub3JpZW50YXRpb24pLCBjdXJyZW50LCAoYXJyb3dEZXN0cy5nZXQoc2hhcGUuZGVzdCkgfHwgMCkgPiAxLCBib3VuZHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGVsID0gcmVuZGVyQ2lyY2xlKGJydXNoZXNbc2hhcGUuYnJ1c2hdLCBvcmlnLCBjdXJyZW50LCBib3VuZHMpO1xuICAgIH1cbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NnSGFzaCcsIGhhc2gpO1xuICAgIHJldHVybiBlbDtcbn1cbmZ1bmN0aW9uIHJlbmRlckNpcmNsZShicnVzaCwgcG9zLCBjdXJyZW50LCBib3VuZHMpIHtcbiAgICBjb25zdCBvID0gcG9zMnB4KHBvcywgYm91bmRzKSwgd2lkdGhzID0gY2lyY2xlV2lkdGgoYm91bmRzKSwgcmFkaXVzID0gKGJvdW5kcy53aWR0aCArIGJvdW5kcy5oZWlnaHQpIC8gMzI7XG4gICAgcmV0dXJuIHNldEF0dHJpYnV0ZXMoY3JlYXRlRWxlbWVudCgnY2lyY2xlJyksIHtcbiAgICAgICAgc3Ryb2tlOiBicnVzaC5jb2xvcixcbiAgICAgICAgJ3N0cm9rZS13aWR0aCc6IHdpZHRoc1tjdXJyZW50ID8gMCA6IDFdLFxuICAgICAgICBmaWxsOiAnbm9uZScsXG4gICAgICAgIG9wYWNpdHk6IG9wYWNpdHkoYnJ1c2gsIGN1cnJlbnQpLFxuICAgICAgICBjeDogb1swXSxcbiAgICAgICAgY3k6IG9bMV0sXG4gICAgICAgIHI6IHJhZGl1cyAtIHdpZHRoc1sxXSAvIDJcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHJlbmRlckFycm93KGJydXNoLCBvcmlnLCBkZXN0LCBjdXJyZW50LCBzaG9ydGVuLCBib3VuZHMpIHtcbiAgICBjb25zdCBtID0gYXJyb3dNYXJnaW4oYm91bmRzLCBzaG9ydGVuICYmICFjdXJyZW50KSwgYSA9IHBvczJweChvcmlnLCBib3VuZHMpLCBiID0gcG9zMnB4KGRlc3QsIGJvdW5kcyksIGR4ID0gYlswXSAtIGFbMF0sIGR5ID0gYlsxXSAtIGFbMV0sIGFuZ2xlID0gTWF0aC5hdGFuMihkeSwgZHgpLCB4byA9IE1hdGguY29zKGFuZ2xlKSAqIG0sIHlvID0gTWF0aC5zaW4oYW5nbGUpICogbTtcbiAgICByZXR1cm4gc2V0QXR0cmlidXRlcyhjcmVhdGVFbGVtZW50KCdsaW5lJyksIHtcbiAgICAgICAgc3Ryb2tlOiBicnVzaC5jb2xvcixcbiAgICAgICAgJ3N0cm9rZS13aWR0aCc6IGxpbmVXaWR0aChicnVzaCwgY3VycmVudCwgYm91bmRzKSxcbiAgICAgICAgJ3N0cm9rZS1saW5lY2FwJzogJ3JvdW5kJyxcbiAgICAgICAgJ21hcmtlci1lbmQnOiAndXJsKCNhcnJvd2hlYWQtJyArIGJydXNoLmtleSArICcpJyxcbiAgICAgICAgb3BhY2l0eTogb3BhY2l0eShicnVzaCwgY3VycmVudCksXG4gICAgICAgIHgxOiBhWzBdLFxuICAgICAgICB5MTogYVsxXSxcbiAgICAgICAgeDI6IGJbMF0gLSB4byxcbiAgICAgICAgeTI6IGJbMV0gLSB5b1xuICAgIH0pO1xufVxuZnVuY3Rpb24gcmVuZGVyUGllY2UoYmFzZVVybCwgcG9zLCBwaWVjZSwgYm91bmRzKSB7XG4gICAgY29uc3QgbyA9IHBvczJweChwb3MsIGJvdW5kcyksIHNpemUgPSBib3VuZHMud2lkdGggLyA4ICogKHBpZWNlLnNjYWxlIHx8IDEpLCBuYW1lID0gcGllY2UuY29sb3JbMF0gKyAocGllY2Uucm9sZSA9PT0gJ2tuaWdodCcgPyAnbicgOiBwaWVjZS5yb2xlWzBdKS50b1VwcGVyQ2FzZSgpO1xuICAgIHJldHVybiBzZXRBdHRyaWJ1dGVzKGNyZWF0ZUVsZW1lbnQoJ2ltYWdlJyksIHtcbiAgICAgICAgY2xhc3NOYW1lOiBgJHtwaWVjZS5yb2xlfSAke3BpZWNlLmNvbG9yfWAsXG4gICAgICAgIHg6IG9bMF0gLSBzaXplIC8gMixcbiAgICAgICAgeTogb1sxXSAtIHNpemUgLyAyLFxuICAgICAgICB3aWR0aDogc2l6ZSxcbiAgICAgICAgaGVpZ2h0OiBzaXplLFxuICAgICAgICBocmVmOiBiYXNlVXJsICsgbmFtZSArICcuc3ZnJ1xuICAgIH0pO1xufVxuZnVuY3Rpb24gcmVuZGVyTWFya2VyKGJydXNoKSB7XG4gICAgY29uc3QgbWFya2VyID0gc2V0QXR0cmlidXRlcyhjcmVhdGVFbGVtZW50KCdtYXJrZXInKSwge1xuICAgICAgICBpZDogJ2Fycm93aGVhZC0nICsgYnJ1c2gua2V5LFxuICAgICAgICBvcmllbnQ6ICdhdXRvJyxcbiAgICAgICAgbWFya2VyV2lkdGg6IDQsXG4gICAgICAgIG1hcmtlckhlaWdodDogOCxcbiAgICAgICAgcmVmWDogMi4wNSxcbiAgICAgICAgcmVmWTogMi4wMVxuICAgIH0pO1xuICAgIG1hcmtlci5hcHBlbmRDaGlsZChzZXRBdHRyaWJ1dGVzKGNyZWF0ZUVsZW1lbnQoJ3BhdGgnKSwge1xuICAgICAgICBkOiAnTTAsMCBWNCBMMywyIFonLFxuICAgICAgICBmaWxsOiBicnVzaC5jb2xvclxuICAgIH0pKTtcbiAgICBtYXJrZXIuc2V0QXR0cmlidXRlKCdjZ0tleScsIGJydXNoLmtleSk7XG4gICAgcmV0dXJuIG1hcmtlcjtcbn1cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXMoZWwsIGF0dHJzKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpXG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuICAgIHJldHVybiBlbDtcbn1cbmZ1bmN0aW9uIG9yaWVudChwb3MsIGNvbG9yKSB7XG4gICAgcmV0dXJuIGNvbG9yID09PSAnd2hpdGUnID8gcG9zIDogWzcgLSBwb3NbMF0sIDcgLSBwb3NbMV1dO1xufVxuZnVuY3Rpb24gbWFrZUN1c3RvbUJydXNoKGJhc2UsIG1vZGlmaWVycykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNvbG9yOiBiYXNlLmNvbG9yLFxuICAgICAgICBvcGFjaXR5OiBNYXRoLnJvdW5kKGJhc2Uub3BhY2l0eSAqIDEwKSAvIDEwLFxuICAgICAgICBsaW5lV2lkdGg6IE1hdGgucm91bmQobW9kaWZpZXJzLmxpbmVXaWR0aCB8fCBiYXNlLmxpbmVXaWR0aCksXG4gICAgICAgIGtleTogW2Jhc2Uua2V5LCBtb2RpZmllcnMubGluZVdpZHRoXS5maWx0ZXIoeCA9PiB4KS5qb2luKCcnKSxcbiAgICB9O1xufVxuZnVuY3Rpb24gY2lyY2xlV2lkdGgoYm91bmRzKSB7XG4gICAgY29uc3QgYmFzZSA9IGJvdW5kcy53aWR0aCAvIDUxMjtcbiAgICByZXR1cm4gWzMgKiBiYXNlLCA0ICogYmFzZV07XG59XG5mdW5jdGlvbiBsaW5lV2lkdGgoYnJ1c2gsIGN1cnJlbnQsIGJvdW5kcykge1xuICAgIHJldHVybiAoYnJ1c2gubGluZVdpZHRoIHx8IDEwKSAqIChjdXJyZW50ID8gMC44NSA6IDEpIC8gNTEyICogYm91bmRzLndpZHRoO1xufVxuZnVuY3Rpb24gb3BhY2l0eShicnVzaCwgY3VycmVudCkge1xuICAgIHJldHVybiAoYnJ1c2gub3BhY2l0eSB8fCAxKSAqIChjdXJyZW50ID8gMC45IDogMSk7XG59XG5mdW5jdGlvbiBhcnJvd01hcmdpbihib3VuZHMsIHNob3J0ZW4pIHtcbiAgICByZXR1cm4gKHNob3J0ZW4gPyAyMCA6IDEwKSAvIDUxMiAqIGJvdW5kcy53aWR0aDtcbn1cbmZ1bmN0aW9uIHBvczJweChwb3MsIGJvdW5kcykge1xuICAgIHJldHVybiBbKHBvc1swXSArIDAuNSkgKiBib3VuZHMud2lkdGggLyA4LCAoNy41IC0gcG9zWzFdKSAqIGJvdW5kcy5oZWlnaHQgLyA4XTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN2Zy5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2VjaGVzc2dyb3VuZC9zdmcuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8\n");

/***/ }),
/* 9 */
/***/ (function(module, exports) {

eval("var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar g;\n\n// This works in non-strict mode\ng = function () {\n\treturn this;\n}();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif ((typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzPzM2OTgiXSwibmFtZXMiOlsiZyIsIkZ1bmN0aW9uIiwiZXZhbCIsImUiLCJ3aW5kb3ciLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLENBQUo7O0FBRUE7QUFDQUEsSUFBSyxZQUFXO0FBQ2YsUUFBTyxJQUFQO0FBQ0EsQ0FGRyxFQUFKOztBQUlBLElBQUk7QUFDSDtBQUNBQSxLQUFJQSxLQUFLQyxTQUFTLGFBQVQsR0FBTCxJQUFrQyxDQUFDLEdBQUVDLElBQUgsRUFBUyxNQUFULENBQXRDO0FBQ0EsQ0FIRCxDQUdFLE9BQU1DLENBQU4sRUFBUztBQUNWO0FBQ0EsS0FBRyxRQUFPQyxNQUFQLHlDQUFPQSxNQUFQLE9BQWtCLFFBQXJCLEVBQ0NKLElBQUlJLE1BQUo7QUFDRDs7QUFFRDtBQUNBO0FBQ0E7O0FBRUFDLE9BQU9DLE9BQVAsR0FBaUJOLENBQWpCIiwiZmlsZSI6IjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSxldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2goZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIilcclxuXHRcdGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9\n");

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

eval("var Component = __webpack_require__(24)(\n  /* script */\n  __webpack_require__(23),\n  /* template */\n  __webpack_require__(25),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/jlincoln/Development/JavaScript/vue-echessboard/src/components/echessboard/index.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] index.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (false) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-133d23d9\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-133d23d9\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9lY2hlc3Nib2FyZC9pbmRleC52dWU/YzU0YiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLGlEQUFpRCxJQUFJO0FBQ3BJLG1DQUFtQzs7QUFFbkM7QUFDQSxZQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQ29tcG9uZW50ID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvY29tcG9uZW50LW5vcm1hbGl6ZXJcIikoXG4gIC8qIHNjcmlwdCAqL1xuICByZXF1aXJlKFwiISFiYWJlbC1sb2FkZXIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c2NyaXB0JmluZGV4PTAhLi9pbmRleC52dWVcIiksXG4gIC8qIHRlbXBsYXRlICovXG4gIHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlcj9pZD1kYXRhLXYtMTMzZDIzZDkhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2luZGV4LnZ1ZVwiKSxcbiAgLyogc2NvcGVJZCAqL1xuICBudWxsLFxuICAvKiBjc3NNb2R1bGVzICovXG4gIG51bGxcbilcbkNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwiL1VzZXJzL2psaW5jb2xuL0RldmVsb3BtZW50L0phdmFTY3JpcHQvdnVlLWVjaGVzc2JvYXJkL3NyYy9jb21wb25lbnRzL2VjaGVzc2JvYXJkL2luZGV4LnZ1ZVwiXG5pZiAoQ29tcG9uZW50LmVzTW9kdWxlICYmIE9iamVjdC5rZXlzKENvbXBvbmVudC5lc01vZHVsZSkuc29tZShmdW5jdGlvbiAoa2V5KSB7cmV0dXJuIGtleSAhPT0gXCJkZWZhdWx0XCIgJiYga2V5ICE9PSBcIl9fZXNNb2R1bGVcIn0pKSB7Y29uc29sZS5lcnJvcihcIm5hbWVkIGV4cG9ydHMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gKi52dWUgZmlsZXMuXCIpfVxuaWYgKENvbXBvbmVudC5vcHRpb25zLmZ1bmN0aW9uYWwpIHtjb25zb2xlLmVycm9yKFwiW3Z1ZS1sb2FkZXJdIGluZGV4LnZ1ZTogZnVuY3Rpb25hbCBjb21wb25lbnRzIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggdGVtcGxhdGVzLCB0aGV5IHNob3VsZCB1c2UgcmVuZGVyIGZ1bmN0aW9ucy5cIil9XG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7KGZ1bmN0aW9uICgpIHtcbiAgdmFyIGhvdEFQSSA9IHJlcXVpcmUoXCJ2dWUtaG90LXJlbG9hZC1hcGlcIilcbiAgaG90QVBJLmluc3RhbGwocmVxdWlyZShcInZ1ZVwiKSwgZmFsc2UpXG4gIGlmICghaG90QVBJLmNvbXBhdGlibGUpIHJldHVyblxuICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gIGlmICghbW9kdWxlLmhvdC5kYXRhKSB7XG4gICAgaG90QVBJLmNyZWF0ZVJlY29yZChcImRhdGEtdi0xMzNkMjNkOVwiLCBDb21wb25lbnQub3B0aW9ucylcbiAgfSBlbHNlIHtcbiAgICBob3RBUEkucmVsb2FkKFwiZGF0YS12LTEzM2QyM2Q5XCIsIENvbXBvbmVudC5vcHRpb25zKVxuICB9XG59KSgpfVxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbXBvbmVudC5leHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzL2VjaGVzc2JvYXJkL2luZGV4LnZ1ZVxuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///10\n");

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*\n * Copyright (c) 2020, Jeff Hlywa (jhlywa@gmail.com)\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice,\n *    this list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n *\n *----------------------------------------------------------------------------*/\n\n/*\n *  Purpose: The echess.js fork of chess.js is to add logic for the Elephant\n *  chess piece.\n */\n\nvar Echess = function Echess(fen) {\n\n  var BLACK = 'b';\n  var WHITE = 'w';\n\n  var EMPTY = -1;\n\n  var PAWN = 'p';\n  var KNIGHT = 'n';\n  var BISHOP = 'b';\n  var ROOK = 'r';\n  var QUEEN = 'q';\n  var KING = 'k';\n\n  var ELEPHANT = 'e';\n\n  var SYMBOLS = 'pnbrqkePNBRQKE';\n\n  var DEFAULT_POSITION = 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1';\n\n  var POSSIBLE_RESULTS = ['1-0', '0-1', '1/2-1/2', '*'];\n\n  var PAWN_OFFSETS = {\n    b: [16, 32, 17, 15],\n    w: [-16, -32, -17, -15]\n  };\n\n  var PIECE_OFFSETS = {\n    n: [-18, -33, -31, -14, 18, 33, 31, 14],\n    b: [-17, -15, 17, 15],\n    r: [-16, 1, 16, -1],\n    q: [-17, -16, -15, 1, 17, 16, 15, -1],\n    k: [-17, -16, -15, 1, 17, 16, 15, -1]\n\n    // prettier-ignore\n  };var ATTACKS = [20, 0, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 0, 20, 0, 0, 20, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 20, 0, 0, 0, 0, 20, 0, 0, 0, 0, 24, 0, 0, 0, 0, 20, 0, 0, 0, 0, 0, 0, 20, 0, 0, 0, 24, 0, 0, 0, 20, 0, 0, 0, 0, 0, 0, 0, 0, 20, 0, 0, 24, 0, 0, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 20, 2, 24, 2, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 53, 56, 53, 2, 0, 0, 0, 0, 0, 0, 24, 24, 24, 24, 24, 24, 56, 0, 56, 24, 24, 24, 24, 24, 24, 0, 0, 0, 0, 0, 0, 2, 53, 56, 53, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 20, 2, 24, 2, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 20, 0, 0, 24, 0, 0, 20, 0, 0, 0, 0, 0, 0, 0, 0, 20, 0, 0, 0, 24, 0, 0, 0, 20, 0, 0, 0, 0, 0, 0, 20, 0, 0, 0, 0, 24, 0, 0, 0, 0, 20, 0, 0, 0, 0, 20, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 20, 0, 0, 20, 0, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 0, 20];\n\n  // prettier-ignore\n  var RAYS = [17, 0, 0, 0, 0, 0, 0, 16, 0, 0, 0, 0, 0, 0, 15, 0, 0, 17, 0, 0, 0, 0, 0, 16, 0, 0, 0, 0, 0, 15, 0, 0, 0, 0, 17, 0, 0, 0, 0, 16, 0, 0, 0, 0, 15, 0, 0, 0, 0, 0, 0, 17, 0, 0, 0, 16, 0, 0, 0, 15, 0, 0, 0, 0, 0, 0, 0, 0, 17, 0, 0, 16, 0, 0, 15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 17, 0, 16, 0, 15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 17, 16, 15, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, -1, -1, -1, -1, -1, -1, -1, 0, 0, 0, 0, 0, 0, 0, -15, -16, -17, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -15, 0, -16, 0, -17, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -15, 0, 0, -16, 0, 0, -17, 0, 0, 0, 0, 0, 0, 0, 0, -15, 0, 0, 0, -16, 0, 0, 0, -17, 0, 0, 0, 0, 0, 0, -15, 0, 0, 0, 0, -16, 0, 0, 0, 0, -17, 0, 0, 0, 0, -15, 0, 0, 0, 0, 0, -16, 0, 0, 0, 0, 0, -17, 0, 0, -15, 0, 0, 0, 0, 0, 0, -16, 0, 0, 0, 0, 0, 0, -17];\n\n  var SHIFTS = { p: 0, n: 1, b: 2, r: 3, q: 4, k: 5 };\n\n  var FLAGS = {\n    NORMAL: 'n',\n    CAPTURE: 'c',\n    BIG_PAWN: 'b',\n    EP_CAPTURE: 'e',\n    PROMOTION: 'p',\n    KSIDE_CASTLE: 'k',\n    QSIDE_CASTLE: 'q',\n    ELEPHANT_DOMINATE_COLOR: ''\n  };\n\n  var BITS = {\n    NORMAL: 1,\n    CAPTURE: 2,\n    BIG_PAWN: 4,\n    EP_CAPTURE: 8,\n    PROMOTION: 16,\n    KSIDE_CASTLE: 32,\n    QSIDE_CASTLE: 64\n  };\n\n  var RANK_1 = 7;\n  var RANK_2 = 6;\n  var RANK_3 = 5;\n  var RANK_4 = 4;\n  var RANK_5 = 3;\n  var RANK_6 = 2;\n  var RANK_7 = 1;\n  var RANK_8 = 0;\n\n  // prettier-ignore\n  var SQUARES = {\n    a8: 0, b8: 1, c8: 2, d8: 3, e8: 4, f8: 5, g8: 6, h8: 7,\n    a7: 16, b7: 17, c7: 18, d7: 19, e7: 20, f7: 21, g7: 22, h7: 23,\n    a6: 32, b6: 33, c6: 34, d6: 35, e6: 36, f6: 37, g6: 38, h6: 39,\n    a5: 48, b5: 49, c5: 50, d5: 51, e5: 52, f5: 53, g5: 54, h5: 55,\n    a4: 64, b4: 65, c4: 66, d4: 67, e4: 68, f4: 69, g4: 70, h4: 71,\n    a3: 80, b3: 81, c3: 82, d3: 83, e3: 84, f3: 85, g3: 86, h3: 87,\n    a2: 96, b2: 97, c2: 98, d2: 99, e2: 100, f2: 101, g2: 102, h2: 103,\n    a1: 112, b1: 113, c1: 114, d1: 115, e1: 116, f1: 117, g1: 118, h1: 119\n  };\n\n  var ROOKS = {\n    w: [{ square: SQUARES.a1, flag: BITS.QSIDE_CASTLE }, { square: SQUARES.h1, flag: BITS.KSIDE_CASTLE }],\n    b: [{ square: SQUARES.a8, flag: BITS.QSIDE_CASTLE }, { square: SQUARES.h8, flag: BITS.KSIDE_CASTLE }]\n  };\n\n  var _board = new Array(128);\n  var kings = { w: EMPTY, b: EMPTY };\n  var _turn = WHITE;\n  var castling = { w: 0, b: 0 };\n  var ep_square = EMPTY;\n  var half_moves = 0;\n  var move_number = 1;\n  var _history = [];\n  var header = {};\n  var comments = {};\n\n  /* if the user passes in a fen string, load it, else default to\n   * starting position\n   */\n  if (typeof fen === 'undefined') {\n    _load(DEFAULT_POSITION);\n  } else {\n    _load(fen);\n  }\n\n  function _clear(keep_headers) {\n    if (typeof keep_headers === 'undefined') {\n      keep_headers = false;\n    }\n\n    _board = new Array(128);\n    kings = { w: EMPTY, b: EMPTY };\n    _turn = WHITE;\n    castling = { w: 0, b: 0 };\n    ep_square = EMPTY;\n    half_moves = 0;\n    move_number = 1;\n    _history = [];\n    if (!keep_headers) header = {};\n    comments = {};\n    update_setup(generate_fen());\n  }\n\n  function prune_comments() {\n    var reversed_history = [];\n    var current_comments = {};\n    var copy_comment = function copy_comment(fen) {\n      if (fen in comments) {\n        current_comments[fen] = comments[fen];\n      }\n    };\n    while (_history.length > 0) {\n      reversed_history.push(undo_move());\n    }\n    copy_comment(generate_fen());\n    while (reversed_history.length > 0) {\n      make_move(reversed_history.pop());\n      copy_comment(generate_fen());\n    }\n    comments = current_comments;\n  }\n\n  function _reset() {\n    _load(DEFAULT_POSITION);\n  }\n\n  function _load(fen, keep_headers) {\n    if (typeof keep_headers === 'undefined') {\n      keep_headers = false;\n    }\n\n    var tokens = fen.split(/\\s+/);\n    var position = tokens[0];\n    var square = 0;\n\n    if (!_validate_fen(fen).valid) {\n      return false;\n    }\n\n    _clear(keep_headers);\n\n    for (var i = 0; i < position.length; i++) {\n      var piece = position.charAt(i);\n\n      if (piece === '/') {\n        square += 8;\n      } else if (is_digit(piece)) {\n        square += parseInt(piece, 10);\n      } else {\n        var color = piece < 'a' ? WHITE : BLACK;\n        _put({ type: piece.toLowerCase(), color: color }, algebraic(square));\n        square++;\n      }\n    }\n\n    _turn = tokens[1];\n\n    if (tokens[2].indexOf('K') > -1) {\n      castling.w |= BITS.KSIDE_CASTLE;\n    }\n    if (tokens[2].indexOf('Q') > -1) {\n      castling.w |= BITS.QSIDE_CASTLE;\n    }\n    if (tokens[2].indexOf('k') > -1) {\n      castling.b |= BITS.KSIDE_CASTLE;\n    }\n    if (tokens[2].indexOf('q') > -1) {\n      castling.b |= BITS.QSIDE_CASTLE;\n    }\n\n    ep_square = tokens[3] === '-' ? EMPTY : SQUARES[tokens[3]];\n    half_moves = parseInt(tokens[4], 10);\n    move_number = parseInt(tokens[5], 10);\n\n    update_setup(generate_fen());\n\n    return true;\n  }\n\n  /* TODO: this function is pretty much crap - it validates structure but\n   * completely ignores content (e.g. doesn't verify that each side has a king)\n   * ... we should rewrite this, and ditch the silly error_number field while\n   * we're at it\n   */\n  function _validate_fen(fen) {\n    var errors = {\n      0: 'No errors.',\n      1: 'FEN string must contain six space-delimited fields.',\n      2: '6th field (move number) must be a positive integer.',\n      3: '5th field (half move counter) must be a non-negative integer.',\n      4: '4th field (en-passant square) is invalid.',\n      5: '3rd field (castling availability) is invalid.',\n      6: '2nd field (side to move) is invalid.',\n      7: \"1st field (piece positions) does not contain 8 '/'-delimited rows.\",\n      8: '1st field (piece positions) is invalid [consecutive numbers].',\n      9: '1st field (piece positions) is invalid [invalid piece].',\n      10: '1st field (piece positions) is invalid [row too large].',\n      11: 'Illegal en-passant square'\n\n      /* 1st criterion: 6 space-seperated fields? */\n    };var tokens = fen.split(/\\s+/);\n    if (tokens.length !== 6) {\n      return { valid: false, error_number: 1, error: errors[1] };\n    }\n\n    /* 2nd criterion: move number field is a integer value > 0? */\n    if (isNaN(tokens[5]) || parseInt(tokens[5], 10) <= 0) {\n      return { valid: false, error_number: 2, error: errors[2] };\n    }\n\n    /* 3rd criterion: half move counter is an integer >= 0? */\n    if (isNaN(tokens[4]) || parseInt(tokens[4], 10) < 0) {\n      return { valid: false, error_number: 3, error: errors[3] };\n    }\n\n    /* 4th criterion: 4th field is a valid e.p.-string? */\n    if (!/^(-|[abcdefgh][36])$/.test(tokens[3])) {\n      return { valid: false, error_number: 4, error: errors[4] };\n    }\n\n    /* 5th criterion: 3th field is a valid castle-string? */\n    if (!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(tokens[2])) {\n      return { valid: false, error_number: 5, error: errors[5] };\n    }\n\n    /* 6th criterion: 2nd field is \"w\" (white) or \"b\" (black)? */\n    if (!/^(w|b)$/.test(tokens[1])) {\n      return { valid: false, error_number: 6, error: errors[6] };\n    }\n\n    /* 7th criterion: 1st field contains 8 rows? */\n    var rows = tokens[0].split('/');\n\n    /* 8th criterion: every row is valid? */\n    for (var i = 0; i < rows.length; i++) {\n      /* check for right sum of fields AND not two numbers in succession */\n      var sum_fields = 0;\n      var previous_was_number = false;\n\n      for (var k = 0; k < rows[i].length; k++) {\n        if (!isNaN(rows[i][k])) {\n          if (previous_was_number) {\n            return { valid: false, error_number: 8, error: errors[8] };\n          }\n          sum_fields += parseInt(rows[i][k], 10);\n          previous_was_number = true;\n        } else {\n          if (!/^[prnbqkePRNBQKE]$/.test(rows[i][k])) {\n            return { valid: false, error_number: 9, error: errors[9] };\n          }\n          sum_fields += 1;\n          previous_was_number = false;\n        }\n      }\n      if (sum_fields !== 8) {\n        return { valid: false, error_number: 10, error: errors[10] };\n      }\n    }\n\n    if (tokens[3][1] == '3' && tokens[1] == 'w' || tokens[3][1] == '6' && tokens[1] == 'b') {\n      return { valid: false, error_number: 11, error: errors[11] };\n    }\n\n    /* everything's okay! */\n    return { valid: true, error_number: 0, error: errors[0] };\n  }\n\n  function generate_fen() {\n    var empty = 0;\n    var fen = '';\n\n    for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\n      if (_board[i] == null) {\n        empty++;\n      } else {\n        if (empty > 0) {\n          fen += empty;\n          empty = 0;\n        }\n        var color = _board[i].color;\n        var piece = _board[i].type;\n\n        fen += color === WHITE ? piece.toUpperCase() : piece.toLowerCase();\n      }\n\n      if (i + 1 & 0x88) {\n        if (empty > 0) {\n          fen += empty;\n        }\n\n        if (i !== SQUARES.h1) {\n          fen += '/';\n        }\n\n        empty = 0;\n        i += 8;\n      }\n    }\n\n    var cflags = '';\n    if (castling[WHITE] & BITS.KSIDE_CASTLE) {\n      cflags += 'K';\n    }\n    if (castling[WHITE] & BITS.QSIDE_CASTLE) {\n      cflags += 'Q';\n    }\n    if (castling[BLACK] & BITS.KSIDE_CASTLE) {\n      cflags += 'k';\n    }\n    if (castling[BLACK] & BITS.QSIDE_CASTLE) {\n      cflags += 'q';\n    }\n\n    /* do we have an empty castling flag? */\n    cflags = cflags || '-';\n    var epflags = ep_square === EMPTY ? '-' : algebraic(ep_square);\n\n    return [fen, _turn, cflags, epflags, half_moves, move_number].join(' ');\n  }\n\n  function set_header(args) {\n    for (var i = 0; i < args.length; i += 2) {\n      if (typeof args[i] === 'string' && typeof args[i + 1] === 'string') {\n        header[args[i]] = args[i + 1];\n      }\n    }\n    return header;\n  }\n\n  /* called when the initial board setup is changed with put() or remove().\n   * modifies the SetUp and FEN properties of the header object.  if the FEN is\n   * equal to the default position, the SetUp and FEN are deleted\n   * the setup is only updated if history.length is zero, ie moves haven't been\n   * made.\n   */\n  function update_setup(fen) {\n    if (_history.length > 0) return;\n\n    if (fen !== DEFAULT_POSITION) {\n      header['SetUp'] = '1';\n      header['FEN'] = fen;\n    } else {\n      delete header['SetUp'];\n      delete header['FEN'];\n    }\n  }\n\n  function _get(square) {\n    var piece = _board[SQUARES[square]];\n    return piece ? { type: piece.type, color: piece.color } : null;\n  }\n\n  function _put(piece, square) {\n    /* check for valid piece object */\n    if (!('type' in piece && 'color' in piece)) {\n      return false;\n    }\n\n    /* check for piece */\n    if (SYMBOLS.indexOf(piece.type.toLowerCase()) === -1) {\n      return false;\n    }\n\n    /* check for valid square */\n    if (!(square in SQUARES)) {\n      return false;\n    }\n\n    var sq = SQUARES[square];\n\n    /* don't let the user place more than one king */\n    if (piece.type == KING && !(kings[piece.color] == EMPTY || kings[piece.color] == sq)) {\n      return false;\n    }\n\n    _board[sq] = { type: piece.type, color: piece.color };\n    if (piece.type === KING) {\n      kings[piece.color] = sq;\n    }\n\n    update_setup(generate_fen());\n\n    return true;\n  }\n\n  function _remove(square) {\n    var piece = _get(square);\n    _board[SQUARES[square]] = null;\n    if (piece && piece.type === KING) {\n      kings[piece.color] = EMPTY;\n    }\n\n    update_setup(generate_fen());\n\n    return piece;\n  }\n\n  function build_move(board, from, to, flags, promotion) {\n    var move = {\n      color: _turn,\n      from: from,\n      to: to,\n      flags: flags,\n      piece: board[from].type\n    };\n\n    if (promotion) {\n      move.flags |= BITS.PROMOTION;\n      move.promotion = promotion;\n    }\n\n    if (board[to]) {\n      move.captured = board[to].type;\n    } else if (flags & BITS.EP_CAPTURE) {\n      move.captured = PAWN;\n    }\n    return move;\n  }\n\n  function generate_moves(options) {\n    function add_move(board, moves, from, to, flags) {\n      /* if pawn promotion */\n      if (board[from].type === PAWN && (rank(to) === RANK_8 || rank(to) === RANK_1)) {\n        var pieces = [QUEEN, ROOK, BISHOP, KNIGHT];\n        for (var i = 0, len = pieces.length; i < len; i++) {\n          moves.push(build_move(board, from, to, flags, pieces[i]));\n        }\n      } else if (board[from].type === ELEPHANT) {\n        console.log('add_move {from: ' + from + ', to: ' + to + '}');\n        moves.push(build_move(board, from, to, flags));\n      } else {\n        if (board !== undefined && board[from] !== undefined && board[from].type !== undefined) {\n          moves.push(build_move(board, from, to, flags));\n        }\n      }\n    }\n\n    var moves = [];\n    var us = _turn;\n    var them = swap_color(us);\n    var second_rank = { b: RANK_7, w: RANK_2 };\n\n    var first_sq = SQUARES.a8;\n    var last_sq = SQUARES.h1;\n    var single_square = false;\n\n    /* do we want legal moves? */\n    var legal = typeof options !== 'undefined' && 'legal' in options ? options.legal : true;\n\n    /* are we generating moves for a single square? */\n    if (typeof options !== 'undefined' && 'square' in options) {\n      if (options.square in SQUARES) {\n        first_sq = last_sq = SQUARES[options.square];\n        single_square = true;\n      } else {\n        /* invalid square */\n        return [];\n      }\n    }\n\n    for (var i = first_sq; i <= last_sq; i++) {\n      /* did we run off the end of the board */\n      if (i & 0x88) {\n        i += 7;\n        continue;\n      }\n\n      var piece = _board[i];\n      if (piece == null || piece.color !== us && piece.type !== 'e') {\n        continue;\n      }\n\n      if (piece.type === PAWN) {\n        /* single square, non-capturing */\n        var square = i + PAWN_OFFSETS[us][0];\n        if (_board[square] == null) {\n          add_move(_board, moves, i, square, BITS.NORMAL);\n\n          /* double square */\n          var square = i + PAWN_OFFSETS[us][1];\n          if (second_rank[us] === rank(i) && _board[square] == null) {\n            add_move(_board, moves, i, square, BITS.BIG_PAWN);\n          }\n        }\n\n        /* pawn captures */\n        for (j = 2; j < 4; j++) {\n          var square = i + PAWN_OFFSETS[us][j];\n          if (square & 0x88) continue;\n\n          if (_board[square] != null && _board[square].color === them) {\n            add_move(_board, moves, i, square, BITS.CAPTURE);\n          } else if (square === ep_square) {\n            add_move(_board, moves, i, ep_square, BITS.EP_CAPTURE);\n          }\n        }\n      } else if (piece.type === ELEPHANT) {\n        // move to any none occupied square\n        console.log('finding moves for elephant at ' + i);\n        for (var _j = first_sq; _j <= last_sq; _j++) {\n          console.log('j is ' + _j);\n          console.log('board[j] is ' + JSON.stringify(_board[_j]));\n          if (_board[_j] === undefined || _board[_j] == null) {\n            square = _j; // TODO: calculate offsets for piece & use to calc square\n            console.log('adding move {from: ' + i + ', to: ' + square + '}');\n            add_move(_board, moves, i, square, BITS.NORMAL);\n          }\n        }\n        console.log('moves are ' + JSON.stringify(moves));\n      } else {\n        for (var j = 0, len = PIECE_OFFSETS[piece.type].length; j < len; j++) {\n          var offset = PIECE_OFFSETS[piece.type][j];\n          var square = i;\n\n          while (true) {\n            square += offset;\n            if (square & 0x88) break;\n\n            if (_board[square] == null) {\n              add_move(_board, moves, i, square, BITS.NORMAL);\n            } else {\n              if (_board[square].color === us) break;\n              add_move(_board, moves, i, square, BITS.CAPTURE);\n              break;\n            }\n\n            /* break, if knight or king */\n            if (piece.type === 'n' || piece.type === 'k') break;\n          }\n        }\n      }\n    }\n\n    /* check for castling if: a) we're generating all moves, or b) we're doing\n     * single square move generation on the king's square\n     */\n    if (!single_square || last_sq === kings[us]) {\n      /* king-side castling */\n      if (castling[us] & BITS.KSIDE_CASTLE) {\n        var castling_from = kings[us];\n        var castling_to = castling_from + 2;\n\n        if (_board[castling_from + 1] == null && _board[castling_to] == null && !attacked(them, kings[us]) && !attacked(them, castling_from + 1) && !attacked(them, castling_to)) {\n          add_move(_board, moves, kings[us], castling_to, BITS.KSIDE_CASTLE);\n        }\n      }\n\n      /* queen-side castling */\n      if (castling[us] & BITS.QSIDE_CASTLE) {\n        var castling_from = kings[us];\n        var castling_to = castling_from - 2;\n\n        if (_board[castling_from - 1] == null && _board[castling_from - 2] == null && _board[castling_from - 3] == null && !attacked(them, kings[us]) && !attacked(them, castling_from - 1) && !attacked(them, castling_to)) {\n          add_move(_board, moves, kings[us], castling_to, BITS.QSIDE_CASTLE);\n        }\n      }\n    }\n\n    /* return all pseudo-legal moves (this includes moves that allow the king\n     * to be captured)\n     */\n    if (!legal) {\n      return moves;\n    }\n\n    /* filter out illegal moves */\n    var legal_moves = [];\n    for (var i = 0, len = moves.length; i < len; i++) {\n      make_move(moves[i]);\n      if (!king_attacked(us)) {\n        legal_moves.push(moves[i]);\n      }\n      undo_move();\n    }\n    return legal_moves;\n  }\n\n  /* convert a move from 0x88 coordinates to Standard Algebraic Notation\n   * (SAN)\n   *\n   * @param {boolean} sloppy Use the sloppy SAN generator to work around over\n   * disambiguation bugs in Fritz and Chessbase.  See below:\n   *\n   * r1bqkbnr/ppp2ppp/2n5/1B1pP3/4P3/8/PPPP2PP/RNBQK1NR b KQkq - 2 4\n   * 4. ... Nge7 is overly disambiguated because the knight on c6 is pinned\n   * 4. ... Ne7 is technically the valid SAN\n   */\n  function move_to_san(move, sloppy) {\n    var output = '';\n\n    if (move.flags & BITS.KSIDE_CASTLE) {\n      output = 'O-O';\n    } else if (move.flags & BITS.QSIDE_CASTLE) {\n      output = 'O-O-O';\n    } else {\n      var disambiguator = get_disambiguator(move, sloppy);\n\n      if (move.piece !== PAWN) {\n        output += move.piece.toUpperCase() + disambiguator;\n      }\n\n      if (move.flags & (BITS.CAPTURE | BITS.EP_CAPTURE)) {\n        if (move.piece === PAWN) {\n          output += algebraic(move.from)[0];\n        }\n        output += 'x';\n      }\n\n      output += algebraic(move.to);\n\n      if (move.flags & BITS.PROMOTION) {\n        output += '=' + move.promotion.toUpperCase();\n      }\n    }\n\n    make_move(move);\n    if (_in_check()) {\n      if (_in_checkmate()) {\n        output += '#';\n      } else {\n        output += '+';\n      }\n    }\n    undo_move();\n\n    return output;\n  }\n\n  // parses all of the decorators out of a SAN string\n  function stripped_san(move) {\n    return move.replace(/=/, '').replace(/[+#]?[?!]*$/, '');\n  }\n\n  function attacked(color, square) {\n    for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\n      /* did we run off the end of the board */\n      if (i & 0x88) {\n        i += 7;\n        continue;\n      }\n\n      /* if empty square or wrong color */\n      if (_board[i] == null || _board[i].color !== color) continue;\n\n      var piece = _board[i];\n      var difference = i - square;\n      var index = difference + 119;\n\n      if (ATTACKS[index] & 1 << SHIFTS[piece.type]) {\n        if (piece.type === PAWN) {\n          if (difference > 0) {\n            if (piece.color === WHITE) return true;\n          } else {\n            if (piece.color === BLACK) return true;\n          }\n          continue;\n        }\n\n        /* if the piece is a knight or a king */\n        if (piece.type === 'n' || piece.type === 'k') return true;\n\n        var offset = RAYS[index];\n        var j = i + offset;\n\n        var blocked = false;\n        while (j !== square) {\n          if (_board[j] != null) {\n            blocked = true;\n            break;\n          }\n          j += offset;\n        }\n\n        if (!blocked) return true;\n      }\n    }\n\n    return false;\n  }\n\n  function king_attacked(color) {\n    return attacked(swap_color(color), kings[color]);\n  }\n\n  function _in_check() {\n    return king_attacked(_turn);\n  }\n\n  function _in_checkmate() {\n    return _in_check() && generate_moves().length === 0;\n  }\n\n  function _in_stalemate() {\n    return !_in_check() && generate_moves().length === 0;\n  }\n\n  function _insufficient_material() {\n    var pieces = {};\n    var bishops = [];\n    var num_pieces = 0;\n    var sq_color = 0;\n\n    for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\n      sq_color = (sq_color + 1) % 2;\n      if (i & 0x88) {\n        i += 7;\n        continue;\n      }\n\n      var piece = _board[i];\n      if (piece) {\n        pieces[piece.type] = piece.type in pieces ? pieces[piece.type] + 1 : 1;\n        if (piece.type === BISHOP) {\n          bishops.push(sq_color);\n        }\n        num_pieces++;\n      }\n    }\n\n    /* k vs. k */\n    if (num_pieces === 2) {\n      return true;\n    } else if (\n    /* k vs. kn .... or .... k vs. kb */\n    num_pieces === 3 && (pieces[BISHOP] === 1 || pieces[KNIGHT] === 1)) {\n      return true;\n    } else if (num_pieces === pieces[BISHOP] + 2) {\n      /* kb vs. kb where any number of bishops are all on the same color */\n      var sum = 0;\n      var len = bishops.length;\n      for (var i = 0; i < len; i++) {\n        sum += bishops[i];\n      }\n      if (sum === 0 || sum === len) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function _in_threefold_repetition() {\n    /* TODO: while this function is fine for casual use, a better\n     * implementation would use a Zobrist key (instead of FEN). the\n     * Zobrist key would be maintained in the make_move/undo_move functions,\n     * avoiding the costly that we do below.\n     */\n    var moves = [];\n    var positions = {};\n    var repetition = false;\n\n    while (true) {\n      var move = undo_move();\n      if (!move) break;\n      moves.push(move);\n    }\n\n    while (true) {\n      /* remove the last two fields in the FEN string, they're not needed\n       * when checking for draw by rep */\n      var fen = generate_fen().split(' ').slice(0, 4).join(' ');\n\n      /* has the position occurred three or move times */\n      positions[fen] = fen in positions ? positions[fen] + 1 : 1;\n      if (positions[fen] >= 3) {\n        repetition = true;\n      }\n\n      if (!moves.length) {\n        break;\n      }\n      make_move(moves.pop());\n    }\n\n    return repetition;\n  }\n\n  function push(move) {\n    _history.push({\n      move: move,\n      kings: { b: kings.b, w: kings.w },\n      turn: _turn,\n      castling: { b: castling.b, w: castling.w },\n      ep_square: ep_square,\n      half_moves: half_moves,\n      move_number: move_number\n    });\n  }\n\n  function make_move(move) {\n    var us = _turn;\n    var them = swap_color(us);\n    push(move);\n\n    _board[move.to] = _board[move.from];\n    _board[move.from] = null;\n\n    /* if ep capture, remove the captured pawn */\n    if (move.flags & BITS.EP_CAPTURE) {\n      if (_turn === BLACK) {\n        _board[move.to - 16] = null;\n      } else {\n        _board[move.to + 16] = null;\n      }\n    }\n\n    /* if pawn promotion, replace with new piece */\n    if (move.flags & BITS.PROMOTION) {\n      _board[move.to] = { type: move.promotion, color: us };\n    }\n\n    /* if we moved the king */\n    if (_board[move.to].type === KING) {\n      kings[_board[move.to].color] = move.to;\n\n      /* if we castled, move the rook next to the king */\n      if (move.flags & BITS.KSIDE_CASTLE) {\n        var castling_to = move.to - 1;\n        var castling_from = move.to + 1;\n        _board[castling_to] = _board[castling_from];\n        _board[castling_from] = null;\n      } else if (move.flags & BITS.QSIDE_CASTLE) {\n        var castling_to = move.to + 1;\n        var castling_from = move.to - 2;\n        _board[castling_to] = _board[castling_from];\n        _board[castling_from] = null;\n      }\n\n      /* turn off castling */\n      castling[us] = '';\n    }\n\n    /* turn off castling if we move a rook */\n    if (castling[us]) {\n      for (var i = 0, len = ROOKS[us].length; i < len; i++) {\n        if (move.from === ROOKS[us][i].square && castling[us] & ROOKS[us][i].flag) {\n          castling[us] ^= ROOKS[us][i].flag;\n          break;\n        }\n      }\n    }\n\n    /* turn off castling if we capture a rook */\n    if (castling[them]) {\n      for (var i = 0, len = ROOKS[them].length; i < len; i++) {\n        if (move.to === ROOKS[them][i].square && castling[them] & ROOKS[them][i].flag) {\n          castling[them] ^= ROOKS[them][i].flag;\n          break;\n        }\n      }\n    }\n\n    /* if big pawn move, update the en passant square */\n    if (move.flags & BITS.BIG_PAWN) {\n      if (_turn === 'b') {\n        ep_square = move.to - 16;\n      } else {\n        ep_square = move.to + 16;\n      }\n    } else {\n      ep_square = EMPTY;\n    }\n\n    /* reset the 50 move counter if a pawn is moved or a piece is captured */\n    if (move.piece === PAWN) {\n      half_moves = 0;\n    } else if (move.flags & (BITS.CAPTURE | BITS.EP_CAPTURE)) {\n      half_moves = 0;\n    } else {\n      half_moves++;\n    }\n\n    if (_turn === BLACK) {\n      move_number++;\n    }\n    _turn = swap_color(_turn);\n  }\n\n  function undo_move() {\n    var old = _history.pop();\n    if (old == null) {\n      return null;\n    }\n\n    var move = old.move;\n    kings = old.kings;\n    _turn = old.turn;\n    castling = old.castling;\n    ep_square = old.ep_square;\n    half_moves = old.half_moves;\n    move_number = old.move_number;\n\n    var us = _turn;\n    var them = swap_color(_turn);\n\n    _board[move.from] = _board[move.to];\n    _board[move.from].type = move.piece; // to undo any promotions\n    _board[move.to] = null;\n\n    if (move.flags & BITS.CAPTURE) {\n      _board[move.to] = { type: move.captured, color: them };\n    } else if (move.flags & BITS.EP_CAPTURE) {\n      var index;\n      if (us === BLACK) {\n        index = move.to - 16;\n      } else {\n        index = move.to + 16;\n      }\n      _board[index] = { type: PAWN, color: them };\n    }\n\n    if (move.flags & (BITS.KSIDE_CASTLE | BITS.QSIDE_CASTLE)) {\n      var castling_to, castling_from;\n      if (move.flags & BITS.KSIDE_CASTLE) {\n        castling_to = move.to + 1;\n        castling_from = move.to - 1;\n      } else if (move.flags & BITS.QSIDE_CASTLE) {\n        castling_to = move.to - 2;\n        castling_from = move.to + 1;\n      }\n\n      _board[castling_to] = _board[castling_from];\n      _board[castling_from] = null;\n    }\n\n    return move;\n  }\n\n  /* this function is used to uniquely identify ambiguous moves */\n  function get_disambiguator(move, sloppy) {\n    var moves = generate_moves({ legal: !sloppy });\n\n    var from = move.from;\n    var to = move.to;\n    var piece = move.piece;\n\n    var ambiguities = 0;\n    var same_rank = 0;\n    var same_file = 0;\n\n    for (var i = 0, len = moves.length; i < len; i++) {\n      var ambig_from = moves[i].from;\n      var ambig_to = moves[i].to;\n      var ambig_piece = moves[i].piece;\n\n      /* if a move of the same piece type ends on the same to square, we'll\n       * need to add a disambiguator to the algebraic notation\n       */\n      if (piece === ambig_piece && from !== ambig_from && to === ambig_to) {\n        ambiguities++;\n\n        if (rank(from) === rank(ambig_from)) {\n          same_rank++;\n        }\n\n        if (file(from) === file(ambig_from)) {\n          same_file++;\n        }\n      }\n    }\n\n    if (ambiguities > 0) {\n      /* if there exists a similar moving piece on the same rank and file as\n       * the move in question, use the square as the disambiguator\n       */\n      if (same_rank > 0 && same_file > 0) {\n        return algebraic(from);\n      } else if (same_file > 0) {\n        /* if the moving piece rests on the same file, use the rank symbol as the\n         * disambiguator\n         */\n        return algebraic(from).charAt(1);\n      } else {\n        /* else use the file symbol */\n        return algebraic(from).charAt(0);\n      }\n    }\n\n    return '';\n  }\n\n  function _ascii() {\n    var s = '   +------------------------+\\n';\n    for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\n      /* display the rank */\n      if (file(i) === 0) {\n        s += ' ' + '87654321'[rank(i)] + ' |';\n      }\n\n      /* empty piece */\n      if (_board[i] == null) {\n        s += ' . ';\n      } else {\n        var piece = _board[i].type;\n        var color = _board[i].color;\n        var symbol = color === WHITE ? piece.toUpperCase() : piece.toLowerCase();\n        s += ' ' + symbol + ' ';\n      }\n\n      if (i + 1 & 0x88) {\n        s += '|\\n';\n        i += 8;\n      }\n    }\n    s += '   +------------------------+\\n';\n    s += '     a  b  c  d  e  f  g  h\\n';\n\n    return s;\n  }\n\n  // convert a move from Standard Algebraic Notation (SAN) to 0x88 coordinates\n  function move_from_san(move, sloppy) {\n    // strip off any move decorations: e.g Nf3+?!\n    var clean_move = stripped_san(move);\n\n    // if we're using the sloppy parser run a regex to grab piece, to, and from\n    // this should parse invalid SAN like: Pe2-e4, Rc1c4, Qf3xf7\n    if (sloppy) {\n      var matches = clean_move.match(/([pnbrqkPNBRQKE])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBNE])?/);\n      if (matches) {\n        var piece = matches[1];\n        var from = matches[2];\n        var to = matches[3];\n        var promotion = matches[4];\n      }\n    }\n\n    var moves = generate_moves();\n    for (var i = 0, len = moves.length; i < len; i++) {\n      // try the strict parser first, then the sloppy parser if requested\n      // by the user\n      if (clean_move === stripped_san(move_to_san(moves[i])) || sloppy && clean_move === stripped_san(move_to_san(moves[i], true))) {\n        return moves[i];\n      } else {\n        if (matches && (!piece || piece.toLowerCase() == moves[i].piece) && SQUARES[from] == moves[i].from && SQUARES[to] == moves[i].to && (!promotion || promotion.toLowerCase() == moves[i].promotion)) {\n          return moves[i];\n        }\n      }\n    }\n\n    return null;\n  }\n\n  /*****************************************************************************\n   * UTILITY FUNCTIONS\n   ****************************************************************************/\n  function rank(i) {\n    return i >> 4;\n  }\n\n  function file(i) {\n    return i & 15;\n  }\n\n  function algebraic(i) {\n    var f = file(i),\n        r = rank(i);\n\n    return 'abcdefgh'.substring(f, f + 1) + '87654321'.substring(r, r + 1);\n  }\n\n  function swap_color(c) {\n    return c === WHITE ? BLACK : WHITE;\n  }\n\n  function is_digit(c) {\n    return '0123456789'.indexOf(c) !== -1;\n  }\n\n  /* pretty = external move object */\n  function make_pretty(ugly_move) {\n    var move = clone(ugly_move);\n    move.san = move_to_san(move, false);\n    move.to = algebraic(move.to);\n    move.from = algebraic(move.from);\n\n    var flags = '';\n\n    for (var flag in BITS) {\n      if (BITS[flag] & move.flags) {\n        flags += FLAGS[flag];\n      }\n    }\n    move.flags = flags;\n\n    return move;\n  }\n\n  function clone(obj) {\n    var dupe = obj instanceof Array ? [] : {};\n\n    for (var property in obj) {\n      if ((typeof property === 'undefined' ? 'undefined' : _typeof(property)) === 'object') {\n        dupe[property] = clone(obj[property]);\n      } else {\n        dupe[property] = obj[property];\n      }\n    }\n\n    return dupe;\n  }\n\n  function trim(str) {\n    return str.replace(/^\\s+|\\s+$/g, '');\n  }\n\n  /*****************************************************************************\n   * DEBUGGING UTILITIES\n   ****************************************************************************/\n  function _perft(depth) {\n    var moves = generate_moves({ legal: false });\n    var nodes = 0;\n    var color = _turn;\n\n    for (var i = 0, len = moves.length; i < len; i++) {\n      make_move(moves[i]);\n      if (!king_attacked(color)) {\n        if (depth - 1 > 0) {\n          var child_nodes = _perft(depth - 1);\n          nodes += child_nodes;\n        } else {\n          nodes++;\n        }\n      }\n      undo_move();\n    }\n\n    return nodes;\n  }\n\n  return {\n    /***************************************************************************\n     * PUBLIC CONSTANTS (is there a better way to do this?)\n     **************************************************************************/\n    WHITE: WHITE,\n    BLACK: BLACK,\n    PAWN: PAWN,\n    KNIGHT: KNIGHT,\n    BISHOP: BISHOP,\n    ROOK: ROOK,\n    QUEEN: QUEEN,\n    KING: KING,\n    ELEPHANT: ELEPHANT,\n    SQUARES: function () {\n      /* from the ECMA-262 spec (section 12.6.4):\n       * \"The mechanics of enumerating the properties ... is\n       * implementation dependent\"\n       * so: for (var sq in SQUARES) { keys.push(sq); } might not be\n       * ordered correctly\n       */\n      var keys = [];\n      for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\n        if (i & 0x88) {\n          i += 7;\n          continue;\n        }\n        keys.push(algebraic(i));\n      }\n      return keys;\n    }(),\n    FLAGS: FLAGS,\n\n    /***************************************************************************\n     * PUBLIC API\n     **************************************************************************/\n    load: function load(fen) {\n      return _load(fen);\n    },\n\n    reset: function reset() {\n      return _reset();\n    },\n\n    moves: function moves(options) {\n      /* The internal representation of a chess move is in 0x88 format, and\n       * not meant to be human-readable.  The code below converts the 0x88\n       * square coordinates to algebraic coordinates.  It also prunes an\n       * unnecessary move keys resulting from a verbose call.\n       */\n\n      var ugly_moves = generate_moves(options);\n      var moves = [];\n\n      for (var i = 0, len = ugly_moves.length; i < len; i++) {\n        /* does the user want a full move object (most likely not), or just\n         * SAN\n         */\n        if (typeof options !== 'undefined' && 'verbose' in options && options.verbose) {\n          moves.push(make_pretty(ugly_moves[i]));\n        } else {\n          moves.push(move_to_san(ugly_moves[i], false));\n        }\n      }\n\n      return moves;\n    },\n\n    in_check: function in_check() {\n      return _in_check();\n    },\n\n    in_checkmate: function in_checkmate() {\n      return _in_checkmate();\n    },\n\n    in_stalemate: function in_stalemate() {\n      return _in_stalemate();\n    },\n\n    in_draw: function in_draw() {\n      return half_moves >= 100 || _in_stalemate() || _insufficient_material() || _in_threefold_repetition();\n    },\n\n    insufficient_material: function insufficient_material() {\n      return _insufficient_material();\n    },\n\n    in_threefold_repetition: function in_threefold_repetition() {\n      return _in_threefold_repetition();\n    },\n\n    game_over: function game_over() {\n      return half_moves >= 100 || _in_checkmate() || _in_stalemate() || _insufficient_material() || _in_threefold_repetition();\n    },\n\n    validate_fen: function validate_fen(fen) {\n      return _validate_fen(fen);\n    },\n\n    fen: function fen() {\n      return generate_fen();\n    },\n\n    board: function board() {\n      var output = [],\n          row = [];\n\n      for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\n        if (_board[i] == null) {\n          row.push(null);\n        } else {\n          row.push({ type: _board[i].type, color: _board[i].color });\n        }\n        if (i + 1 & 0x88) {\n          output.push(row);\n          row = [];\n          i += 8;\n        }\n      }\n\n      return output;\n    },\n\n    pgn: function pgn(options) {\n      /* using the specification from http://www.chessclub.com/help/PGN-spec\n       * example for html usage: .pgn({ max_width: 72, newline_char: \"<br />\" })\n       */\n      var newline = (typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object' && typeof options.newline_char === 'string' ? options.newline_char : '\\n';\n      var max_width = (typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object' && typeof options.max_width === 'number' ? options.max_width : 0;\n      var result = [];\n      var header_exists = false;\n\n      /* add the PGN header headerrmation */\n      for (var i in header) {\n        /* TODO: order of enumerated properties in header object is not\n         * guaranteed, see ECMA-262 spec (section 12.6.4)\n         */\n        result.push('[' + i + ' \"' + header[i] + '\"]' + newline);\n        header_exists = true;\n      }\n\n      if (header_exists && _history.length) {\n        result.push(newline);\n      }\n\n      var append_comment = function append_comment(move_string) {\n        var comment = comments[generate_fen()];\n        if (typeof comment !== 'undefined') {\n          var delimiter = move_string.length > 0 ? ' ' : '';\n          move_string = '' + move_string + delimiter + '{' + comment + '}';\n        }\n        return move_string;\n      };\n\n      /* pop all of history onto reversed_history */\n      var reversed_history = [];\n      while (_history.length > 0) {\n        reversed_history.push(undo_move());\n      }\n\n      var moves = [];\n      var move_string = '';\n\n      /* special case of a commented starting position with no moves */\n      if (reversed_history.length === 0) {\n        moves.push(append_comment(''));\n      }\n\n      /* build the list of moves.  a move_string looks like: \"3. e3 e6\" */\n      while (reversed_history.length > 0) {\n        move_string = append_comment(move_string);\n        var move = reversed_history.pop();\n\n        /* if the position started with black to move, start PGN with 1. ... */\n        if (!_history.length && move.color === 'b') {\n          move_string = move_number + '. ...';\n        } else if (move.color === 'w') {\n          /* store the previous generated move_string if we have one */\n          if (move_string.length) {\n            moves.push(move_string);\n          }\n          move_string = move_number + '.';\n        }\n\n        move_string = move_string + ' ' + move_to_san(move, false);\n        make_move(move);\n      }\n\n      /* are there any other leftover moves? */\n      if (move_string.length) {\n        moves.push(append_comment(move_string));\n      }\n\n      /* is there a result? */\n      if (typeof header.Result !== 'undefined') {\n        moves.push(header.Result);\n      }\n\n      /* history should be back to what it was before we started generating PGN,\n       * so join together moves\n       */\n      if (max_width === 0) {\n        return result.join('') + moves.join(' ');\n      }\n\n      var strip = function strip() {\n        if (result.length > 0 && result[result.length - 1] === ' ') {\n          result.pop();\n          return true;\n        }\n        return false;\n      };\n\n      /* NB: this does not preserve comment whitespace. */\n      var wrap_comment = function wrap_comment(width, move) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = move.split(' ')[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var token = _step.value;\n\n            if (!token) {\n              continue;\n            }\n            if (width + token.length > max_width) {\n              while (strip()) {\n                width--;\n              }\n              result.push(newline);\n              width = 0;\n            }\n            result.push(token);\n            width += token.length;\n            result.push(' ');\n            width++;\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        if (strip()) {\n          width--;\n        }\n        return width;\n      };\n\n      /* wrap the PGN output at max_width */\n      var current_width = 0;\n      for (var i = 0; i < moves.length; i++) {\n        if (current_width + moves[i].length > max_width) {\n          if (moves[i].includes('{')) {\n            current_width = wrap_comment(current_width, moves[i]);\n            continue;\n          }\n        }\n        /* if the current move will push past max_width */\n        if (current_width + moves[i].length > max_width && i !== 0) {\n          /* don't end the line with whitespace */\n          if (result[result.length - 1] === ' ') {\n            result.pop();\n          }\n\n          result.push(newline);\n          current_width = 0;\n        } else if (i !== 0) {\n          result.push(' ');\n          current_width++;\n        }\n        result.push(moves[i]);\n        current_width += moves[i].length;\n      }\n\n      return result.join('');\n    },\n\n    load_pgn: function load_pgn(pgn, options) {\n      // allow the user to specify the sloppy move parser to work around over\n      // disambiguation bugs in Fritz and Chessbase\n      var sloppy = typeof options !== 'undefined' && 'sloppy' in options ? options.sloppy : false;\n\n      function mask(str) {\n        return str.replace(/\\\\/g, '\\\\');\n      }\n\n      function has_keys(object) {\n        for (var key in object) {\n          return true;\n        }\n        return false;\n      }\n\n      function parse_pgn_header(header, options) {\n        var newline_char = (typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object' && typeof options.newline_char === 'string' ? options.newline_char : '\\r?\\n';\n        var header_obj = {};\n        var headers = header.split(new RegExp(mask(newline_char)));\n        var key = '';\n        var value = '';\n\n        for (var i = 0; i < headers.length; i++) {\n          key = headers[i].replace(/^\\[([A-Z][A-Za-z]*)\\s.*\\]$/, '$1');\n          value = headers[i].replace(/^\\[[A-Za-z]+\\s\"(.*)\"\\ *\\]$/, '$1');\n          if (trim(key).length > 0) {\n            header_obj[key] = value;\n          }\n        }\n\n        return header_obj;\n      }\n\n      var newline_char = (typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object' && typeof options.newline_char === 'string' ? options.newline_char : '\\r?\\n';\n\n      // RegExp to split header. Takes advantage of the fact that header and movetext\n      // will always have a blank line between them (ie, two newline_char's).\n      // With default newline_char, will equal: /^(\\[((?:\\r?\\n)|.)*\\])(?:\\r?\\n){2}/\n      var header_regex = new RegExp('^(\\\\[((?:' + mask(newline_char) + ')|.)*\\\\])' + '(?:' + mask(newline_char) + '){2}');\n\n      // If no header given, begin with moves.\n      var header_string = header_regex.test(pgn) ? header_regex.exec(pgn)[1] : '';\n\n      // Put the board in the starting position\n      _reset();\n\n      /* parse PGN header */\n      var headers = parse_pgn_header(header_string, options);\n      for (var key in headers) {\n        set_header([key, headers[key]]);\n      }\n\n      /* load the starting position indicated by [Setup '1'] and\n       * [FEN position] */\n      if (headers['SetUp'] === '1') {\n        if (!('FEN' in headers && _load(headers['FEN'], true))) {\n          // second argument to load: don't clear the headers\n          return false;\n        }\n      }\n\n      /* NB: the regexes below that delete move numbers, recursive\n       * annotations, and numeric annotation glyphs may also match\n       * text in comments. To prevent this, we transform comments\n       * by hex-encoding them in place and decoding them again after\n       * the other tokens have been deleted.\n       *\n       * While the spec states that PGN files should be ASCII encoded,\n       * we use {en,de}codeURIComponent here to support arbitrary UTF8\n       * as a convenience for modern users */\n\n      var to_hex = function to_hex(string) {\n        return Array.from(string).map(function (c) {\n          /* encodeURI doesn't transform most ASCII characters,\n           * so we handle these ourselves */\n          return c.charCodeAt(0) < 128 ? c.charCodeAt(0).toString(16) : encodeURIComponent(c).replace(/\\%/g, '').toLowerCase();\n        }).join('');\n      };\n\n      var from_hex = function from_hex(string) {\n        return string.length == 0 ? '' : decodeURIComponent('%' + string.match(/.{1,2}/g).join('%'));\n      };\n\n      var encode_comment = function encode_comment(string) {\n        string = string.replace(new RegExp(mask(newline_char), 'g'), ' ');\n        return '{' + to_hex(string.slice(1, string.length - 1)) + '}';\n      };\n\n      var decode_comment = function decode_comment(string) {\n        if (string.startsWith('{') && string.endsWith('}')) {\n          return from_hex(string.slice(1, string.length - 1));\n        }\n      };\n\n      /* delete header to get the moves */\n      var ms = pgn.replace(header_string, '').replace(\n      /* encode comments so they don't get deleted below */\n      new RegExp('({[^}]*})+?|;([^' + mask(newline_char) + ']*)', 'g'), function (match, bracket, semicolon) {\n        return bracket !== undefined ? encode_comment(bracket) : ' ' + encode_comment('{' + semicolon.slice(1) + '}');\n      }).replace(new RegExp(mask(newline_char), 'g'), ' ');\n\n      /* delete recursive annotation variations */\n      var rav_regex = /(\\([^\\(\\)]+\\))+?/g;\n      while (rav_regex.test(ms)) {\n        ms = ms.replace(rav_regex, '');\n      }\n\n      /* delete move numbers */\n      ms = ms.replace(/\\d+\\.(\\.\\.)?/g, '');\n\n      /* delete ... indicating black to move */\n      ms = ms.replace(/\\.\\.\\./g, '');\n\n      /* delete numeric annotation glyphs */\n      ms = ms.replace(/\\$\\d+/g, '');\n\n      /* trim and get array of moves */\n      var moves = trim(ms).split(new RegExp(/\\s+/));\n\n      /* delete empty entries */\n      moves = moves.join(',').replace(/,,+/g, ',').split(',');\n      var move = '';\n\n      for (var half_move = 0; half_move < moves.length - 1; half_move++) {\n        var comment = decode_comment(moves[half_move]);\n        if (comment !== undefined) {\n          comments[generate_fen()] = comment;\n          continue;\n        }\n        move = move_from_san(moves[half_move], sloppy);\n\n        /* move not possible! (don't clear the board to examine to show the\n         * latest valid position)\n         */\n        if (move == null) {\n          return false;\n        } else {\n          make_move(move);\n        }\n      }\n\n      comment = decode_comment(moves[moves.length - 1]);\n      if (comment !== undefined) {\n        comments[generate_fen()] = comment;\n        moves.pop();\n      }\n\n      /* examine last move */\n      move = moves[moves.length - 1];\n      if (POSSIBLE_RESULTS.indexOf(move) > -1) {\n        if (has_keys(header) && typeof header.Result === 'undefined') {\n          set_header(['Result', move]);\n        }\n      } else {\n        move = move_from_san(move, sloppy);\n        if (move == null) {\n          return false;\n        } else {\n          make_move(move);\n        }\n      }\n      return true;\n    },\n\n    header: function header() {\n      return set_header(arguments);\n    },\n\n    ascii: function ascii() {\n      return _ascii();\n    },\n\n    turn: function turn() {\n      return _turn;\n    },\n\n    move: function move(_move, options) {\n      /* The move function can be called with in the following parameters:\n       *\n       * .move('Nxb7')      <- where 'move' is a case-sensitive SAN string\n       *\n       * .move({ from: 'h7', <- where the 'move' is a move object (additional\n       *         to :'h8',      fields are ignored)\n       *         promotion: 'q',\n       *      })\n       */\n\n      // allow the user to specify the sloppy move parser to work around over\n      // disambiguation bugs in Fritz and Chessbase\n      var sloppy = typeof options !== 'undefined' && 'sloppy' in options ? options.sloppy : false;\n\n      var move_obj = null;\n\n      if (typeof _move === 'string') {\n        move_obj = move_from_san(_move, sloppy);\n      } else if ((typeof _move === 'undefined' ? 'undefined' : _typeof(_move)) === 'object') {\n        var moves = generate_moves();\n\n        /* convert the pretty move object to an ugly move object */\n        for (var i = 0, len = moves.length; i < len; i++) {\n          if (_move.from === algebraic(moves[i].from) && _move.to === algebraic(moves[i].to) && (!('promotion' in moves[i]) || _move.promotion === moves[i].promotion)) {\n            move_obj = moves[i];\n            break;\n          }\n        }\n      }\n\n      /* failed to find move */\n      if (!move_obj) {\n        return null;\n      }\n\n      /* need to make a copy of move because we can't generate SAN after the\n       * move is made\n       */\n      var pretty_move = make_pretty(move_obj);\n\n      make_move(move_obj);\n\n      return pretty_move;\n    },\n\n    undo: function undo() {\n      var move = undo_move();\n      return move ? make_pretty(move) : null;\n    },\n\n    clear: function clear() {\n      return _clear();\n    },\n\n    put: function put(piece, square) {\n      return _put(piece, square);\n    },\n\n    get: function get(square) {\n      return _get(square);\n    },\n\n    remove: function remove(square) {\n      return _remove(square);\n    },\n\n    perft: function perft(depth) {\n      return _perft(depth);\n    },\n\n    square_color: function square_color(square) {\n      if (square in SQUARES) {\n        var sq_0x88 = SQUARES[square];\n        return (rank(sq_0x88) + file(sq_0x88)) % 2 === 0 ? 'light' : 'dark';\n      }\n\n      return null;\n    },\n\n    history: function history(options) {\n      var reversed_history = [];\n      var move_history = [];\n      var verbose = typeof options !== 'undefined' && 'verbose' in options && options.verbose;\n\n      while (_history.length > 0) {\n        reversed_history.push(undo_move());\n      }\n\n      while (reversed_history.length > 0) {\n        var move = reversed_history.pop();\n        if (verbose) {\n          move_history.push(make_pretty(move));\n        } else {\n          move_history.push(move_to_san(move));\n        }\n        make_move(move);\n      }\n\n      return move_history;\n    },\n\n    get_comment: function get_comment() {\n      return comments[generate_fen()];\n    },\n\n    set_comment: function set_comment(comment) {\n      comments[generate_fen()] = comment.replace('{', '[').replace('}', ']');\n    },\n\n    delete_comment: function delete_comment() {\n      var comment = comments[generate_fen()];\n      delete comments[generate_fen()];\n      return comment;\n    },\n\n    get_comments: function get_comments() {\n      prune_comments();\n      return Object.keys(comments).map(function (fen) {\n        return { fen: fen, comment: comments[fen] };\n      });\n    },\n\n    delete_comments: function delete_comments() {\n      prune_comments();\n      return Object.keys(comments).map(function (fen) {\n        var comment = comments[fen];\n        delete comments[fen];\n        return { fen: fen, comment: comment };\n      });\n    }\n  };\n};\n\n/* export Chess object if using node or any other CommonJS compatible\n * environment */\nif (true) exports.Echess = Echess;\n/* export Echess object for any RequireJS compatible environment */\nif (true) !(__WEBPACK_AMD_DEFINE_RESULT__ = function () {\n  return Echess;\n}.call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L0BqbGluY29sbi9lY2hlc3MuanMvZWNoZXNzLmpzPzJlMTQiXSwibmFtZXMiOlsiRWNoZXNzIiwiZmVuIiwiQkxBQ0siLCJXSElURSIsIkVNUFRZIiwiUEFXTiIsIktOSUdIVCIsIkJJU0hPUCIsIlJPT0siLCJRVUVFTiIsIktJTkciLCJFTEVQSEFOVCIsIlNZTUJPTFMiLCJERUZBVUxUX1BPU0lUSU9OIiwiUE9TU0lCTEVfUkVTVUxUUyIsIlBBV05fT0ZGU0VUUyIsImIiLCJ3IiwiUElFQ0VfT0ZGU0VUUyIsIm4iLCJyIiwicSIsImsiLCJBVFRBQ0tTIiwiUkFZUyIsIlNISUZUUyIsInAiLCJGTEFHUyIsIk5PUk1BTCIsIkNBUFRVUkUiLCJCSUdfUEFXTiIsIkVQX0NBUFRVUkUiLCJQUk9NT1RJT04iLCJLU0lERV9DQVNUTEUiLCJRU0lERV9DQVNUTEUiLCJFTEVQSEFOVF9ET01JTkFURV9DT0xPUiIsIkJJVFMiLCJSQU5LXzEiLCJSQU5LXzIiLCJSQU5LXzMiLCJSQU5LXzQiLCJSQU5LXzUiLCJSQU5LXzYiLCJSQU5LXzciLCJSQU5LXzgiLCJTUVVBUkVTIiwiYTgiLCJiOCIsImM4IiwiZDgiLCJlOCIsImY4IiwiZzgiLCJoOCIsImE3IiwiYjciLCJjNyIsImQ3IiwiZTciLCJmNyIsImc3IiwiaDciLCJhNiIsImI2IiwiYzYiLCJkNiIsImU2IiwiZjYiLCJnNiIsImg2IiwiYTUiLCJiNSIsImM1IiwiZDUiLCJlNSIsImY1IiwiZzUiLCJoNSIsImE0IiwiYjQiLCJjNCIsImQ0IiwiZTQiLCJmNCIsImc0IiwiaDQiLCJhMyIsImIzIiwiYzMiLCJkMyIsImUzIiwiZjMiLCJnMyIsImgzIiwiYTIiLCJiMiIsImMyIiwiZDIiLCJlMiIsImYyIiwiZzIiLCJoMiIsImExIiwiYjEiLCJjMSIsImQxIiwiZTEiLCJmMSIsImcxIiwiaDEiLCJST09LUyIsInNxdWFyZSIsImZsYWciLCJib2FyZCIsIkFycmF5Iiwia2luZ3MiLCJ0dXJuIiwiY2FzdGxpbmciLCJlcF9zcXVhcmUiLCJoYWxmX21vdmVzIiwibW92ZV9udW1iZXIiLCJoaXN0b3J5IiwiaGVhZGVyIiwiY29tbWVudHMiLCJsb2FkIiwiY2xlYXIiLCJrZWVwX2hlYWRlcnMiLCJ1cGRhdGVfc2V0dXAiLCJnZW5lcmF0ZV9mZW4iLCJwcnVuZV9jb21tZW50cyIsInJldmVyc2VkX2hpc3RvcnkiLCJjdXJyZW50X2NvbW1lbnRzIiwiY29weV9jb21tZW50IiwibGVuZ3RoIiwicHVzaCIsInVuZG9fbW92ZSIsIm1ha2VfbW92ZSIsInBvcCIsInJlc2V0IiwidG9rZW5zIiwic3BsaXQiLCJwb3NpdGlvbiIsInZhbGlkYXRlX2ZlbiIsInZhbGlkIiwiaSIsInBpZWNlIiwiY2hhckF0IiwiaXNfZGlnaXQiLCJwYXJzZUludCIsImNvbG9yIiwicHV0IiwidHlwZSIsInRvTG93ZXJDYXNlIiwiYWxnZWJyYWljIiwiaW5kZXhPZiIsImVycm9ycyIsImVycm9yX251bWJlciIsImVycm9yIiwiaXNOYU4iLCJ0ZXN0Iiwicm93cyIsInN1bV9maWVsZHMiLCJwcmV2aW91c193YXNfbnVtYmVyIiwiZW1wdHkiLCJ0b1VwcGVyQ2FzZSIsImNmbGFncyIsImVwZmxhZ3MiLCJqb2luIiwic2V0X2hlYWRlciIsImFyZ3MiLCJnZXQiLCJzcSIsInJlbW92ZSIsImJ1aWxkX21vdmUiLCJmcm9tIiwidG8iLCJmbGFncyIsInByb21vdGlvbiIsIm1vdmUiLCJjYXB0dXJlZCIsImdlbmVyYXRlX21vdmVzIiwib3B0aW9ucyIsImFkZF9tb3ZlIiwibW92ZXMiLCJyYW5rIiwicGllY2VzIiwibGVuIiwiY29uc29sZSIsImxvZyIsInVuZGVmaW5lZCIsInVzIiwidGhlbSIsInN3YXBfY29sb3IiLCJzZWNvbmRfcmFuayIsImZpcnN0X3NxIiwibGFzdF9zcSIsInNpbmdsZV9zcXVhcmUiLCJsZWdhbCIsImoiLCJKU09OIiwic3RyaW5naWZ5Iiwib2Zmc2V0IiwiY2FzdGxpbmdfZnJvbSIsImNhc3RsaW5nX3RvIiwiYXR0YWNrZWQiLCJsZWdhbF9tb3ZlcyIsImtpbmdfYXR0YWNrZWQiLCJtb3ZlX3RvX3NhbiIsInNsb3BweSIsIm91dHB1dCIsImRpc2FtYmlndWF0b3IiLCJnZXRfZGlzYW1iaWd1YXRvciIsImluX2NoZWNrIiwiaW5fY2hlY2ttYXRlIiwic3RyaXBwZWRfc2FuIiwicmVwbGFjZSIsImRpZmZlcmVuY2UiLCJpbmRleCIsImJsb2NrZWQiLCJpbl9zdGFsZW1hdGUiLCJpbnN1ZmZpY2llbnRfbWF0ZXJpYWwiLCJiaXNob3BzIiwibnVtX3BpZWNlcyIsInNxX2NvbG9yIiwic3VtIiwiaW5fdGhyZWVmb2xkX3JlcGV0aXRpb24iLCJwb3NpdGlvbnMiLCJyZXBldGl0aW9uIiwic2xpY2UiLCJvbGQiLCJhbWJpZ3VpdGllcyIsInNhbWVfcmFuayIsInNhbWVfZmlsZSIsImFtYmlnX2Zyb20iLCJhbWJpZ190byIsImFtYmlnX3BpZWNlIiwiZmlsZSIsImFzY2lpIiwicyIsInN5bWJvbCIsIm1vdmVfZnJvbV9zYW4iLCJjbGVhbl9tb3ZlIiwibWF0Y2hlcyIsIm1hdGNoIiwiZiIsInN1YnN0cmluZyIsImMiLCJtYWtlX3ByZXR0eSIsInVnbHlfbW92ZSIsImNsb25lIiwic2FuIiwib2JqIiwiZHVwZSIsInByb3BlcnR5IiwidHJpbSIsInN0ciIsInBlcmZ0IiwiZGVwdGgiLCJub2RlcyIsImNoaWxkX25vZGVzIiwia2V5cyIsInVnbHlfbW92ZXMiLCJ2ZXJib3NlIiwiaW5fZHJhdyIsImdhbWVfb3ZlciIsInJvdyIsInBnbiIsIm5ld2xpbmUiLCJuZXdsaW5lX2NoYXIiLCJtYXhfd2lkdGgiLCJyZXN1bHQiLCJoZWFkZXJfZXhpc3RzIiwiYXBwZW5kX2NvbW1lbnQiLCJtb3ZlX3N0cmluZyIsImNvbW1lbnQiLCJkZWxpbWl0ZXIiLCJSZXN1bHQiLCJzdHJpcCIsIndyYXBfY29tbWVudCIsIndpZHRoIiwidG9rZW4iLCJjdXJyZW50X3dpZHRoIiwiaW5jbHVkZXMiLCJsb2FkX3BnbiIsIm1hc2siLCJoYXNfa2V5cyIsIm9iamVjdCIsImtleSIsInBhcnNlX3Bnbl9oZWFkZXIiLCJoZWFkZXJfb2JqIiwiaGVhZGVycyIsIlJlZ0V4cCIsInZhbHVlIiwiaGVhZGVyX3JlZ2V4IiwiaGVhZGVyX3N0cmluZyIsImV4ZWMiLCJ0b19oZXgiLCJzdHJpbmciLCJtYXAiLCJjaGFyQ29kZUF0IiwidG9TdHJpbmciLCJlbmNvZGVVUklDb21wb25lbnQiLCJmcm9tX2hleCIsImRlY29kZVVSSUNvbXBvbmVudCIsImVuY29kZV9jb21tZW50IiwiZGVjb2RlX2NvbW1lbnQiLCJzdGFydHNXaXRoIiwiZW5kc1dpdGgiLCJtcyIsImJyYWNrZXQiLCJzZW1pY29sb24iLCJyYXZfcmVnZXgiLCJoYWxmX21vdmUiLCJhcmd1bWVudHMiLCJtb3ZlX29iaiIsInByZXR0eV9tb3ZlIiwidW5kbyIsInNxdWFyZV9jb2xvciIsInNxXzB4ODgiLCJtb3ZlX2hpc3RvcnkiLCJnZXRfY29tbWVudCIsInNldF9jb21tZW50IiwiZGVsZXRlX2NvbW1lbnQiLCJnZXRfY29tbWVudHMiLCJPYmplY3QiLCJkZWxldGVfY29tbWVudHMiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUEyQkE7Ozs7O0FBS0EsSUFBSUEsU0FBUyxTQUFUQSxNQUFTLENBQVNDLEdBQVQsRUFBYzs7QUFFekIsTUFBSUMsUUFBUSxHQUFaO0FBQ0EsTUFBSUMsUUFBUSxHQUFaOztBQUVBLE1BQUlDLFFBQVEsQ0FBQyxDQUFiOztBQUVBLE1BQUlDLE9BQU8sR0FBWDtBQUNBLE1BQUlDLFNBQVMsR0FBYjtBQUNBLE1BQUlDLFNBQVMsR0FBYjtBQUNBLE1BQUlDLE9BQU8sR0FBWDtBQUNBLE1BQUlDLFFBQVEsR0FBWjtBQUNBLE1BQUlDLE9BQU8sR0FBWDs7QUFFQSxNQUFJQyxXQUFXLEdBQWY7O0FBRUEsTUFBSUMsVUFBVSxnQkFBZDs7QUFFQSxNQUFJQyxtQkFDRiwwREFERjs7QUFHQSxNQUFJQyxtQkFBbUIsQ0FBQyxLQUFELEVB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QXBCLEVBQVA7QUFDRCxPQUxJLENBQVA7QUFNRDtBQWxvQkksR0FBUDtBQW9vQkQsQ0E3MUREOztBQSsxREE7O0FBRUEsSUFBSSxJQUFKLEVBQW9Db0QsUUFBUXRVLE1BQVIsR0FBaUJBLE1BQWpCO0FBQ3BDO0FBQ0EsSUFBSSxJQUFKLEVBQ0Usa0NBQU8sWUFBVztBQUNoQixTQUFPQSxNQUFQO0FBQ0QsQ0FGRDtBQUFBIiwiZmlsZSI6IjExLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAoYykgMjAyMCwgSmVmZiBIbHl3YSAoamhseXdhQGdtYWlsLmNvbSlcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbiAqXG4gKiAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICogMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvblxuICogICAgYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCJcbiAqIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEVcbiAqIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFXG4gKiBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBPV05FUiBPUiBDT05UUklCVVRPUlMgQkVcbiAqIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1JcbiAqIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GXG4gKiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1NcbiAqIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOXG4gKiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxuICogQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcbiAqIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICpcbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbi8qXG4gKiAgUHVycG9zZTogVGhlIGVjaGVzcy5qcyBmb3JrIG9mIGNoZXNzLmpzIGlzIHRvIGFkZCBsb2dpYyBmb3IgdGhlIEVsZXBoYW50XG4gKiAgY2hlc3MgcGllY2UuXG4gKi9cblxudmFyIEVjaGVzcyA9IGZ1bmN0aW9uKGZlbikge1xuXG4gIHZhciBCTEFDSyA9ICdiJ1xuICB2YXIgV0hJVEUgPSAndydcblxuICB2YXIgRU1QVFkgPSAtMVxuXG4gIHZhciBQQVdOID0gJ3AnXG4gIHZhciBLTklHSFQgPSAnbidcbiAgdmFyIEJJU0hPUCA9ICdiJ1xuICB2YXIgUk9PSyA9ICdyJ1xuICB2YXIgUVVFRU4gPSAncSdcbiAgdmFyIEtJTkcgPSAnaydcblxuICB2YXIgRUxFUEhBTlQgPSAnZSdcblxuICB2YXIgU1lNQk9MUyA9ICdwbmJycWtlUE5CUlFLRSdcblxuICB2YXIgREVGQVVMVF9QT1NJVElPTiA9XG4gICAgJ3JuYnFrYm5yL3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvUk5CUUtCTlIgdyBLUWtxIC0gMCAxJ1xuXG4gIHZhciBQT1NTSUJMRV9SRVNVTFRTID0gWycxLTAnLCAnMC0xJywgJzEvMi0xLzInLCAnKiddXG5cbiAgdmFyIFBBV05fT0ZGU0VUUyA9IHtcbiAgICBiOiBbMTYsIDMyLCAxNywgMTVdLFxuICAgIHc6IFstMTYsIC0zMiwgLTE3LCAtMTVdXG4gIH1cblxuICB2YXIgUElFQ0VfT0ZGU0VUUyA9IHtcbiAgICBuOiBbLTE4LCAtMzMsIC0zMSwgLTE0LCAxOCwgMzMsIDMxLCAxNF0sXG4gICAgYjogWy0xNywgLTE1LCAxNywgMTVdLFxuICAgIHI6IFstMTYsIDEsIDE2LCAtMV0sXG4gICAgcTogWy0xNywgLTE2LCAtMTUsIDEsIDE3LCAxNiwgMTUsIC0xXSxcbiAgICBrOiBbLTE3LCAtMTYsIC0xNSwgMSwgMTcsIDE2LCAxNSwgLTFdXG4gIH1cblxuICAvLyBwcmV0dGllci1pZ25vcmVcbiAgdmFyIEFUVEFDS1MgPSBbXG4gICAgMjAsIDAsIDAsIDAsIDAsIDAsIDAsIDI0LCAgMCwgMCwgMCwgMCwgMCwgMCwyMCwgMCxcbiAgICAgMCwyMCwgMCwgMCwgMCwgMCwgMCwgMjQsICAwLCAwLCAwLCAwLCAwLDIwLCAwLCAwLFxuICAgICAwLCAwLDIwLCAwLCAwLCAwLCAwLCAyNCwgIDAsIDAsIDAsIDAsMjAsIDAsIDAsIDAsXG4gICAgIDAsIDAsIDAsMjAsIDAsIDAsIDAsIDI0LCAgMCwgMCwgMCwyMCwgMCwgMCwgMCwgMCxcbiAgICAgMCwgMCwgMCwgMCwyMCwgMCwgMCwgMjQsICAwLCAwLDIwLCAwLCAwLCAwLCAwLCAwLFxuICAgICAwLCAwLCAwLCAwLCAwLDIwLCAyLCAyNCwgIDIsMjAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gICAgIDAsIDAsIDAsIDAsIDAsIDIsNTMsIDU2LCA1MywgMiwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgICAyNCwyNCwyNCwyNCwyNCwyNCw1NiwgIDAsIDU2LDI0LDI0LDI0LDI0LDI0LDI0LCAwLFxuICAgICAwLCAwLCAwLCAwLCAwLCAyLDUzLCA1NiwgNTMsIDIsIDAsIDAsIDAsIDAsIDAsIDAsXG4gICAgIDAsIDAsIDAsIDAsIDAsMjAsIDIsIDI0LCAgMiwyMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgICAgMCwgMCwgMCwgMCwyMCwgMCwgMCwgMjQsICAwLCAwLDIwLCAwLCAwLCAwLCAwLCAwLFxuICAgICAwLCAwLCAwLDIwLCAwLCAwLCAwLCAyNCwgIDAsIDAsIDAsMjAsIDAsIDAsIDAsIDAsXG4gICAgIDAsIDAsMjAsIDAsIDAsIDAsIDAsIDI0LCAgMCwgMCwgMCwgMCwyMCwgMCwgMCwgMCxcbiAgICAgMCwyMCwgMCwgMCwgMCwgMCwgMCwgMjQsICAwLCAwLCAwLCAwLCAwLDIwLCAwLCAwLFxuICAgIDIwLCAwLCAwLCAwLCAwLCAwLCAwLCAyNCwgIDAsIDAsIDAsIDAsIDAsIDAsMjBcbiAgXTtcblxuICAvLyBwcmV0dGllci1pZ25vcmVcbiAgdmFyIFJBWVMgPSBbXG4gICAgIDE3LCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAxNiwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgMTUsIDAsXG4gICAgICAwLCAxNywgIDAsICAwLCAgMCwgIDAsICAwLCAxNiwgIDAsICAwLCAgMCwgIDAsICAwLCAxNSwgIDAsIDAsXG4gICAgICAwLCAgMCwgMTcsICAwLCAgMCwgIDAsICAwLCAxNiwgIDAsICAwLCAgMCwgIDAsIDE1LCAgMCwgIDAsIDAsXG4gICAgICAwLCAgMCwgIDAsIDE3LCAgMCwgIDAsICAwLCAxNiwgIDAsICAwLCAgMCwgMTUsICAwLCAgMCwgIDAsIDAsXG4gICAgICAwLCAgMCwgIDAsICAwLCAxNywgIDAsICAwLCAxNiwgIDAsICAwLCAxNSwgIDAsICAwLCAgMCwgIDAsIDAsXG4gICAgICAwLCAgMCwgIDAsICAwLCAgMCwgMTcsICAwLCAxNiwgIDAsIDE1LCAgMCwgIDAsICAwLCAgMCwgIDAsIDAsXG4gICAgICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsIDE3LCAxNiwgMTUsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsIDAsXG4gICAgICAxLCAgMSwgIDEsICAxLCAgMSwgIDEsICAxLCAgMCwgLTEsIC0xLCAgLTEsLTEsIC0xLCAtMSwgLTEsIDAsXG4gICAgICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsLTE1LC0xNiwtMTcsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsIDAsXG4gICAgICAwLCAgMCwgIDAsICAwLCAgMCwtMTUsICAwLC0xNiwgIDAsLTE3LCAgMCwgIDAsICAwLCAgMCwgIDAsIDAsXG4gICAgICAwLCAgMCwgIDAsICAwLC0xNSwgIDAsICAwLC0xNiwgIDAsICAwLC0xNywgIDAsICAwLCAgMCwgIDAsIDAsXG4gICAgICAwLCAgMCwgIDAsLTE1LCAgMCwgIDAsICAwLC0xNiwgIDAsICAwLCAgMCwtMTcsICAwLCAgMCwgIDAsIDAsXG4gICAgICAwLCAgMCwtMTUsICAwLCAgMCwgIDAsICAwLC0xNiwgIDAsICAwLCAgMCwgIDAsLTE3LCAgMCwgIDAsIDAsXG4gICAgICAwLC0xNSwgIDAsICAwLCAgMCwgIDAsICAwLC0xNiwgIDAsICAwLCAgMCwgIDAsICAwLC0xNywgIDAsIDAsXG4gICAgLTE1LCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLC0xNiwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwtMTdcbiAgXTtcblxuICB2YXIgU0hJRlRTID0geyBwOiAwLCBuOiAxLCBiOiAyLCByOiAzLCBxOiA0LCBrOiA1IH1cblxuICB2YXIgRkxBR1MgPSB7XG4gICAgTk9STUFMOiAnbicsXG4gICAgQ0FQVFVSRTogJ2MnLFxuICAgIEJJR19QQVdOOiAnYicsXG4gICAgRVBfQ0FQVFVSRTogJ2UnLFxuICAgIFBST01PVElPTjogJ3AnLFxuICAgIEtTSURFX0NBU1RMRTogJ2snLFxuICAgIFFTSURFX0NBU1RMRTogJ3EnLFxuICAgIEVMRVBIQU5UX0RPTUlOQVRFX0NPTE9SOiAnJ1xuICB9XG5cbiAgdmFyIEJJVFMgPSB7XG4gICAgTk9STUFMOiAxLFxuICAgIENBUFRVUkU6IDIsXG4gICAgQklHX1BBV046IDQsXG4gICAgRVBfQ0FQVFVSRTogOCxcbiAgICBQUk9NT1RJT046IDE2LFxuICAgIEtTSURFX0NBU1RMRTogMzIsXG4gICAgUVNJREVfQ0FTVExFOiA2NFxuICB9XG5cbiAgdmFyIFJBTktfMSA9IDdcbiAgdmFyIFJBTktfMiA9IDZcbiAgdmFyIFJBTktfMyA9IDVcbiAgdmFyIFJBTktfNCA9IDRcbiAgdmFyIFJBTktfNSA9IDNcbiAgdmFyIFJBTktfNiA9IDJcbiAgdmFyIFJBTktfNyA9IDFcbiAgdmFyIFJBTktfOCA9IDBcblxuICAvLyBwcmV0dGllci1pZ25vcmVcbiAgdmFyIFNRVUFSRVMgPSB7XG4gICAgYTg6ICAgMCwgYjg6ICAgMSwgYzg6ICAgMiwgZDg6ICAgMywgZTg6ICAgNCwgZjg6ICAgNSwgZzg6ICAgNiwgaDg6ICAgNyxcbiAgICBhNzogIDE2LCBiNzogIDE3LCBjNzogIDE4LCBkNzogIDE5LCBlNzogIDIwLCBmNzogIDIxLCBnNzogIDIyLCBoNzogIDIzLFxuICAgIGE2OiAgMzIsIGI2OiAgMzMsIGM2OiAgMzQsIGQ2OiAgMzUsIGU2OiAgMzYsIGY2OiAgMzcsIGc2OiAgMzgsIGg2OiAgMzksXG4gICAgYTU6ICA0OCwgYjU6ICA0OSwgYzU6ICA1MCwgZDU6ICA1MSwgZTU6ICA1MiwgZjU6ICA1MywgZzU6ICA1NCwgaDU6ICA1NSxcbiAgICBhNDogIDY0LCBiNDogIDY1LCBjNDogIDY2LCBkNDogIDY3LCBlNDogIDY4LCBmNDogIDY5LCBnNDogIDcwLCBoNDogIDcxLFxuICAgIGEzOiAgODAsIGIzOiAgODEsIGMzOiAgODIsIGQzOiAgODMsIGUzOiAgODQsIGYzOiAgODUsIGczOiAgODYsIGgzOiAgODcsXG4gICAgYTI6ICA5NiwgYjI6ICA5NywgYzI6ICA5OCwgZDI6ICA5OSwgZTI6IDEwMCwgZjI6IDEwMSwgZzI6IDEwMiwgaDI6IDEwMyxcbiAgICBhMTogMTEyLCBiMTogMTEzLCBjMTogMTE0LCBkMTogMTE1LCBlMTogMTE2LCBmMTogMTE3LCBnMTogMTE4LCBoMTogMTE5XG4gIH07XG5cbiAgdmFyIFJPT0tTID0ge1xuICAgIHc6IFtcbiAgICAgIHsgc3F1YXJlOiBTUVVBUkVTLmExLCBmbGFnOiBCSVRTLlFTSURFX0NBU1RMRSB9LFxuICAgICAgeyBzcXVhcmU6IFNRVUFSRVMuaDEsIGZsYWc6IEJJVFMuS1NJREVfQ0FTVExFIH1cbiAgICBdLFxuICAgIGI6IFtcbiAgICAgIHsgc3F1YXJlOiBTUVVBUkVTLmE4LCBmbGFnOiBCSVRTLlFTSURFX0NBU1RMRSB9LFxuICAgICAgeyBzcXVhcmU6IFNRVUFSRVMuaDgsIGZsYWc6IEJJVFMuS1NJREVfQ0FTVExFIH1cbiAgICBdXG4gIH1cblxuICB2YXIgYm9hcmQgPSBuZXcgQXJyYXkoMTI4KVxuICB2YXIga2luZ3MgPSB7IHc6IEVNUFRZLCBiOiBFTVBUWSB9XG4gIHZhciB0dXJuID0gV0hJVEVcbiAgdmFyIGNhc3RsaW5nID0geyB3OiAwLCBiOiAwIH1cbiAgdmFyIGVwX3NxdWFyZSA9IEVNUFRZXG4gIHZhciBoYWxmX21vdmVzID0gMFxuICB2YXIgbW92ZV9udW1iZXIgPSAxXG4gIHZhciBoaXN0b3J5ID0gW11cbiAgdmFyIGhlYWRlciA9IHt9XG4gIHZhciBjb21tZW50cyA9IHt9XG5cbiAgLyogaWYgdGhlIHVzZXIgcGFzc2VzIGluIGEgZmVuIHN0cmluZywgbG9hZCBpdCwgZWxzZSBkZWZhdWx0IHRvXG4gICAqIHN0YXJ0aW5nIHBvc2l0aW9uXG4gICAqL1xuICBpZiAodHlwZW9mIGZlbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBsb2FkKERFRkFVTFRfUE9TSVRJT04pXG4gIH0gZWxzZSB7XG4gICAgbG9hZChmZW4pXG4gIH1cblxuICBmdW5jdGlvbiBjbGVhcihrZWVwX2hlYWRlcnMpIHtcbiAgICBpZiAodHlwZW9mIGtlZXBfaGVhZGVycyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGtlZXBfaGVhZGVycyA9IGZhbHNlXG4gICAgfVxuXG4gICAgYm9hcmQgPSBuZXcgQXJyYXkoMTI4KVxuICAgIGtpbmdzID0geyB3OiBFTVBUWSwgYjogRU1QVFkgfVxuICAgIHR1cm4gPSBXSElURVxuICAgIGNhc3RsaW5nID0geyB3OiAwLCBiOiAwIH1cbiAgICBlcF9zcXVhcmUgPSBFTVBUWVxuICAgIGhhbGZfbW92ZXMgPSAwXG4gICAgbW92ZV9udW1iZXIgPSAxXG4gICAgaGlzdG9yeSA9IFtdXG4gICAgaWYgKCFrZWVwX2hlYWRlcnMpIGhlYWRlciA9IHt9XG4gICAgY29tbWVudHMgPSB7fVxuICAgIHVwZGF0ZV9zZXR1cChnZW5lcmF0ZV9mZW4oKSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHBydW5lX2NvbW1lbnRzKCkge1xuICAgIHZhciByZXZlcnNlZF9oaXN0b3J5ID0gW107XG4gICAgdmFyIGN1cnJlbnRfY29tbWVudHMgPSB7fTtcbiAgICB2YXIgY29weV9jb21tZW50ID0gZnVuY3Rpb24oZmVuKSB7XG4gICAgICBpZiAoZmVuIGluIGNvbW1lbnRzKSB7XG4gICAgICAgIGN1cnJlbnRfY29tbWVudHNbZmVuXSA9IGNvbW1lbnRzW2Zlbl07XG4gICAgICB9XG4gICAgfTtcbiAgICB3aGlsZSAoaGlzdG9yeS5sZW5ndGggPiAwKSB7XG4gICAgICByZXZlcnNlZF9oaXN0b3J5LnB1c2godW5kb19tb3ZlKCkpO1xuICAgIH1cbiAgICBjb3B5X2NvbW1lbnQoZ2VuZXJhdGVfZmVuKCkpO1xuICAgIHdoaWxlIChyZXZlcnNlZF9oaXN0b3J5Lmxlbmd0aCA+IDApIHtcbiAgICAgIG1ha2VfbW92ZShyZXZlcnNlZF9oaXN0b3J5LnBvcCgpKTtcbiAgICAgIGNvcHlfY29tbWVudChnZW5lcmF0ZV9mZW4oKSk7XG4gICAgfVxuICAgIGNvbW1lbnRzID0gY3VycmVudF9jb21tZW50cztcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIGxvYWQoREVGQVVMVF9QT1NJVElPTilcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvYWQoZmVuLCBrZWVwX2hlYWRlcnMpIHtcbiAgICBpZiAodHlwZW9mIGtlZXBfaGVhZGVycyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGtlZXBfaGVhZGVycyA9IGZhbHNlXG4gICAgfVxuXG4gICAgdmFyIHRva2VucyA9IGZlbi5zcGxpdCgvXFxzKy8pXG4gICAgdmFyIHBvc2l0aW9uID0gdG9rZW5zWzBdXG4gICAgdmFyIHNxdWFyZSA9IDBcblxuICAgIGlmICghdmFsaWRhdGVfZmVuKGZlbikudmFsaWQpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNsZWFyKGtlZXBfaGVhZGVycylcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zaXRpb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBwaWVjZSA9IHBvc2l0aW9uLmNoYXJBdChpKVxuXG4gICAgICBpZiAocGllY2UgPT09ICcvJykge1xuICAgICAgICBzcXVhcmUgKz0gOFxuICAgICAgfSBlbHNlIGlmIChpc19kaWdpdChwaWVjZSkpIHtcbiAgICAgICAgc3F1YXJlICs9IHBhcnNlSW50KHBpZWNlLCAxMClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjb2xvciA9IHBpZWNlIDwgJ2EnID8gV0hJVEUgOiBCTEFDS1xuICAgICAgICBwdXQoeyB0eXBlOiBwaWVjZS50b0xvd2VyQ2FzZSgpLCBjb2xvcjogY29sb3IgfSwgYWxnZWJyYWljKHNxdWFyZSkpXG4gICAgICAgIHNxdWFyZSsrXG4gICAgICB9XG4gICAgfVxuXG4gICAgdHVybiA9IHRva2Vuc1sxXVxuXG4gICAgaWYgKHRva2Vuc1syXS5pbmRleE9mKCdLJykgPiAtMSkge1xuICAgICAgY2FzdGxpbmcudyB8PSBCSVRTLktTSURFX0NBU1RMRVxuICAgIH1cbiAgICBpZiAodG9rZW5zWzJdLmluZGV4T2YoJ1EnKSA+IC0xKSB7XG4gICAgICBjYXN0bGluZy53IHw9IEJJVFMuUVNJREVfQ0FTVExFXG4gICAgfVxuICAgIGlmICh0b2tlbnNbMl0uaW5kZXhPZignaycpID4gLTEpIHtcbiAgICAgIGNhc3RsaW5nLmIgfD0gQklUUy5LU0lERV9DQVNUTEVcbiAgICB9XG4gICAgaWYgKHRva2Vuc1syXS5pbmRleE9mKCdxJykgPiAtMSkge1xuICAgICAgY2FzdGxpbmcuYiB8PSBCSVRTLlFTSURFX0NBU1RMRVxuICAgIH1cblxuICAgIGVwX3NxdWFyZSA9IHRva2Vuc1szXSA9PT0gJy0nID8gRU1QVFkgOiBTUVVBUkVTW3Rva2Vuc1szXV1cbiAgICBoYWxmX21vdmVzID0gcGFyc2VJbnQodG9rZW5zWzRdLCAxMClcbiAgICBtb3ZlX251bWJlciA9IHBhcnNlSW50KHRva2Vuc1s1XSwgMTApXG5cbiAgICB1cGRhdGVfc2V0dXAoZ2VuZXJhdGVfZmVuKCkpXG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLyogVE9ETzogdGhpcyBmdW5jdGlvbiBpcyBwcmV0dHkgbXVjaCBjcmFwIC0gaXQgdmFsaWRhdGVzIHN0cnVjdHVyZSBidXRcbiAgICogY29tcGxldGVseSBpZ25vcmVzIGNvbnRlbnQgKGUuZy4gZG9lc24ndCB2ZXJpZnkgdGhhdCBlYWNoIHNpZGUgaGFzIGEga2luZylcbiAgICogLi4uIHdlIHNob3VsZCByZXdyaXRlIHRoaXMsIGFuZCBkaXRjaCB0aGUgc2lsbHkgZXJyb3JfbnVtYmVyIGZpZWxkIHdoaWxlXG4gICAqIHdlJ3JlIGF0IGl0XG4gICAqL1xuICBmdW5jdGlvbiB2YWxpZGF0ZV9mZW4oZmVuKSB7XG4gICAgdmFyIGVycm9ycyA9IHtcbiAgICAgIDA6ICdObyBlcnJvcnMuJyxcbiAgICAgIDE6ICdGRU4gc3RyaW5nIG11c3QgY29udGFpbiBzaXggc3BhY2UtZGVsaW1pdGVkIGZpZWxkcy4nLFxuICAgICAgMjogJzZ0aCBmaWVsZCAobW92ZSBudW1iZXIpIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyLicsXG4gICAgICAzOiAnNXRoIGZpZWxkIChoYWxmIG1vdmUgY291bnRlcikgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyLicsXG4gICAgICA0OiAnNHRoIGZpZWxkIChlbi1wYXNzYW50IHNxdWFyZSkgaXMgaW52YWxpZC4nLFxuICAgICAgNTogJzNyZCBmaWVsZCAoY2FzdGxpbmcgYXZhaWxhYmlsaXR5KSBpcyBpbnZhbGlkLicsXG4gICAgICA2OiAnMm5kIGZpZWxkIChzaWRlIHRvIG1vdmUpIGlzIGludmFsaWQuJyxcbiAgICAgIDc6IFwiMXN0IGZpZWxkIChwaWVjZSBwb3NpdGlvbnMpIGRvZXMgbm90IGNvbnRhaW4gOCAnLyctZGVsaW1pdGVkIHJvd3MuXCIsXG4gICAgICA4OiAnMXN0IGZpZWxkIChwaWVjZSBwb3NpdGlvbnMpIGlzIGludmFsaWQgW2NvbnNlY3V0aXZlIG51bWJlcnNdLicsXG4gICAgICA5OiAnMXN0IGZpZWxkIChwaWVjZSBwb3NpdGlvbnMpIGlzIGludmFsaWQgW2ludmFsaWQgcGllY2VdLicsXG4gICAgICAxMDogJzFzdCBmaWVsZCAocGllY2UgcG9zaXRpb25zKSBpcyBpbnZhbGlkIFtyb3cgdG9vIGxhcmdlXS4nLFxuICAgICAgMTE6ICdJbGxlZ2FsIGVuLXBhc3NhbnQgc3F1YXJlJ1xuICAgIH1cblxuICAgIC8qIDFzdCBjcml0ZXJpb246IDYgc3BhY2Utc2VwZXJhdGVkIGZpZWxkcz8gKi9cbiAgICB2YXIgdG9rZW5zID0gZmVuLnNwbGl0KC9cXHMrLylcbiAgICBpZiAodG9rZW5zLmxlbmd0aCAhPT0gNikge1xuICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcl9udW1iZXI6IDEsIGVycm9yOiBlcnJvcnNbMV0gfVxuICAgIH1cblxuICAgIC8qIDJuZCBjcml0ZXJpb246IG1vdmUgbnVtYmVyIGZpZWxkIGlzIGEgaW50ZWdlciB2YWx1ZSA+IDA/ICovXG4gICAgaWYgKGlzTmFOKHRva2Vuc1s1XSkgfHwgcGFyc2VJbnQodG9rZW5zWzVdLCAxMCkgPD0gMCkge1xuICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcl9udW1iZXI6IDIsIGVycm9yOiBlcnJvcnNbMl0gfVxuICAgIH1cblxuICAgIC8qIDNyZCBjcml0ZXJpb246IGhhbGYgbW92ZSBjb3VudGVyIGlzIGFuIGludGVnZXIgPj0gMD8gKi9cbiAgICBpZiAoaXNOYU4odG9rZW5zWzRdKSB8fCBwYXJzZUludCh0b2tlbnNbNF0sIDEwKSA8IDApIHtcbiAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZXJyb3JfbnVtYmVyOiAzLCBlcnJvcjogZXJyb3JzWzNdIH1cbiAgICB9XG5cbiAgICAvKiA0dGggY3JpdGVyaW9uOiA0dGggZmllbGQgaXMgYSB2YWxpZCBlLnAuLXN0cmluZz8gKi9cbiAgICBpZiAoIS9eKC18W2FiY2RlZmdoXVszNl0pJC8udGVzdCh0b2tlbnNbM10pKSB7XG4gICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIGVycm9yX251bWJlcjogNCwgZXJyb3I6IGVycm9yc1s0XSB9XG4gICAgfVxuXG4gICAgLyogNXRoIGNyaXRlcmlvbjogM3RoIGZpZWxkIGlzIGEgdmFsaWQgY2FzdGxlLXN0cmluZz8gKi9cbiAgICBpZiAoIS9eKEtRP2s/cT98UWs/cT98a3E/fHF8LSkkLy50ZXN0KHRva2Vuc1syXSkpIHtcbiAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZXJyb3JfbnVtYmVyOiA1LCBlcnJvcjogZXJyb3JzWzVdIH1cbiAgICB9XG5cbiAgICAvKiA2dGggY3JpdGVyaW9uOiAybmQgZmllbGQgaXMgXCJ3XCIgKHdoaXRlKSBvciBcImJcIiAoYmxhY2spPyAqL1xuICAgIGlmICghL14od3xiKSQvLnRlc3QodG9rZW5zWzFdKSkge1xuICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcl9udW1iZXI6IDYsIGVycm9yOiBlcnJvcnNbNl0gfVxuICAgIH1cblxuICAgIC8qIDd0aCBjcml0ZXJpb246IDFzdCBmaWVsZCBjb250YWlucyA4IHJvd3M/ICovXG4gICAgdmFyIHJvd3MgPSB0b2tlbnNbMF0uc3BsaXQoJy8nKVxuXG4gICAgLyogOHRoIGNyaXRlcmlvbjogZXZlcnkgcm93IGlzIHZhbGlkPyAqL1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93cy5sZW5ndGg7IGkrKykge1xuICAgICAgLyogY2hlY2sgZm9yIHJpZ2h0IHN1bSBvZiBmaWVsZHMgQU5EIG5vdCB0d28gbnVtYmVycyBpbiBzdWNjZXNzaW9uICovXG4gICAgICB2YXIgc3VtX2ZpZWxkcyA9IDBcbiAgICAgIHZhciBwcmV2aW91c193YXNfbnVtYmVyID0gZmFsc2VcblxuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCByb3dzW2ldLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIGlmICghaXNOYU4ocm93c1tpXVtrXSkpIHtcbiAgICAgICAgICBpZiAocHJldmlvdXNfd2FzX251bWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcl9udW1iZXI6IDgsIGVycm9yOiBlcnJvcnNbOF0gfVxuICAgICAgICAgIH1cbiAgICAgICAgICBzdW1fZmllbGRzICs9IHBhcnNlSW50KHJvd3NbaV1ba10sIDEwKVxuICAgICAgICAgIHByZXZpb3VzX3dhc19udW1iZXIgPSB0cnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCEvXltwcm5icWtlUFJOQlFLRV0kLy50ZXN0KHJvd3NbaV1ba10pKSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIGVycm9yX251bWJlcjogOSwgZXJyb3I6IGVycm9yc1s5XSB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHN1bV9maWVsZHMgKz0gMVxuICAgICAgICAgIHByZXZpb3VzX3dhc19udW1iZXIgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3VtX2ZpZWxkcyAhPT0gOCkge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIGVycm9yX251bWJlcjogMTAsIGVycm9yOiBlcnJvcnNbMTBdIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAodG9rZW5zWzNdWzFdID09ICczJyAmJiB0b2tlbnNbMV0gPT0gJ3cnKSB8fFxuICAgICAgKHRva2Vuc1szXVsxXSA9PSAnNicgJiYgdG9rZW5zWzFdID09ICdiJylcbiAgICApIHtcbiAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZXJyb3JfbnVtYmVyOiAxMSwgZXJyb3I6IGVycm9yc1sxMV0gfVxuICAgIH1cblxuICAgIC8qIGV2ZXJ5dGhpbmcncyBva2F5ISAqL1xuICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBlcnJvcl9udW1iZXI6IDAsIGVycm9yOiBlcnJvcnNbMF0gfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2VuZXJhdGVfZmVuKCkge1xuICAgIHZhciBlbXB0eSA9IDBcbiAgICB2YXIgZmVuID0gJydcblxuICAgIGZvciAodmFyIGkgPSBTUVVBUkVTLmE4OyBpIDw9IFNRVUFSRVMuaDE7IGkrKykge1xuICAgICAgaWYgKGJvYXJkW2ldID09IG51bGwpIHtcbiAgICAgICAgZW1wdHkrK1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGVtcHR5ID4gMCkge1xuICAgICAgICAgIGZlbiArPSBlbXB0eVxuICAgICAgICAgIGVtcHR5ID0gMFxuICAgICAgICB9XG4gICAgICAgIHZhciBjb2xvciA9IGJvYXJkW2ldLmNvbG9yXG4gICAgICAgIHZhciBwaWVjZSA9IGJvYXJkW2ldLnR5cGVcblxuICAgICAgICBmZW4gKz0gY29sb3IgPT09IFdISVRFID8gcGllY2UudG9VcHBlckNhc2UoKSA6IHBpZWNlLnRvTG93ZXJDYXNlKClcbiAgICAgIH1cblxuICAgICAgaWYgKChpICsgMSkgJiAweDg4KSB7XG4gICAgICAgIGlmIChlbXB0eSA+IDApIHtcbiAgICAgICAgICBmZW4gKz0gZW1wdHlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpICE9PSBTUVVBUkVTLmgxKSB7XG4gICAgICAgICAgZmVuICs9ICcvJ1xuICAgICAgICB9XG5cbiAgICAgICAgZW1wdHkgPSAwXG4gICAgICAgIGkgKz0gOFxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjZmxhZ3MgPSAnJ1xuICAgIGlmIChjYXN0bGluZ1tXSElURV0gJiBCSVRTLktTSURFX0NBU1RMRSkge1xuICAgICAgY2ZsYWdzICs9ICdLJ1xuICAgIH1cbiAgICBpZiAoY2FzdGxpbmdbV0hJVEVdICYgQklUUy5RU0lERV9DQVNUTEUpIHtcbiAgICAgIGNmbGFncyArPSAnUSdcbiAgICB9XG4gICAgaWYgKGNhc3RsaW5nW0JMQUNLXSAmIEJJVFMuS1NJREVfQ0FTVExFKSB7XG4gICAgICBjZmxhZ3MgKz0gJ2snXG4gICAgfVxuICAgIGlmIChjYXN0bGluZ1tCTEFDS10gJiBCSVRTLlFTSURFX0NBU1RMRSkge1xuICAgICAgY2ZsYWdzICs9ICdxJ1xuICAgIH1cblxuICAgIC8qIGRvIHdlIGhhdmUgYW4gZW1wdHkgY2FzdGxpbmcgZmxhZz8gKi9cbiAgICBjZmxhZ3MgPSBjZmxhZ3MgfHwgJy0nXG4gICAgdmFyIGVwZmxhZ3MgPSBlcF9zcXVhcmUgPT09IEVNUFRZID8gJy0nIDogYWxnZWJyYWljKGVwX3NxdWFyZSlcblxuICAgIHJldHVybiBbZmVuLCB0dXJuLCBjZmxhZ3MsIGVwZmxhZ3MsIGhhbGZfbW92ZXMsIG1vdmVfbnVtYmVyXS5qb2luKCcgJylcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldF9oZWFkZXIoYXJncykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgaWYgKHR5cGVvZiBhcmdzW2ldID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgYXJnc1tpICsgMV0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGhlYWRlclthcmdzW2ldXSA9IGFyZ3NbaSArIDFdXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoZWFkZXJcbiAgfVxuXG4gIC8qIGNhbGxlZCB3aGVuIHRoZSBpbml0aWFsIGJvYXJkIHNldHVwIGlzIGNoYW5nZWQgd2l0aCBwdXQoKSBvciByZW1vdmUoKS5cbiAgICogbW9kaWZpZXMgdGhlIFNldFVwIGFuZCBGRU4gcHJvcGVydGllcyBvZiB0aGUgaGVhZGVyIG9iamVjdC4gIGlmIHRoZSBGRU4gaXNcbiAgICogZXF1YWwgdG8gdGhlIGRlZmF1bHQgcG9zaXRpb24sIHRoZSBTZXRVcCBhbmQgRkVOIGFyZSBkZWxldGVkXG4gICAqIHRoZSBzZXR1cCBpcyBvbmx5IHVwZGF0ZWQgaWYgaGlzdG9yeS5sZW5ndGggaXMgemVybywgaWUgbW92ZXMgaGF2ZW4ndCBiZWVuXG4gICAqIG1hZGUuXG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGVfc2V0dXAoZmVuKSB7XG4gICAgaWYgKGhpc3RvcnkubGVuZ3RoID4gMCkgcmV0dXJuXG5cbiAgICBpZiAoZmVuICE9PSBERUZBVUxUX1BPU0lUSU9OKSB7XG4gICAgICBoZWFkZXJbJ1NldFVwJ10gPSAnMSdcbiAgICAgIGhlYWRlclsnRkVOJ10gPSBmZW5cbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIGhlYWRlclsnU2V0VXAnXVxuICAgICAgZGVsZXRlIGhlYWRlclsnRkVOJ11cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXQoc3F1YXJlKSB7XG4gICAgdmFyIHBpZWNlID0gYm9hcmRbU1FVQVJFU1tzcXVhcmVdXVxuICAgIHJldHVybiBwaWVjZSA/IHsgdHlwZTogcGllY2UudHlwZSwgY29sb3I6IHBpZWNlLmNvbG9yIH0gOiBudWxsXG4gIH1cblxuICBmdW5jdGlvbiBwdXQocGllY2UsIHNxdWFyZSkge1xuICAgIC8qIGNoZWNrIGZvciB2YWxpZCBwaWVjZSBvYmplY3QgKi9cbiAgICBpZiAoISgndHlwZScgaW4gcGllY2UgJiYgJ2NvbG9yJyBpbiBwaWVjZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIC8qIGNoZWNrIGZvciBwaWVjZSAqL1xuICAgIGlmIChTWU1CT0xTLmluZGV4T2YocGllY2UudHlwZS50b0xvd2VyQ2FzZSgpKSA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIC8qIGNoZWNrIGZvciB2YWxpZCBzcXVhcmUgKi9cbiAgICBpZiAoIShzcXVhcmUgaW4gU1FVQVJFUykpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHZhciBzcSA9IFNRVUFSRVNbc3F1YXJlXVxuXG4gICAgLyogZG9uJ3QgbGV0IHRoZSB1c2VyIHBsYWNlIG1vcmUgdGhhbiBvbmUga2luZyAqL1xuICAgIGlmIChcbiAgICAgIHBpZWNlLnR5cGUgPT0gS0lORyAmJlxuICAgICAgIShraW5nc1twaWVjZS5jb2xvcl0gPT0gRU1QVFkgfHwga2luZ3NbcGllY2UuY29sb3JdID09IHNxKVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgYm9hcmRbc3FdID0geyB0eXBlOiBwaWVjZS50eXBlLCBjb2xvcjogcGllY2UuY29sb3IgfVxuICAgIGlmIChwaWVjZS50eXBlID09PSBLSU5HKSB7XG4gICAgICBraW5nc1twaWVjZS5jb2xvcl0gPSBzcVxuICAgIH1cblxuICAgIHVwZGF0ZV9zZXR1cChnZW5lcmF0ZV9mZW4oKSlcblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmUoc3F1YXJlKSB7XG4gICAgdmFyIHBpZWNlID0gZ2V0KHNxdWFyZSlcbiAgICBib2FyZFtTUVVBUkVTW3NxdWFyZV1dID0gbnVsbFxuICAgIGlmIChwaWVjZSAmJiBwaWVjZS50eXBlID09PSBLSU5HKSB7XG4gICAgICBraW5nc1twaWVjZS5jb2xvcl0gPSBFTVBUWVxuICAgIH1cblxuICAgIHVwZGF0ZV9zZXR1cChnZW5lcmF0ZV9mZW4oKSlcblxuICAgIHJldHVybiBwaWVjZVxuICB9XG5cbiAgZnVuY3Rpb24gYnVpbGRfbW92ZShib2FyZCwgZnJvbSwgdG8sIGZsYWdzLCBwcm9tb3Rpb24pIHtcbiAgICB2YXIgbW92ZSA9IHtcbiAgICAgIGNvbG9yOiB0dXJuLFxuICAgICAgZnJvbTogZnJvbSxcbiAgICAgIHRvOiB0byxcbiAgICAgIGZsYWdzOiBmbGFncyxcbiAgICAgIHBpZWNlOiBib2FyZFtmcm9tXS50eXBlXG4gICAgfVxuXG4gICAgaWYgKHByb21vdGlvbikge1xuICAgICAgbW92ZS5mbGFncyB8PSBCSVRTLlBST01PVElPTlxuICAgICAgbW92ZS5wcm9tb3Rpb24gPSBwcm9tb3Rpb25cbiAgICB9XG5cbiAgICBpZiAoYm9hcmRbdG9dKSB7XG4gICAgICBtb3ZlLmNhcHR1cmVkID0gYm9hcmRbdG9dLnR5cGVcbiAgICB9IGVsc2UgaWYgKGZsYWdzICYgQklUUy5FUF9DQVBUVVJFKSB7XG4gICAgICBtb3ZlLmNhcHR1cmVkID0gUEFXTlxuICAgIH1cbiAgICByZXR1cm4gbW92ZVxuICB9XG5cbiAgZnVuY3Rpb24gZ2VuZXJhdGVfbW92ZXMob3B0aW9ucykge1xuICAgIGZ1bmN0aW9uIGFkZF9tb3ZlKGJvYXJkLCBtb3ZlcywgZnJvbSwgdG8sIGZsYWdzKSB7XG4gICAgICAvKiBpZiBwYXduIHByb21vdGlvbiAqL1xuICAgICAgaWYgKFxuICAgICAgICBib2FyZFtmcm9tXS50eXBlID09PSBQQVdOICYmXG4gICAgICAgIChyYW5rKHRvKSA9PT0gUkFOS184IHx8IHJhbmsodG8pID09PSBSQU5LXzEpXG4gICAgICApIHtcbiAgICAgICAgdmFyIHBpZWNlcyA9IFtRVUVFTiwgUk9PSywgQklTSE9QLCBLTklHSFRdXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBwaWVjZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBtb3Zlcy5wdXNoKGJ1aWxkX21vdmUoYm9hcmQsIGZyb20sIHRvLCBmbGFncywgcGllY2VzW2ldKSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChib2FyZFtmcm9tXS50eXBlID09PSBFTEVQSEFOVCkge1xuICAgICAgICBjb25zb2xlLmxvZyhgYWRkX21vdmUge2Zyb206ICR7ZnJvbX0sIHRvOiAke3RvfX1gKTtcbiAgICAgICAgbW92ZXMucHVzaChidWlsZF9tb3ZlKGJvYXJkLCBmcm9tLCB0bywgZmxhZ3MpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGJvYXJkICE9PSB1bmRlZmluZWQgJiYgYm9hcmRbZnJvbV0gIT09IHVuZGVmaW5lZCAmJiBib2FyZFtmcm9tXS50eXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBtb3Zlcy5wdXNoKGJ1aWxkX21vdmUoYm9hcmQsIGZyb20sIHRvLCBmbGFncykpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbW92ZXMgPSBbXVxuICAgIHZhciB1cyA9IHR1cm5cbiAgICB2YXIgdGhlbSA9IHN3YXBfY29sb3IodXMpXG4gICAgdmFyIHNlY29uZF9yYW5rID0geyBiOiBSQU5LXzcsIHc6IFJBTktfMiB9XG5cbiAgICB2YXIgZmlyc3Rfc3EgPSBTUVVBUkVTLmE4XG4gICAgdmFyIGxhc3Rfc3EgPSBTUVVBUkVTLmgxXG4gICAgdmFyIHNpbmdsZV9zcXVhcmUgPSBmYWxzZVxuXG4gICAgLyogZG8gd2Ugd2FudCBsZWdhbCBtb3Zlcz8gKi9cbiAgICB2YXIgbGVnYWwgPVxuICAgICAgdHlwZW9mIG9wdGlvbnMgIT09ICd1bmRlZmluZWQnICYmICdsZWdhbCcgaW4gb3B0aW9uc1xuICAgICAgICA/IG9wdGlvbnMubGVnYWxcbiAgICAgICAgOiB0cnVlXG5cbiAgICAvKiBhcmUgd2UgZ2VuZXJhdGluZyBtb3ZlcyBmb3IgYSBzaW5nbGUgc3F1YXJlPyAqL1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ3NxdWFyZScgaW4gb3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMuc3F1YXJlIGluIFNRVUFSRVMpIHtcbiAgICAgICAgZmlyc3Rfc3EgPSBsYXN0X3NxID0gU1FVQVJFU1tvcHRpb25zLnNxdWFyZV1cbiAgICAgICAgc2luZ2xlX3NxdWFyZSA9IHRydWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIGludmFsaWQgc3F1YXJlICovXG4gICAgICAgIHJldHVybiBbXVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSBmaXJzdF9zcTsgaSA8PSBsYXN0X3NxOyBpKyspIHtcbiAgICAgIC8qIGRpZCB3ZSBydW4gb2ZmIHRoZSBlbmQgb2YgdGhlIGJvYXJkICovXG4gICAgICBpZiAoaSAmIDB4ODgpIHtcbiAgICAgICAgaSArPSA3XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHZhciBwaWVjZSA9IGJvYXJkW2ldXG4gICAgICBpZiAocGllY2UgPT0gbnVsbCB8fCAocGllY2UuY29sb3IgIT09IHVzICYmIHBpZWNlLnR5cGUgIT09ICdlJykpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgaWYgKHBpZWNlLnR5cGUgPT09IFBBV04pIHtcbiAgICAgICAgLyogc2luZ2xlIHNxdWFyZSwgbm9uLWNhcHR1cmluZyAqL1xuICAgICAgICB2YXIgc3F1YXJlID0gaSArIFBBV05fT0ZGU0VUU1t1c11bMF1cbiAgICAgICAgaWYgKGJvYXJkW3NxdWFyZV0gPT0gbnVsbCkge1xuICAgICAgICAgIGFkZF9tb3ZlKGJvYXJkLCBtb3ZlcywgaSwgc3F1YXJlLCBCSVRTLk5PUk1BTClcblxuICAgICAgICAgIC8qIGRvdWJsZSBzcXVhcmUgKi9cbiAgICAgICAgICB2YXIgc3F1YXJlID0gaSArIFBBV05fT0ZGU0VUU1t1c11bMV1cbiAgICAgICAgICBpZiAoc2Vjb25kX3JhbmtbdXNdID09PSByYW5rKGkpICYmIGJvYXJkW3NxdWFyZV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgYWRkX21vdmUoYm9hcmQsIG1vdmVzLCBpLCBzcXVhcmUsIEJJVFMuQklHX1BBV04pXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyogcGF3biBjYXB0dXJlcyAqL1xuICAgICAgICBmb3IgKGogPSAyOyBqIDwgNDsgaisrKSB7XG4gICAgICAgICAgdmFyIHNxdWFyZSA9IGkgKyBQQVdOX09GRlNFVFNbdXNdW2pdXG4gICAgICAgICAgaWYgKHNxdWFyZSAmIDB4ODgpIGNvbnRpbnVlXG5cbiAgICAgICAgICBpZiAoYm9hcmRbc3F1YXJlXSAhPSBudWxsICYmIGJvYXJkW3NxdWFyZV0uY29sb3IgPT09IHRoZW0pIHtcbiAgICAgICAgICAgIGFkZF9tb3ZlKGJvYXJkLCBtb3ZlcywgaSwgc3F1YXJlLCBCSVRTLkNBUFRVUkUpXG4gICAgICAgICAgfSBlbHNlIGlmIChzcXVhcmUgPT09IGVwX3NxdWFyZSkge1xuICAgICAgICAgICAgYWRkX21vdmUoYm9hcmQsIG1vdmVzLCBpLCBlcF9zcXVhcmUsIEJJVFMuRVBfQ0FQVFVSRSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocGllY2UudHlwZSA9PT0gRUxFUEhBTlQpIHtcbiAgICAgICAgLy8gbW92ZSB0byBhbnkgbm9uZSBvY2N1cGllZCBzcXVhcmVcbiAgICAgICAgY29uc29sZS5sb2coJ2ZpbmRpbmcgbW92ZXMgZm9yIGVsZXBoYW50IGF0ICcrIGkpO1xuICAgICAgICBmb3IgKGxldCBqID0gZmlyc3Rfc3E7IGogPD0gbGFzdF9zcTsgaisrKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2ogaXMgJyArIGopO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdib2FyZFtqXSBpcyAnICsgSlNPTi5zdHJpbmdpZnkoYm9hcmRbal0pKTtcbiAgICAgICAgICBpZiAoYm9hcmRbal0gPT09IHVuZGVmaW5lZCB8fCBib2FyZFtqXSA9PSBudWxsKSB7XG4gICAgICAgICAgICBzcXVhcmUgPSBqOyAvLyBUT0RPOiBjYWxjdWxhdGUgb2Zmc2V0cyBmb3IgcGllY2UgJiB1c2UgdG8gY2FsYyBzcXVhcmVcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBhZGRpbmcgbW92ZSB7ZnJvbTogJHtpfSwgdG86ICR7c3F1YXJlfX1gKTtcbiAgICAgICAgICAgIGFkZF9tb3ZlKGJvYXJkLCBtb3ZlcywgaSwgc3F1YXJlLCBCSVRTLk5PUk1BTClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coYG1vdmVzIGFyZSAke0pTT04uc3RyaW5naWZ5KG1vdmVzKX1gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwLCBsZW4gPSBQSUVDRV9PRkZTRVRTW3BpZWNlLnR5cGVdLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgdmFyIG9mZnNldCA9IFBJRUNFX09GRlNFVFNbcGllY2UudHlwZV1bal1cbiAgICAgICAgICB2YXIgc3F1YXJlID0gaVxuXG4gICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIHNxdWFyZSArPSBvZmZzZXRcbiAgICAgICAgICAgIGlmIChzcXVhcmUgJiAweDg4KSBicmVha1xuXG4gICAgICAgICAgICBpZiAoYm9hcmRbc3F1YXJlXSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGFkZF9tb3ZlKGJvYXJkLCBtb3ZlcywgaSwgc3F1YXJlLCBCSVRTLk5PUk1BTClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChib2FyZFtzcXVhcmVdLmNvbG9yID09PSB1cykgYnJlYWtcbiAgICAgICAgICAgICAgYWRkX21vdmUoYm9hcmQsIG1vdmVzLCBpLCBzcXVhcmUsIEJJVFMuQ0FQVFVSRSlcbiAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyogYnJlYWssIGlmIGtuaWdodCBvciBraW5nICovXG4gICAgICAgICAgICBpZiAocGllY2UudHlwZSA9PT0gJ24nIHx8IHBpZWNlLnR5cGUgPT09ICdrJykgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBjaGVjayBmb3IgY2FzdGxpbmcgaWY6IGEpIHdlJ3JlIGdlbmVyYXRpbmcgYWxsIG1vdmVzLCBvciBiKSB3ZSdyZSBkb2luZ1xuICAgICAqIHNpbmdsZSBzcXVhcmUgbW92ZSBnZW5lcmF0aW9uIG9uIHRoZSBraW5nJ3Mgc3F1YXJlXG4gICAgICovXG4gICAgaWYgKCFzaW5nbGVfc3F1YXJlIHx8IGxhc3Rfc3EgPT09IGtpbmdzW3VzXSkge1xuICAgICAgLyoga2luZy1zaWRlIGNhc3RsaW5nICovXG4gICAgICBpZiAoY2FzdGxpbmdbdXNdICYgQklUUy5LU0lERV9DQVNUTEUpIHtcbiAgICAgICAgdmFyIGNhc3RsaW5nX2Zyb20gPSBraW5nc1t1c11cbiAgICAgICAgdmFyIGNhc3RsaW5nX3RvID0gY2FzdGxpbmdfZnJvbSArIDJcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgYm9hcmRbY2FzdGxpbmdfZnJvbSArIDFdID09IG51bGwgJiZcbiAgICAgICAgICBib2FyZFtjYXN0bGluZ190b10gPT0gbnVsbCAmJlxuICAgICAgICAgICFhdHRhY2tlZCh0aGVtLCBraW5nc1t1c10pICYmXG4gICAgICAgICAgIWF0dGFja2VkKHRoZW0sIGNhc3RsaW5nX2Zyb20gKyAxKSAmJlxuICAgICAgICAgICFhdHRhY2tlZCh0aGVtLCBjYXN0bGluZ190bylcbiAgICAgICAgKSB7XG4gICAgICAgICAgYWRkX21vdmUoYm9hcmQsIG1vdmVzLCBraW5nc1t1c10sIGNhc3RsaW5nX3RvLCBCSVRTLktTSURFX0NBU1RMRSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKiBxdWVlbi1zaWRlIGNhc3RsaW5nICovXG4gICAgICBpZiAoY2FzdGxpbmdbdXNdICYgQklUUy5RU0lERV9DQVNUTEUpIHtcbiAgICAgICAgdmFyIGNhc3RsaW5nX2Zyb20gPSBraW5nc1t1c11cbiAgICAgICAgdmFyIGNhc3RsaW5nX3RvID0gY2FzdGxpbmdfZnJvbSAtIDJcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgYm9hcmRbY2FzdGxpbmdfZnJvbSAtIDFdID09IG51bGwgJiZcbiAgICAgICAgICBib2FyZFtjYXN0bGluZ19mcm9tIC0gMl0gPT0gbnVsbCAmJlxuICAgICAgICAgIGJvYXJkW2Nhc3RsaW5nX2Zyb20gLSAzXSA9PSBudWxsICYmXG4gICAgICAgICAgIWF0dGFja2VkKHRoZW0sIGtpbmdzW3VzXSkgJiZcbiAgICAgICAgICAhYXR0YWNrZWQodGhlbSwgY2FzdGxpbmdfZnJvbSAtIDEpICYmXG4gICAgICAgICAgIWF0dGFja2VkKHRoZW0sIGNhc3RsaW5nX3RvKVxuICAgICAgICApIHtcbiAgICAgICAgICBhZGRfbW92ZShib2FyZCwgbW92ZXMsIGtpbmdzW3VzXSwgY2FzdGxpbmdfdG8sIEJJVFMuUVNJREVfQ0FTVExFKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyogcmV0dXJuIGFsbCBwc2V1ZG8tbGVnYWwgbW92ZXMgKHRoaXMgaW5jbHVkZXMgbW92ZXMgdGhhdCBhbGxvdyB0aGUga2luZ1xuICAgICAqIHRvIGJlIGNhcHR1cmVkKVxuICAgICAqL1xuICAgIGlmICghbGVnYWwpIHtcbiAgICAgIHJldHVybiBtb3Zlc1xuICAgIH1cblxuICAgIC8qIGZpbHRlciBvdXQgaWxsZWdhbCBtb3ZlcyAqL1xuICAgIHZhciBsZWdhbF9tb3ZlcyA9IFtdXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG1vdmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBtYWtlX21vdmUobW92ZXNbaV0pXG4gICAgICBpZiAoIWtpbmdfYXR0YWNrZWQodXMpKSB7XG4gICAgICAgIGxlZ2FsX21vdmVzLnB1c2gobW92ZXNbaV0pXG4gICAgICB9XG4gICAgICB1bmRvX21vdmUoKVxuICAgIH1cbiAgICByZXR1cm4gbGVnYWxfbW92ZXNcbiAgfVxuXG4gIC8qIGNvbnZlcnQgYSBtb3ZlIGZyb20gMHg4OCBjb29yZGluYXRlcyB0byBTdGFuZGFyZCBBbGdlYnJhaWMgTm90YXRpb25cbiAgICogKFNBTilcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBzbG9wcHkgVXNlIHRoZSBzbG9wcHkgU0FOIGdlbmVyYXRvciB0byB3b3JrIGFyb3VuZCBvdmVyXG4gICAqIGRpc2FtYmlndWF0aW9uIGJ1Z3MgaW4gRnJpdHogYW5kIENoZXNzYmFzZS4gIFNlZSBiZWxvdzpcbiAgICpcbiAgICogcjFicWtibnIvcHBwMnBwcC8ybjUvMUIxcFAzLzRQMy84L1BQUFAyUFAvUk5CUUsxTlIgYiBLUWtxIC0gMiA0XG4gICAqIDQuIC4uLiBOZ2U3IGlzIG92ZXJseSBkaXNhbWJpZ3VhdGVkIGJlY2F1c2UgdGhlIGtuaWdodCBvbiBjNiBpcyBwaW5uZWRcbiAgICogNC4gLi4uIE5lNyBpcyB0ZWNobmljYWxseSB0aGUgdmFsaWQgU0FOXG4gICAqL1xuICBmdW5jdGlvbiBtb3ZlX3RvX3Nhbihtb3ZlLCBzbG9wcHkpIHtcbiAgICB2YXIgb3V0cHV0ID0gJydcblxuICAgIGlmIChtb3ZlLmZsYWdzICYgQklUUy5LU0lERV9DQVNUTEUpIHtcbiAgICAgIG91dHB1dCA9ICdPLU8nXG4gICAgfSBlbHNlIGlmIChtb3ZlLmZsYWdzICYgQklUUy5RU0lERV9DQVNUTEUpIHtcbiAgICAgIG91dHB1dCA9ICdPLU8tTydcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGRpc2FtYmlndWF0b3IgPSBnZXRfZGlzYW1iaWd1YXRvcihtb3ZlLCBzbG9wcHkpXG5cbiAgICAgIGlmIChtb3ZlLnBpZWNlICE9PSBQQVdOKSB7XG4gICAgICAgIG91dHB1dCArPSBtb3ZlLnBpZWNlLnRvVXBwZXJDYXNlKCkgKyBkaXNhbWJpZ3VhdG9yXG4gICAgICB9XG5cbiAgICAgIGlmIChtb3ZlLmZsYWdzICYgKEJJVFMuQ0FQVFVSRSB8IEJJVFMuRVBfQ0FQVFVSRSkpIHtcbiAgICAgICAgaWYgKG1vdmUucGllY2UgPT09IFBBV04pIHtcbiAgICAgICAgICBvdXRwdXQgKz0gYWxnZWJyYWljKG1vdmUuZnJvbSlbMF1cbiAgICAgICAgfVxuICAgICAgICBvdXRwdXQgKz0gJ3gnXG4gICAgICB9XG5cbiAgICAgIG91dHB1dCArPSBhbGdlYnJhaWMobW92ZS50bylcblxuICAgICAgaWYgKG1vdmUuZmxhZ3MgJiBCSVRTLlBST01PVElPTikge1xuICAgICAgICBvdXRwdXQgKz0gJz0nICsgbW92ZS5wcm9tb3Rpb24udG9VcHBlckNhc2UoKVxuICAgICAgfVxuICAgIH1cblxuICAgIG1ha2VfbW92ZShtb3ZlKVxuICAgIGlmIChpbl9jaGVjaygpKSB7XG4gICAgICBpZiAoaW5fY2hlY2ttYXRlKCkpIHtcbiAgICAgICAgb3V0cHV0ICs9ICcjJ1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0cHV0ICs9ICcrJ1xuICAgICAgfVxuICAgIH1cbiAgICB1bmRvX21vdmUoKVxuXG4gICAgcmV0dXJuIG91dHB1dFxuICB9XG5cbiAgLy8gcGFyc2VzIGFsbCBvZiB0aGUgZGVjb3JhdG9ycyBvdXQgb2YgYSBTQU4gc3RyaW5nXG4gIGZ1bmN0aW9uIHN0cmlwcGVkX3Nhbihtb3ZlKSB7XG4gICAgcmV0dXJuIG1vdmUucmVwbGFjZSgvPS8sICcnKS5yZXBsYWNlKC9bKyNdP1s/IV0qJC8sICcnKVxuICB9XG5cbiAgZnVuY3Rpb24gYXR0YWNrZWQoY29sb3IsIHNxdWFyZSkge1xuICAgIGZvciAodmFyIGkgPSBTUVVBUkVTLmE4OyBpIDw9IFNRVUFSRVMuaDE7IGkrKykge1xuICAgICAgLyogZGlkIHdlIHJ1biBvZmYgdGhlIGVuZCBvZiB0aGUgYm9hcmQgKi9cbiAgICAgIGlmIChpICYgMHg4OCkge1xuICAgICAgICBpICs9IDdcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLyogaWYgZW1wdHkgc3F1YXJlIG9yIHdyb25nIGNvbG9yICovXG4gICAgICBpZiAoYm9hcmRbaV0gPT0gbnVsbCB8fCBib2FyZFtpXS5jb2xvciAhPT0gY29sb3IpIGNvbnRpbnVlXG5cbiAgICAgIHZhciBwaWVjZSA9IGJvYXJkW2ldXG4gICAgICB2YXIgZGlmZmVyZW5jZSA9IGkgLSBzcXVhcmVcbiAgICAgIHZhciBpbmRleCA9IGRpZmZlcmVuY2UgKyAxMTlcblxuICAgICAgaWYgKEFUVEFDS1NbaW5kZXhdICYgKDEgPDwgU0hJRlRTW3BpZWNlLnR5cGVdKSkge1xuICAgICAgICBpZiAocGllY2UudHlwZSA9PT0gUEFXTikge1xuICAgICAgICAgIGlmIChkaWZmZXJlbmNlID4gMCkge1xuICAgICAgICAgICAgaWYgKHBpZWNlLmNvbG9yID09PSBXSElURSkgcmV0dXJuIHRydWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHBpZWNlLmNvbG9yID09PSBCTEFDSykgcmV0dXJuIHRydWVcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIGlmIHRoZSBwaWVjZSBpcyBhIGtuaWdodCBvciBhIGtpbmcgKi9cbiAgICAgICAgaWYgKHBpZWNlLnR5cGUgPT09ICduJyB8fCBwaWVjZS50eXBlID09PSAnaycpIHJldHVybiB0cnVlXG5cbiAgICAgICAgdmFyIG9mZnNldCA9IFJBWVNbaW5kZXhdXG4gICAgICAgIHZhciBqID0gaSArIG9mZnNldFxuXG4gICAgICAgIHZhciBibG9ja2VkID0gZmFsc2VcbiAgICAgICAgd2hpbGUgKGogIT09IHNxdWFyZSkge1xuICAgICAgICAgIGlmIChib2FyZFtqXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgaiArPSBvZmZzZXRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYmxvY2tlZCkgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIGtpbmdfYXR0YWNrZWQoY29sb3IpIHtcbiAgICByZXR1cm4gYXR0YWNrZWQoc3dhcF9jb2xvcihjb2xvciksIGtpbmdzW2NvbG9yXSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGluX2NoZWNrKCkge1xuICAgIHJldHVybiBraW5nX2F0dGFja2VkKHR1cm4pXG4gIH1cblxuICBmdW5jdGlvbiBpbl9jaGVja21hdGUoKSB7XG4gICAgcmV0dXJuIGluX2NoZWNrKCkgJiYgZ2VuZXJhdGVfbW92ZXMoKS5sZW5ndGggPT09IDBcbiAgfVxuXG4gIGZ1bmN0aW9uIGluX3N0YWxlbWF0ZSgpIHtcbiAgICByZXR1cm4gIWluX2NoZWNrKCkgJiYgZ2VuZXJhdGVfbW92ZXMoKS5sZW5ndGggPT09IDBcbiAgfVxuXG4gIGZ1bmN0aW9uIGluc3VmZmljaWVudF9tYXRlcmlhbCgpIHtcbiAgICB2YXIgcGllY2VzID0ge31cbiAgICB2YXIgYmlzaG9wcyA9IFtdXG4gICAgdmFyIG51bV9waWVjZXMgPSAwXG4gICAgdmFyIHNxX2NvbG9yID0gMFxuXG4gICAgZm9yICh2YXIgaSA9IFNRVUFSRVMuYTg7IGkgPD0gU1FVQVJFUy5oMTsgaSsrKSB7XG4gICAgICBzcV9jb2xvciA9IChzcV9jb2xvciArIDEpICUgMlxuICAgICAgaWYgKGkgJiAweDg4KSB7XG4gICAgICAgIGkgKz0gN1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICB2YXIgcGllY2UgPSBib2FyZFtpXVxuICAgICAgaWYgKHBpZWNlKSB7XG4gICAgICAgIHBpZWNlc1twaWVjZS50eXBlXSA9IHBpZWNlLnR5cGUgaW4gcGllY2VzID8gcGllY2VzW3BpZWNlLnR5cGVdICsgMSA6IDFcbiAgICAgICAgaWYgKHBpZWNlLnR5cGUgPT09IEJJU0hPUCkge1xuICAgICAgICAgIGJpc2hvcHMucHVzaChzcV9jb2xvcilcbiAgICAgICAgfVxuICAgICAgICBudW1fcGllY2VzKytcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBrIHZzLiBrICovXG4gICAgaWYgKG51bV9waWVjZXMgPT09IDIpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIGlmIChcbiAgICAgIC8qIGsgdnMuIGtuIC4uLi4gb3IgLi4uLiBrIHZzLiBrYiAqL1xuICAgICAgbnVtX3BpZWNlcyA9PT0gMyAmJlxuICAgICAgKHBpZWNlc1tCSVNIT1BdID09PSAxIHx8IHBpZWNlc1tLTklHSFRdID09PSAxKVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2UgaWYgKG51bV9waWVjZXMgPT09IHBpZWNlc1tCSVNIT1BdICsgMikge1xuICAgICAgLyoga2IgdnMuIGtiIHdoZXJlIGFueSBudW1iZXIgb2YgYmlzaG9wcyBhcmUgYWxsIG9uIHRoZSBzYW1lIGNvbG9yICovXG4gICAgICB2YXIgc3VtID0gMFxuICAgICAgdmFyIGxlbiA9IGJpc2hvcHMubGVuZ3RoXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHN1bSArPSBiaXNob3BzW2ldXG4gICAgICB9XG4gICAgICBpZiAoc3VtID09PSAwIHx8IHN1bSA9PT0gbGVuKSB7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBmdW5jdGlvbiBpbl90aHJlZWZvbGRfcmVwZXRpdGlvbigpIHtcbiAgICAvKiBUT0RPOiB3aGlsZSB0aGlzIGZ1bmN0aW9uIGlzIGZpbmUgZm9yIGNhc3VhbCB1c2UsIGEgYmV0dGVyXG4gICAgICogaW1wbGVtZW50YXRpb24gd291bGQgdXNlIGEgWm9icmlzdCBrZXkgKGluc3RlYWQgb2YgRkVOKS4gdGhlXG4gICAgICogWm9icmlzdCBrZXkgd291bGQgYmUgbWFpbnRhaW5lZCBpbiB0aGUgbWFrZV9tb3ZlL3VuZG9fbW92ZSBmdW5jdGlvbnMsXG4gICAgICogYXZvaWRpbmcgdGhlIGNvc3RseSB0aGF0IHdlIGRvIGJlbG93LlxuICAgICAqL1xuICAgIHZhciBtb3ZlcyA9IFtdXG4gICAgdmFyIHBvc2l0aW9ucyA9IHt9XG4gICAgdmFyIHJlcGV0aXRpb24gPSBmYWxzZVxuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHZhciBtb3ZlID0gdW5kb19tb3ZlKClcbiAgICAgIGlmICghbW92ZSkgYnJlYWtcbiAgICAgIG1vdmVzLnB1c2gobW92ZSlcbiAgICB9XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgLyogcmVtb3ZlIHRoZSBsYXN0IHR3byBmaWVsZHMgaW4gdGhlIEZFTiBzdHJpbmcsIHRoZXkncmUgbm90IG5lZWRlZFxuICAgICAgICogd2hlbiBjaGVja2luZyBmb3IgZHJhdyBieSByZXAgKi9cbiAgICAgIHZhciBmZW4gPSBnZW5lcmF0ZV9mZW4oKVxuICAgICAgICAuc3BsaXQoJyAnKVxuICAgICAgICAuc2xpY2UoMCwgNClcbiAgICAgICAgLmpvaW4oJyAnKVxuXG4gICAgICAvKiBoYXMgdGhlIHBvc2l0aW9uIG9jY3VycmVkIHRocmVlIG9yIG1vdmUgdGltZXMgKi9cbiAgICAgIHBvc2l0aW9uc1tmZW5dID0gZmVuIGluIHBvc2l0aW9ucyA/IHBvc2l0aW9uc1tmZW5dICsgMSA6IDFcbiAgICAgIGlmIChwb3NpdGlvbnNbZmVuXSA+PSAzKSB7XG4gICAgICAgIHJlcGV0aXRpb24gPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIGlmICghbW92ZXMubGVuZ3RoKSB7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBtYWtlX21vdmUobW92ZXMucG9wKCkpXG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcGV0aXRpb25cbiAgfVxuXG4gIGZ1bmN0aW9uIHB1c2gobW92ZSkge1xuICAgIGhpc3RvcnkucHVzaCh7XG4gICAgICBtb3ZlOiBtb3ZlLFxuICAgICAga2luZ3M6IHsgYjoga2luZ3MuYiwgdzoga2luZ3MudyB9LFxuICAgICAgdHVybjogdHVybixcbiAgICAgIGNhc3RsaW5nOiB7IGI6IGNhc3RsaW5nLmIsIHc6IGNhc3RsaW5nLncgfSxcbiAgICAgIGVwX3NxdWFyZTogZXBfc3F1YXJlLFxuICAgICAgaGFsZl9tb3ZlczogaGFsZl9tb3ZlcyxcbiAgICAgIG1vdmVfbnVtYmVyOiBtb3ZlX251bWJlclxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBtYWtlX21vdmUobW92ZSkge1xuICAgIHZhciB1cyA9IHR1cm5cbiAgICB2YXIgdGhlbSA9IHN3YXBfY29sb3IodXMpXG4gICAgcHVzaChtb3ZlKVxuXG4gICAgYm9hcmRbbW92ZS50b10gPSBib2FyZFttb3ZlLmZyb21dXG4gICAgYm9hcmRbbW92ZS5mcm9tXSA9IG51bGxcblxuICAgIC8qIGlmIGVwIGNhcHR1cmUsIHJlbW92ZSB0aGUgY2FwdHVyZWQgcGF3biAqL1xuICAgIGlmIChtb3ZlLmZsYWdzICYgQklUUy5FUF9DQVBUVVJFKSB7XG4gICAgICBpZiAodHVybiA9PT0gQkxBQ0spIHtcbiAgICAgICAgYm9hcmRbbW92ZS50byAtIDE2XSA9IG51bGxcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJvYXJkW21vdmUudG8gKyAxNl0gPSBudWxsXG4gICAgICB9XG4gICAgfVxuXG4gICAgLyogaWYgcGF3biBwcm9tb3Rpb24sIHJlcGxhY2Ugd2l0aCBuZXcgcGllY2UgKi9cbiAgICBpZiAobW92ZS5mbGFncyAmIEJJVFMuUFJPTU9USU9OKSB7XG4gICAgICBib2FyZFttb3ZlLnRvXSA9IHsgdHlwZTogbW92ZS5wcm9tb3Rpb24sIGNvbG9yOiB1cyB9XG4gICAgfVxuXG4gICAgLyogaWYgd2UgbW92ZWQgdGhlIGtpbmcgKi9cbiAgICBpZiAoYm9hcmRbbW92ZS50b10udHlwZSA9PT0gS0lORykge1xuICAgICAga2luZ3NbYm9hcmRbbW92ZS50b10uY29sb3JdID0gbW92ZS50b1xuXG4gICAgICAvKiBpZiB3ZSBjYXN0bGVkLCBtb3ZlIHRoZSByb29rIG5leHQgdG8gdGhlIGtpbmcgKi9cbiAgICAgIGlmIChtb3ZlLmZsYWdzICYgQklUUy5LU0lERV9DQVNUTEUpIHtcbiAgICAgICAgdmFyIGNhc3RsaW5nX3RvID0gbW92ZS50byAtIDFcbiAgICAgICAgdmFyIGNhc3RsaW5nX2Zyb20gPSBtb3ZlLnRvICsgMVxuICAgICAgICBib2FyZFtjYXN0bGluZ190b10gPSBib2FyZFtjYXN0bGluZ19mcm9tXVxuICAgICAgICBib2FyZFtjYXN0bGluZ19mcm9tXSA9IG51bGxcbiAgICAgIH0gZWxzZSBpZiAobW92ZS5mbGFncyAmIEJJVFMuUVNJREVfQ0FTVExFKSB7XG4gICAgICAgIHZhciBjYXN0bGluZ190byA9IG1vdmUudG8gKyAxXG4gICAgICAgIHZhciBjYXN0bGluZ19mcm9tID0gbW92ZS50byAtIDJcbiAgICAgICAgYm9hcmRbY2FzdGxpbmdfdG9dID0gYm9hcmRbY2FzdGxpbmdfZnJvbV1cbiAgICAgICAgYm9hcmRbY2FzdGxpbmdfZnJvbV0gPSBudWxsXG4gICAgICB9XG5cbiAgICAgIC8qIHR1cm4gb2ZmIGNhc3RsaW5nICovXG4gICAgICBjYXN0bGluZ1t1c10gPSAnJ1xuICAgIH1cblxuICAgIC8qIHR1cm4gb2ZmIGNhc3RsaW5nIGlmIHdlIG1vdmUgYSByb29rICovXG4gICAgaWYgKGNhc3RsaW5nW3VzXSkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IFJPT0tTW3VzXS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbW92ZS5mcm9tID09PSBST09LU1t1c11baV0uc3F1YXJlICYmXG4gICAgICAgICAgY2FzdGxpbmdbdXNdICYgUk9PS1NbdXNdW2ldLmZsYWdcbiAgICAgICAgKSB7XG4gICAgICAgICAgY2FzdGxpbmdbdXNdIF49IFJPT0tTW3VzXVtpXS5mbGFnXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qIHR1cm4gb2ZmIGNhc3RsaW5nIGlmIHdlIGNhcHR1cmUgYSByb29rICovXG4gICAgaWYgKGNhc3RsaW5nW3RoZW1dKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gUk9PS1NbdGhlbV0ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG1vdmUudG8gPT09IFJPT0tTW3RoZW1dW2ldLnNxdWFyZSAmJlxuICAgICAgICAgIGNhc3RsaW5nW3RoZW1dICYgUk9PS1NbdGhlbV1baV0uZmxhZ1xuICAgICAgICApIHtcbiAgICAgICAgICBjYXN0bGluZ1t0aGVtXSBePSBST09LU1t0aGVtXVtpXS5mbGFnXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qIGlmIGJpZyBwYXduIG1vdmUsIHVwZGF0ZSB0aGUgZW4gcGFzc2FudCBzcXVhcmUgKi9cbiAgICBpZiAobW92ZS5mbGFncyAmIEJJVFMuQklHX1BBV04pIHtcbiAgICAgIGlmICh0dXJuID09PSAnYicpIHtcbiAgICAgICAgZXBfc3F1YXJlID0gbW92ZS50byAtIDE2XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlcF9zcXVhcmUgPSBtb3ZlLnRvICsgMTZcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZXBfc3F1YXJlID0gRU1QVFlcbiAgICB9XG5cbiAgICAvKiByZXNldCB0aGUgNTAgbW92ZSBjb3VudGVyIGlmIGEgcGF3biBpcyBtb3ZlZCBvciBhIHBpZWNlIGlzIGNhcHR1cmVkICovXG4gICAgaWYgKG1vdmUucGllY2UgPT09IFBBV04pIHtcbiAgICAgIGhhbGZfbW92ZXMgPSAwXG4gICAgfSBlbHNlIGlmIChtb3ZlLmZsYWdzICYgKEJJVFMuQ0FQVFVSRSB8IEJJVFMuRVBfQ0FQVFVSRSkpIHtcbiAgICAgIGhhbGZfbW92ZXMgPSAwXG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbGZfbW92ZXMrK1xuICAgIH1cblxuICAgIGlmICh0dXJuID09PSBCTEFDSykge1xuICAgICAgbW92ZV9udW1iZXIrK1xuICAgIH1cbiAgICB0dXJuID0gc3dhcF9jb2xvcih0dXJuKVxuICB9XG5cbiAgZnVuY3Rpb24gdW5kb19tb3ZlKCkge1xuICAgIHZhciBvbGQgPSBoaXN0b3J5LnBvcCgpXG4gICAgaWYgKG9sZCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHZhciBtb3ZlID0gb2xkLm1vdmVcbiAgICBraW5ncyA9IG9sZC5raW5nc1xuICAgIHR1cm4gPSBvbGQudHVyblxuICAgIGNhc3RsaW5nID0gb2xkLmNhc3RsaW5nXG4gICAgZXBfc3F1YXJlID0gb2xkLmVwX3NxdWFyZVxuICAgIGhhbGZfbW92ZXMgPSBvbGQuaGFsZl9tb3Zlc1xuICAgIG1vdmVfbnVtYmVyID0gb2xkLm1vdmVfbnVtYmVyXG5cbiAgICB2YXIgdXMgPSB0dXJuXG4gICAgdmFyIHRoZW0gPSBzd2FwX2NvbG9yKHR1cm4pXG5cbiAgICBib2FyZFttb3ZlLmZyb21dID0gYm9hcmRbbW92ZS50b11cbiAgICBib2FyZFttb3ZlLmZyb21dLnR5cGUgPSBtb3ZlLnBpZWNlIC8vIHRvIHVuZG8gYW55IHByb21vdGlvbnNcbiAgICBib2FyZFttb3ZlLnRvXSA9IG51bGxcblxuICAgIGlmIChtb3ZlLmZsYWdzICYgQklUUy5DQVBUVVJFKSB7XG4gICAgICBib2FyZFttb3ZlLnRvXSA9IHsgdHlwZTogbW92ZS5jYXB0dXJlZCwgY29sb3I6IHRoZW0gfVxuICAgIH0gZWxzZSBpZiAobW92ZS5mbGFncyAmIEJJVFMuRVBfQ0FQVFVSRSkge1xuICAgICAgdmFyIGluZGV4XG4gICAgICBpZiAodXMgPT09IEJMQUNLKSB7XG4gICAgICAgIGluZGV4ID0gbW92ZS50byAtIDE2XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmRleCA9IG1vdmUudG8gKyAxNlxuICAgICAgfVxuICAgICAgYm9hcmRbaW5kZXhdID0geyB0eXBlOiBQQVdOLCBjb2xvcjogdGhlbSB9XG4gICAgfVxuXG4gICAgaWYgKG1vdmUuZmxhZ3MgJiAoQklUUy5LU0lERV9DQVNUTEUgfCBCSVRTLlFTSURFX0NBU1RMRSkpIHtcbiAgICAgIHZhciBjYXN0bGluZ190bywgY2FzdGxpbmdfZnJvbVxuICAgICAgaWYgKG1vdmUuZmxhZ3MgJiBCSVRTLktTSURFX0NBU1RMRSkge1xuICAgICAgICBjYXN0bGluZ190byA9IG1vdmUudG8gKyAxXG4gICAgICAgIGNhc3RsaW5nX2Zyb20gPSBtb3ZlLnRvIC0gMVxuICAgICAgfSBlbHNlIGlmIChtb3ZlLmZsYWdzICYgQklUUy5RU0lERV9DQVNUTEUpIHtcbiAgICAgICAgY2FzdGxpbmdfdG8gPSBtb3ZlLnRvIC0gMlxuICAgICAgICBjYXN0bGluZ19mcm9tID0gbW92ZS50byArIDFcbiAgICAgIH1cblxuICAgICAgYm9hcmRbY2FzdGxpbmdfdG9dID0gYm9hcmRbY2FzdGxpbmdfZnJvbV1cbiAgICAgIGJvYXJkW2Nhc3RsaW5nX2Zyb21dID0gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiBtb3ZlXG4gIH1cblxuICAvKiB0aGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gdW5pcXVlbHkgaWRlbnRpZnkgYW1iaWd1b3VzIG1vdmVzICovXG4gIGZ1bmN0aW9uIGdldF9kaXNhbWJpZ3VhdG9yKG1vdmUsIHNsb3BweSkge1xuICAgIHZhciBtb3ZlcyA9IGdlbmVyYXRlX21vdmVzKHsgbGVnYWw6ICFzbG9wcHkgfSlcblxuICAgIHZhciBmcm9tID0gbW92ZS5mcm9tXG4gICAgdmFyIHRvID0gbW92ZS50b1xuICAgIHZhciBwaWVjZSA9IG1vdmUucGllY2VcblxuICAgIHZhciBhbWJpZ3VpdGllcyA9IDBcbiAgICB2YXIgc2FtZV9yYW5rID0gMFxuICAgIHZhciBzYW1lX2ZpbGUgPSAwXG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbW92ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBhbWJpZ19mcm9tID0gbW92ZXNbaV0uZnJvbVxuICAgICAgdmFyIGFtYmlnX3RvID0gbW92ZXNbaV0udG9cbiAgICAgIHZhciBhbWJpZ19waWVjZSA9IG1vdmVzW2ldLnBpZWNlXG5cbiAgICAgIC8qIGlmIGEgbW92ZSBvZiB0aGUgc2FtZSBwaWVjZSB0eXBlIGVuZHMgb24gdGhlIHNhbWUgdG8gc3F1YXJlLCB3ZSdsbFxuICAgICAgICogbmVlZCB0byBhZGQgYSBkaXNhbWJpZ3VhdG9yIHRvIHRoZSBhbGdlYnJhaWMgbm90YXRpb25cbiAgICAgICAqL1xuICAgICAgaWYgKHBpZWNlID09PSBhbWJpZ19waWVjZSAmJiBmcm9tICE9PSBhbWJpZ19mcm9tICYmIHRvID09PSBhbWJpZ190bykge1xuICAgICAgICBhbWJpZ3VpdGllcysrXG5cbiAgICAgICAgaWYgKHJhbmsoZnJvbSkgPT09IHJhbmsoYW1iaWdfZnJvbSkpIHtcbiAgICAgICAgICBzYW1lX3JhbmsrK1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbGUoZnJvbSkgPT09IGZpbGUoYW1iaWdfZnJvbSkpIHtcbiAgICAgICAgICBzYW1lX2ZpbGUrK1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGFtYmlndWl0aWVzID4gMCkge1xuICAgICAgLyogaWYgdGhlcmUgZXhpc3RzIGEgc2ltaWxhciBtb3ZpbmcgcGllY2Ugb24gdGhlIHNhbWUgcmFuayBhbmQgZmlsZSBhc1xuICAgICAgICogdGhlIG1vdmUgaW4gcXVlc3Rpb24sIHVzZSB0aGUgc3F1YXJlIGFzIHRoZSBkaXNhbWJpZ3VhdG9yXG4gICAgICAgKi9cbiAgICAgIGlmIChzYW1lX3JhbmsgPiAwICYmIHNhbWVfZmlsZSA+IDApIHtcbiAgICAgICAgcmV0dXJuIGFsZ2VicmFpYyhmcm9tKVxuICAgICAgfSBlbHNlIGlmIChzYW1lX2ZpbGUgPiAwKSB7XG4gICAgICAgIC8qIGlmIHRoZSBtb3ZpbmcgcGllY2UgcmVzdHMgb24gdGhlIHNhbWUgZmlsZSwgdXNlIHRoZSByYW5rIHN5bWJvbCBhcyB0aGVcbiAgICAgICAgICogZGlzYW1iaWd1YXRvclxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIGFsZ2VicmFpYyhmcm9tKS5jaGFyQXQoMSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIGVsc2UgdXNlIHRoZSBmaWxlIHN5bWJvbCAqL1xuICAgICAgICByZXR1cm4gYWxnZWJyYWljKGZyb20pLmNoYXJBdCgwKVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgZnVuY3Rpb24gYXNjaWkoKSB7XG4gICAgdmFyIHMgPSAnICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLStcXG4nXG4gICAgZm9yICh2YXIgaSA9IFNRVUFSRVMuYTg7IGkgPD0gU1FVQVJFUy5oMTsgaSsrKSB7XG4gICAgICAvKiBkaXNwbGF5IHRoZSByYW5rICovXG4gICAgICBpZiAoZmlsZShpKSA9PT0gMCkge1xuICAgICAgICBzICs9ICcgJyArICc4NzY1NDMyMSdbcmFuayhpKV0gKyAnIHwnXG4gICAgICB9XG5cbiAgICAgIC8qIGVtcHR5IHBpZWNlICovXG4gICAgICBpZiAoYm9hcmRbaV0gPT0gbnVsbCkge1xuICAgICAgICBzICs9ICcgLiAnXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcGllY2UgPSBib2FyZFtpXS50eXBlXG4gICAgICAgIHZhciBjb2xvciA9IGJvYXJkW2ldLmNvbG9yXG4gICAgICAgIHZhciBzeW1ib2wgPSBjb2xvciA9PT0gV0hJVEUgPyBwaWVjZS50b1VwcGVyQ2FzZSgpIDogcGllY2UudG9Mb3dlckNhc2UoKVxuICAgICAgICBzICs9ICcgJyArIHN5bWJvbCArICcgJ1xuICAgICAgfVxuXG4gICAgICBpZiAoKGkgKyAxKSAmIDB4ODgpIHtcbiAgICAgICAgcyArPSAnfFxcbidcbiAgICAgICAgaSArPSA4XG4gICAgICB9XG4gICAgfVxuICAgIHMgKz0gJyAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rXFxuJ1xuICAgIHMgKz0gJyAgICAgYSAgYiAgYyAgZCAgZSAgZiAgZyAgaFxcbidcblxuICAgIHJldHVybiBzXG4gIH1cblxuICAvLyBjb252ZXJ0IGEgbW92ZSBmcm9tIFN0YW5kYXJkIEFsZ2VicmFpYyBOb3RhdGlvbiAoU0FOKSB0byAweDg4IGNvb3JkaW5hdGVzXG4gIGZ1bmN0aW9uIG1vdmVfZnJvbV9zYW4obW92ZSwgc2xvcHB5KSB7XG4gICAgLy8gc3RyaXAgb2ZmIGFueSBtb3ZlIGRlY29yYXRpb25zOiBlLmcgTmYzKz8hXG4gICAgdmFyIGNsZWFuX21vdmUgPSBzdHJpcHBlZF9zYW4obW92ZSlcblxuICAgIC8vIGlmIHdlJ3JlIHVzaW5nIHRoZSBzbG9wcHkgcGFyc2VyIHJ1biBhIHJlZ2V4IHRvIGdyYWIgcGllY2UsIHRvLCBhbmQgZnJvbVxuICAgIC8vIHRoaXMgc2hvdWxkIHBhcnNlIGludmFsaWQgU0FOIGxpa2U6IFBlMi1lNCwgUmMxYzQsIFFmM3hmN1xuICAgIGlmIChzbG9wcHkpIHtcbiAgICAgIHZhciBtYXRjaGVzID0gY2xlYW5fbW92ZS5tYXRjaChcbiAgICAgICAgLyhbcG5icnFrUE5CUlFLRV0pPyhbYS1oXVsxLThdKXg/LT8oW2EtaF1bMS04XSkoW3FyYm5RUkJORV0pPy9cbiAgICAgIClcbiAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgIHZhciBwaWVjZSA9IG1hdGNoZXNbMV1cbiAgICAgICAgdmFyIGZyb20gPSBtYXRjaGVzWzJdXG4gICAgICAgIHZhciB0byA9IG1hdGNoZXNbM11cbiAgICAgICAgdmFyIHByb21vdGlvbiA9IG1hdGNoZXNbNF1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbW92ZXMgPSBnZW5lcmF0ZV9tb3ZlcygpXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG1vdmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAvLyB0cnkgdGhlIHN0cmljdCBwYXJzZXIgZmlyc3QsIHRoZW4gdGhlIHNsb3BweSBwYXJzZXIgaWYgcmVxdWVzdGVkXG4gICAgICAvLyBieSB0aGUgdXNlclxuICAgICAgaWYgKFxuICAgICAgICBjbGVhbl9tb3ZlID09PSBzdHJpcHBlZF9zYW4obW92ZV90b19zYW4obW92ZXNbaV0pKSB8fFxuICAgICAgICAoc2xvcHB5ICYmIGNsZWFuX21vdmUgPT09IHN0cmlwcGVkX3Nhbihtb3ZlX3RvX3Nhbihtb3Zlc1tpXSwgdHJ1ZSkpKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBtb3Zlc1tpXVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG1hdGNoZXMgJiZcbiAgICAgICAgICAoIXBpZWNlIHx8IHBpZWNlLnRvTG93ZXJDYXNlKCkgPT0gbW92ZXNbaV0ucGllY2UpICYmXG4gICAgICAgICAgU1FVQVJFU1tmcm9tXSA9PSBtb3Zlc1tpXS5mcm9tICYmXG4gICAgICAgICAgU1FVQVJFU1t0b10gPT0gbW92ZXNbaV0udG8gJiZcbiAgICAgICAgICAoIXByb21vdGlvbiB8fCBwcm9tb3Rpb24udG9Mb3dlckNhc2UoKSA9PSBtb3Zlc1tpXS5wcm9tb3Rpb24pXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBtb3Zlc1tpXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgKiBVVElMSVRZIEZVTkNUSU9OU1xuICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgZnVuY3Rpb24gcmFuayhpKSB7XG4gICAgcmV0dXJuIGkgPj4gNFxuICB9XG5cbiAgZnVuY3Rpb24gZmlsZShpKSB7XG4gICAgcmV0dXJuIGkgJiAxNVxuICB9XG5cbiAgZnVuY3Rpb24gYWxnZWJyYWljKGkpIHtcbiAgICB2YXIgZiA9IGZpbGUoaSksIHIgPSByYW5rKGkpXG5cbiAgICByZXR1cm4gJ2FiY2RlZmdoJy5zdWJzdHJpbmcoZiwgZiArIDEpICsgJzg3NjU0MzIxJy5zdWJzdHJpbmcociwgciArIDEpXG4gIH1cblxuICBmdW5jdGlvbiBzd2FwX2NvbG9yKGMpIHtcbiAgICByZXR1cm4gYyA9PT0gV0hJVEUgPyBCTEFDSyA6IFdISVRFXG4gIH1cblxuICBmdW5jdGlvbiBpc19kaWdpdChjKSB7XG4gICAgcmV0dXJuICcwMTIzNDU2Nzg5Jy5pbmRleE9mKGMpICE9PSAtMVxuICB9XG5cbiAgLyogcHJldHR5ID0gZXh0ZXJuYWwgbW92ZSBvYmplY3QgKi9cbiAgZnVuY3Rpb24gbWFrZV9wcmV0dHkodWdseV9tb3ZlKSB7XG4gICAgdmFyIG1vdmUgPSBjbG9uZSh1Z2x5X21vdmUpXG4gICAgbW92ZS5zYW4gPSBtb3ZlX3RvX3Nhbihtb3ZlLCBmYWxzZSlcbiAgICBtb3ZlLnRvID0gYWxnZWJyYWljKG1vdmUudG8pXG4gICAgbW92ZS5mcm9tID0gYWxnZWJyYWljKG1vdmUuZnJvbSlcblxuICAgIHZhciBmbGFncyA9ICcnXG5cbiAgICBmb3IgKHZhciBmbGFnIGluIEJJVFMpIHtcbiAgICAgIGlmIChCSVRTW2ZsYWddICYgbW92ZS5mbGFncykge1xuICAgICAgICBmbGFncyArPSBGTEFHU1tmbGFnXVxuICAgICAgfVxuICAgIH1cbiAgICBtb3ZlLmZsYWdzID0gZmxhZ3NcblxuICAgIHJldHVybiBtb3ZlXG4gIH1cblxuICBmdW5jdGlvbiBjbG9uZShvYmopIHtcbiAgICB2YXIgZHVwZSA9IG9iaiBpbnN0YW5jZW9mIEFycmF5ID8gW10gOiB7fVxuXG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gb2JqKSB7XG4gICAgICBpZiAodHlwZW9mIHByb3BlcnR5ID09PSAnb2JqZWN0Jykge1xuICAgICAgICBkdXBlW3Byb3BlcnR5XSA9IGNsb25lKG9ialtwcm9wZXJ0eV0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkdXBlW3Byb3BlcnR5XSA9IG9ialtwcm9wZXJ0eV1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZHVwZVxuICB9XG5cbiAgZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKVxuICB9XG5cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAqIERFQlVHR0lORyBVVElMSVRJRVNcbiAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIGZ1bmN0aW9uIHBlcmZ0KGRlcHRoKSB7XG4gICAgdmFyIG1vdmVzID0gZ2VuZXJhdGVfbW92ZXMoeyBsZWdhbDogZmFsc2UgfSlcbiAgICB2YXIgbm9kZXMgPSAwXG4gICAgdmFyIGNvbG9yID0gdHVyblxuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG1vdmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBtYWtlX21vdmUobW92ZXNbaV0pXG4gICAgICBpZiAoIWtpbmdfYXR0YWNrZWQoY29sb3IpKSB7XG4gICAgICAgIGlmIChkZXB0aCAtIDEgPiAwKSB7XG4gICAgICAgICAgdmFyIGNoaWxkX25vZGVzID0gcGVyZnQoZGVwdGggLSAxKVxuICAgICAgICAgIG5vZGVzICs9IGNoaWxkX25vZGVzXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZXMrK1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB1bmRvX21vdmUoKVxuICAgIH1cblxuICAgIHJldHVybiBub2Rlc1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICogUFVCTElDIENPTlNUQU5UUyAoaXMgdGhlcmUgYSBiZXR0ZXIgd2F5IHRvIGRvIHRoaXM/KVxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICBXSElURTogV0hJVEUsXG4gICAgQkxBQ0s6IEJMQUNLLFxuICAgIFBBV046IFBBV04sXG4gICAgS05JR0hUOiBLTklHSFQsXG4gICAgQklTSE9QOiBCSVNIT1AsXG4gICAgUk9PSzogUk9PSyxcbiAgICBRVUVFTjogUVVFRU4sXG4gICAgS0lORzogS0lORyxcbiAgICBFTEVQSEFOVDogRUxFUEhBTlQsXG4gICAgU1FVQVJFUzogKGZ1bmN0aW9uKCkge1xuICAgICAgLyogZnJvbSB0aGUgRUNNQS0yNjIgc3BlYyAoc2VjdGlvbiAxMi42LjQpOlxuICAgICAgICogXCJUaGUgbWVjaGFuaWNzIG9mIGVudW1lcmF0aW5nIHRoZSBwcm9wZXJ0aWVzIC4uLiBpc1xuICAgICAgICogaW1wbGVtZW50YXRpb24gZGVwZW5kZW50XCJcbiAgICAgICAqIHNvOiBmb3IgKHZhciBzcSBpbiBTUVVBUkVTKSB7IGtleXMucHVzaChzcSk7IH0gbWlnaHQgbm90IGJlXG4gICAgICAgKiBvcmRlcmVkIGNvcnJlY3RseVxuICAgICAgICovXG4gICAgICB2YXIga2V5cyA9IFtdXG4gICAgICBmb3IgKHZhciBpID0gU1FVQVJFUy5hODsgaSA8PSBTUVVBUkVTLmgxOyBpKyspIHtcbiAgICAgICAgaWYgKGkgJiAweDg4KSB7XG4gICAgICAgICAgaSArPSA3XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgICBrZXlzLnB1c2goYWxnZWJyYWljKGkpKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGtleXNcbiAgICB9KSgpLFxuICAgIEZMQUdTOiBGTEFHUyxcblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgKiBQVUJMSUMgQVBJXG4gICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIGxvYWQ6IGZ1bmN0aW9uKGZlbikge1xuICAgICAgcmV0dXJuIGxvYWQoZmVuKVxuICAgIH0sXG5cbiAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcmVzZXQoKVxuICAgIH0sXG5cbiAgICBtb3ZlczogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgLyogVGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uIG9mIGEgY2hlc3MgbW92ZSBpcyBpbiAweDg4IGZvcm1hdCwgYW5kXG4gICAgICAgKiBub3QgbWVhbnQgdG8gYmUgaHVtYW4tcmVhZGFibGUuICBUaGUgY29kZSBiZWxvdyBjb252ZXJ0cyB0aGUgMHg4OFxuICAgICAgICogc3F1YXJlIGNvb3JkaW5hdGVzIHRvIGFsZ2VicmFpYyBjb29yZGluYXRlcy4gIEl0IGFsc28gcHJ1bmVzIGFuXG4gICAgICAgKiB1bm5lY2Vzc2FyeSBtb3ZlIGtleXMgcmVzdWx0aW5nIGZyb20gYSB2ZXJib3NlIGNhbGwuXG4gICAgICAgKi9cblxuICAgICAgdmFyIHVnbHlfbW92ZXMgPSBnZW5lcmF0ZV9tb3ZlcyhvcHRpb25zKVxuICAgICAgdmFyIG1vdmVzID0gW11cblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHVnbHlfbW92ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgLyogZG9lcyB0aGUgdXNlciB3YW50IGEgZnVsbCBtb3ZlIG9iamVjdCAobW9zdCBsaWtlbHkgbm90KSwgb3IganVzdFxuICAgICAgICAgKiBTQU5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChcbiAgICAgICAgICB0eXBlb2Ygb3B0aW9ucyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAndmVyYm9zZScgaW4gb3B0aW9ucyAmJlxuICAgICAgICAgIG9wdGlvbnMudmVyYm9zZVxuICAgICAgICApIHtcbiAgICAgICAgICBtb3Zlcy5wdXNoKG1ha2VfcHJldHR5KHVnbHlfbW92ZXNbaV0pKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vdmVzLnB1c2gobW92ZV90b19zYW4odWdseV9tb3Zlc1tpXSwgZmFsc2UpKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtb3Zlc1xuICAgIH0sXG5cbiAgICBpbl9jaGVjazogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaW5fY2hlY2soKVxuICAgIH0sXG5cbiAgICBpbl9jaGVja21hdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGluX2NoZWNrbWF0ZSgpXG4gICAgfSxcblxuICAgIGluX3N0YWxlbWF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaW5fc3RhbGVtYXRlKClcbiAgICB9LFxuXG4gICAgaW5fZHJhdzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBoYWxmX21vdmVzID49IDEwMCB8fFxuICAgICAgICBpbl9zdGFsZW1hdGUoKSB8fFxuICAgICAgICBpbnN1ZmZpY2llbnRfbWF0ZXJpYWwoKSB8fFxuICAgICAgICBpbl90aHJlZWZvbGRfcmVwZXRpdGlvbigpXG4gICAgICApXG4gICAgfSxcblxuICAgIGluc3VmZmljaWVudF9tYXRlcmlhbDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaW5zdWZmaWNpZW50X21hdGVyaWFsKClcbiAgICB9LFxuXG4gICAgaW5fdGhyZWVmb2xkX3JlcGV0aXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGluX3RocmVlZm9sZF9yZXBldGl0aW9uKClcbiAgICB9LFxuXG4gICAgZ2FtZV9vdmVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGhhbGZfbW92ZXMgPj0gMTAwIHx8XG4gICAgICAgIGluX2NoZWNrbWF0ZSgpIHx8XG4gICAgICAgIGluX3N0YWxlbWF0ZSgpIHx8XG4gICAgICAgIGluc3VmZmljaWVudF9tYXRlcmlhbCgpIHx8XG4gICAgICAgIGluX3RocmVlZm9sZF9yZXBldGl0aW9uKClcbiAgICAgIClcbiAgICB9LFxuXG4gICAgdmFsaWRhdGVfZmVuOiBmdW5jdGlvbihmZW4pIHtcbiAgICAgIHJldHVybiB2YWxpZGF0ZV9mZW4oZmVuKVxuICAgIH0sXG5cbiAgICBmZW46IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGdlbmVyYXRlX2ZlbigpXG4gICAgfSxcblxuICAgIGJvYXJkOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvdXRwdXQgPSBbXSxcbiAgICAgICAgcm93ID0gW11cblxuICAgICAgZm9yICh2YXIgaSA9IFNRVUFSRVMuYTg7IGkgPD0gU1FVQVJFUy5oMTsgaSsrKSB7XG4gICAgICAgIGlmIChib2FyZFtpXSA9PSBudWxsKSB7XG4gICAgICAgICAgcm93LnB1c2gobnVsbClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByb3cucHVzaCh7IHR5cGU6IGJvYXJkW2ldLnR5cGUsIGNvbG9yOiBib2FyZFtpXS5jb2xvciB9KVxuICAgICAgICB9XG4gICAgICAgIGlmICgoaSArIDEpICYgMHg4OCkge1xuICAgICAgICAgIG91dHB1dC5wdXNoKHJvdylcbiAgICAgICAgICByb3cgPSBbXVxuICAgICAgICAgIGkgKz0gOFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvdXRwdXRcbiAgICB9LFxuXG4gICAgcGduOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAvKiB1c2luZyB0aGUgc3BlY2lmaWNhdGlvbiBmcm9tIGh0dHA6Ly93d3cuY2hlc3NjbHViLmNvbS9oZWxwL1BHTi1zcGVjXG4gICAgICAgKiBleGFtcGxlIGZvciBodG1sIHVzYWdlOiAucGduKHsgbWF4X3dpZHRoOiA3MiwgbmV3bGluZV9jaGFyOiBcIjxiciAvPlwiIH0pXG4gICAgICAgKi9cbiAgICAgIHZhciBuZXdsaW5lID1cbiAgICAgICAgdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBvcHRpb25zLm5ld2xpbmVfY2hhciA9PT0gJ3N0cmluZydcbiAgICAgICAgICA/IG9wdGlvbnMubmV3bGluZV9jaGFyXG4gICAgICAgICAgOiAnXFxuJ1xuICAgICAgdmFyIG1heF93aWR0aCA9XG4gICAgICAgIHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0JyAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhfd2lkdGggPT09ICdudW1iZXInXG4gICAgICAgICAgPyBvcHRpb25zLm1heF93aWR0aFxuICAgICAgICAgIDogMFxuICAgICAgdmFyIHJlc3VsdCA9IFtdXG4gICAgICB2YXIgaGVhZGVyX2V4aXN0cyA9IGZhbHNlXG5cbiAgICAgIC8qIGFkZCB0aGUgUEdOIGhlYWRlciBoZWFkZXJybWF0aW9uICovXG4gICAgICBmb3IgKHZhciBpIGluIGhlYWRlcikge1xuICAgICAgICAvKiBUT0RPOiBvcmRlciBvZiBlbnVtZXJhdGVkIHByb3BlcnRpZXMgaW4gaGVhZGVyIG9iamVjdCBpcyBub3RcbiAgICAgICAgICogZ3VhcmFudGVlZCwgc2VlIEVDTUEtMjYyIHNwZWMgKHNlY3Rpb24gMTIuNi40KVxuICAgICAgICAgKi9cbiAgICAgICAgcmVzdWx0LnB1c2goJ1snICsgaSArICcgXCInICsgaGVhZGVyW2ldICsgJ1wiXScgKyBuZXdsaW5lKVxuICAgICAgICBoZWFkZXJfZXhpc3RzID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBpZiAoaGVhZGVyX2V4aXN0cyAmJiBoaXN0b3J5Lmxlbmd0aCkge1xuICAgICAgICByZXN1bHQucHVzaChuZXdsaW5lKVxuICAgICAgfVxuXG4gICAgICB2YXIgYXBwZW5kX2NvbW1lbnQgPSBmdW5jdGlvbihtb3ZlX3N0cmluZykge1xuICAgICAgICB2YXIgY29tbWVudCA9IGNvbW1lbnRzW2dlbmVyYXRlX2ZlbigpXVxuICAgICAgICBpZiAodHlwZW9mIGNvbW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdmFyIGRlbGltaXRlciA9IG1vdmVfc3RyaW5nLmxlbmd0aCA+IDAgPyAnICcgOiAnJztcbiAgICAgICAgICBtb3ZlX3N0cmluZyA9IGAke21vdmVfc3RyaW5nfSR7ZGVsaW1pdGVyfXske2NvbW1lbnR9fWBcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbW92ZV9zdHJpbmdcbiAgICAgIH1cblxuICAgICAgLyogcG9wIGFsbCBvZiBoaXN0b3J5IG9udG8gcmV2ZXJzZWRfaGlzdG9yeSAqL1xuICAgICAgdmFyIHJldmVyc2VkX2hpc3RvcnkgPSBbXVxuICAgICAgd2hpbGUgKGhpc3RvcnkubGVuZ3RoID4gMCkge1xuICAgICAgICByZXZlcnNlZF9oaXN0b3J5LnB1c2godW5kb19tb3ZlKCkpXG4gICAgICB9XG5cbiAgICAgIHZhciBtb3ZlcyA9IFtdXG4gICAgICB2YXIgbW92ZV9zdHJpbmcgPSAnJ1xuXG4gICAgICAvKiBzcGVjaWFsIGNhc2Ugb2YgYSBjb21tZW50ZWQgc3RhcnRpbmcgcG9zaXRpb24gd2l0aCBubyBtb3ZlcyAqL1xuICAgICAgaWYgKHJldmVyc2VkX2hpc3RvcnkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIG1vdmVzLnB1c2goYXBwZW5kX2NvbW1lbnQoJycpKVxuICAgICAgfVxuXG4gICAgICAvKiBidWlsZCB0aGUgbGlzdCBvZiBtb3Zlcy4gIGEgbW92ZV9zdHJpbmcgbG9va3MgbGlrZTogXCIzLiBlMyBlNlwiICovXG4gICAgICB3aGlsZSAocmV2ZXJzZWRfaGlzdG9yeS5sZW5ndGggPiAwKSB7XG4gICAgICAgIG1vdmVfc3RyaW5nID0gYXBwZW5kX2NvbW1lbnQobW92ZV9zdHJpbmcpXG4gICAgICAgIHZhciBtb3ZlID0gcmV2ZXJzZWRfaGlzdG9yeS5wb3AoKVxuXG4gICAgICAgIC8qIGlmIHRoZSBwb3NpdGlvbiBzdGFydGVkIHdpdGggYmxhY2sgdG8gbW92ZSwgc3RhcnQgUEdOIHdpdGggMS4gLi4uICovXG4gICAgICAgIGlmICghaGlzdG9yeS5sZW5ndGggJiYgbW92ZS5jb2xvciA9PT0gJ2InKSB7XG4gICAgICAgICAgbW92ZV9zdHJpbmcgPSBtb3ZlX251bWJlciArICcuIC4uLidcbiAgICAgICAgfSBlbHNlIGlmIChtb3ZlLmNvbG9yID09PSAndycpIHtcbiAgICAgICAgICAvKiBzdG9yZSB0aGUgcHJldmlvdXMgZ2VuZXJhdGVkIG1vdmVfc3RyaW5nIGlmIHdlIGhhdmUgb25lICovXG4gICAgICAgICAgaWYgKG1vdmVfc3RyaW5nLmxlbmd0aCkge1xuICAgICAgICAgICAgbW92ZXMucHVzaChtb3ZlX3N0cmluZylcbiAgICAgICAgICB9XG4gICAgICAgICAgbW92ZV9zdHJpbmcgPSBtb3ZlX251bWJlciArICcuJ1xuICAgICAgICB9XG5cbiAgICAgICAgbW92ZV9zdHJpbmcgPSBtb3ZlX3N0cmluZyArICcgJyArIG1vdmVfdG9fc2FuKG1vdmUsIGZhbHNlKVxuICAgICAgICBtYWtlX21vdmUobW92ZSlcbiAgICAgIH1cblxuICAgICAgLyogYXJlIHRoZXJlIGFueSBvdGhlciBsZWZ0b3ZlciBtb3Zlcz8gKi9cbiAgICAgIGlmIChtb3ZlX3N0cmluZy5sZW5ndGgpIHtcbiAgICAgICAgbW92ZXMucHVzaChhcHBlbmRfY29tbWVudChtb3ZlX3N0cmluZykpXG4gICAgICB9XG5cbiAgICAgIC8qIGlzIHRoZXJlIGEgcmVzdWx0PyAqL1xuICAgICAgaWYgKHR5cGVvZiBoZWFkZXIuUmVzdWx0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBtb3Zlcy5wdXNoKGhlYWRlci5SZXN1bHQpXG4gICAgICB9XG5cbiAgICAgIC8qIGhpc3Rvcnkgc2hvdWxkIGJlIGJhY2sgdG8gd2hhdCBpdCB3YXMgYmVmb3JlIHdlIHN0YXJ0ZWQgZ2VuZXJhdGluZyBQR04sXG4gICAgICAgKiBzbyBqb2luIHRvZ2V0aGVyIG1vdmVzXG4gICAgICAgKi9cbiAgICAgIGlmIChtYXhfd2lkdGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5qb2luKCcnKSArIG1vdmVzLmpvaW4oJyAnKVxuICAgICAgfVxuXG4gICAgICB2YXIgc3RyaXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwICYmIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0gPT09ICcgJykge1xuICAgICAgICAgIHJlc3VsdC5wb3AoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9O1xuXG4gICAgICAvKiBOQjogdGhpcyBkb2VzIG5vdCBwcmVzZXJ2ZSBjb21tZW50IHdoaXRlc3BhY2UuICovXG4gICAgICB2YXIgd3JhcF9jb21tZW50ID0gZnVuY3Rpb24od2lkdGgsIG1vdmUpIHtcbiAgICAgICAgZm9yICh2YXIgdG9rZW4gb2YgbW92ZS5zcGxpdCgnICcpKSB7XG4gICAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh3aWR0aCArIHRva2VuLmxlbmd0aCA+IG1heF93aWR0aCkge1xuICAgICAgICAgICAgd2hpbGUgKHN0cmlwKCkpIHtcbiAgICAgICAgICAgICAgd2lkdGgtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ld2xpbmUpO1xuICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh0b2tlbik7XG4gICAgICAgICAgd2lkdGggKz0gdG9rZW4ubGVuZ3RoO1xuICAgICAgICAgIHJlc3VsdC5wdXNoKCcgJyk7XG4gICAgICAgICAgd2lkdGgrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyaXAoKSkge1xuICAgICAgICAgIHdpZHRoLS07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpZHRoO1xuICAgICAgfTtcblxuICAgICAgLyogd3JhcCB0aGUgUEdOIG91dHB1dCBhdCBtYXhfd2lkdGggKi9cbiAgICAgIHZhciBjdXJyZW50X3dpZHRoID0gMFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtb3Zlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoY3VycmVudF93aWR0aCArIG1vdmVzW2ldLmxlbmd0aCA+IG1heF93aWR0aCkge1xuICAgICAgICAgIGlmIChtb3Zlc1tpXS5pbmNsdWRlcygneycpKSB7XG4gICAgICAgICAgICBjdXJyZW50X3dpZHRoID0gd3JhcF9jb21tZW50KGN1cnJlbnRfd2lkdGgsIG1vdmVzW2ldKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiBpZiB0aGUgY3VycmVudCBtb3ZlIHdpbGwgcHVzaCBwYXN0IG1heF93aWR0aCAqL1xuICAgICAgICBpZiAoY3VycmVudF93aWR0aCArIG1vdmVzW2ldLmxlbmd0aCA+IG1heF93aWR0aCAmJiBpICE9PSAwKSB7XG4gICAgICAgICAgLyogZG9uJ3QgZW5kIHRoZSBsaW5lIHdpdGggd2hpdGVzcGFjZSAqL1xuICAgICAgICAgIGlmIChyZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdID09PSAnICcpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wb3AoKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlc3VsdC5wdXNoKG5ld2xpbmUpXG4gICAgICAgICAgY3VycmVudF93aWR0aCA9IDBcbiAgICAgICAgfSBlbHNlIGlmIChpICE9PSAwKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goJyAnKVxuICAgICAgICAgIGN1cnJlbnRfd2lkdGgrK1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5wdXNoKG1vdmVzW2ldKVxuICAgICAgICBjdXJyZW50X3dpZHRoICs9IG1vdmVzW2ldLmxlbmd0aFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpXG4gICAgfSxcblxuICAgIGxvYWRfcGduOiBmdW5jdGlvbihwZ24sIG9wdGlvbnMpIHtcbiAgICAgIC8vIGFsbG93IHRoZSB1c2VyIHRvIHNwZWNpZnkgdGhlIHNsb3BweSBtb3ZlIHBhcnNlciB0byB3b3JrIGFyb3VuZCBvdmVyXG4gICAgICAvLyBkaXNhbWJpZ3VhdGlvbiBidWdzIGluIEZyaXR6IGFuZCBDaGVzc2Jhc2VcbiAgICAgIHZhciBzbG9wcHkgPVxuICAgICAgICB0eXBlb2Ygb3B0aW9ucyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ3Nsb3BweScgaW4gb3B0aW9uc1xuICAgICAgICAgID8gb3B0aW9ucy5zbG9wcHlcbiAgICAgICAgICA6IGZhbHNlXG5cbiAgICAgIGZ1bmN0aW9uIG1hc2soc3RyKSB7XG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvXFxcXC9nLCAnXFxcXCcpXG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGhhc19rZXlzKG9iamVjdCkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcGFyc2VfcGduX2hlYWRlcihoZWFkZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG5ld2xpbmVfY2hhciA9XG4gICAgICAgICAgdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgdHlwZW9mIG9wdGlvbnMubmV3bGluZV9jaGFyID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgPyBvcHRpb25zLm5ld2xpbmVfY2hhclxuICAgICAgICAgICAgOiAnXFxyP1xcbidcbiAgICAgICAgdmFyIGhlYWRlcl9vYmogPSB7fVxuICAgICAgICB2YXIgaGVhZGVycyA9IGhlYWRlci5zcGxpdChuZXcgUmVnRXhwKG1hc2sobmV3bGluZV9jaGFyKSkpXG4gICAgICAgIHZhciBrZXkgPSAnJ1xuICAgICAgICB2YXIgdmFsdWUgPSAnJ1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGVhZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGtleSA9IGhlYWRlcnNbaV0ucmVwbGFjZSgvXlxcWyhbQS1aXVtBLVphLXpdKilcXHMuKlxcXSQvLCAnJDEnKVxuICAgICAgICAgIHZhbHVlID0gaGVhZGVyc1tpXS5yZXBsYWNlKC9eXFxbW0EtWmEtel0rXFxzXCIoLiopXCJcXCAqXFxdJC8sICckMScpXG4gICAgICAgICAgaWYgKHRyaW0oa2V5KS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBoZWFkZXJfb2JqW2tleV0gPSB2YWx1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBoZWFkZXJfb2JqXG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdsaW5lX2NoYXIgPVxuICAgICAgICB0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG9wdGlvbnMubmV3bGluZV9jaGFyID09PSAnc3RyaW5nJ1xuICAgICAgICAgID8gb3B0aW9ucy5uZXdsaW5lX2NoYXJcbiAgICAgICAgICA6ICdcXHI/XFxuJ1xuXG4gICAgICAvLyBSZWdFeHAgdG8gc3BsaXQgaGVhZGVyLiBUYWtlcyBhZHZhbnRhZ2Ugb2YgdGhlIGZhY3QgdGhhdCBoZWFkZXIgYW5kIG1vdmV0ZXh0XG4gICAgICAvLyB3aWxsIGFsd2F5cyBoYXZlIGEgYmxhbmsgbGluZSBiZXR3ZWVuIHRoZW0gKGllLCB0d28gbmV3bGluZV9jaGFyJ3MpLlxuICAgICAgLy8gV2l0aCBkZWZhdWx0IG5ld2xpbmVfY2hhciwgd2lsbCBlcXVhbDogL14oXFxbKCg/Olxccj9cXG4pfC4pKlxcXSkoPzpcXHI/XFxuKXsyfS9cbiAgICAgIHZhciBoZWFkZXJfcmVnZXggPSBuZXcgUmVnRXhwKFxuICAgICAgICAnXihcXFxcWygoPzonICtcbiAgICAgICAgICBtYXNrKG5ld2xpbmVfY2hhcikgK1xuICAgICAgICAgICcpfC4pKlxcXFxdKScgK1xuICAgICAgICAgICcoPzonICtcbiAgICAgICAgICBtYXNrKG5ld2xpbmVfY2hhcikgK1xuICAgICAgICAgICcpezJ9J1xuICAgICAgKVxuXG4gICAgICAvLyBJZiBubyBoZWFkZXIgZ2l2ZW4sIGJlZ2luIHdpdGggbW92ZXMuXG4gICAgICB2YXIgaGVhZGVyX3N0cmluZyA9IGhlYWRlcl9yZWdleC50ZXN0KHBnbilcbiAgICAgICAgPyBoZWFkZXJfcmVnZXguZXhlYyhwZ24pWzFdXG4gICAgICAgIDogJydcblxuICAgICAgLy8gUHV0IHRoZSBib2FyZCBpbiB0aGUgc3RhcnRpbmcgcG9zaXRpb25cbiAgICAgIHJlc2V0KClcblxuICAgICAgLyogcGFyc2UgUEdOIGhlYWRlciAqL1xuICAgICAgdmFyIGhlYWRlcnMgPSBwYXJzZV9wZ25faGVhZGVyKGhlYWRlcl9zdHJpbmcsIG9wdGlvbnMpXG4gICAgICBmb3IgKHZhciBrZXkgaW4gaGVhZGVycykge1xuICAgICAgICBzZXRfaGVhZGVyKFtrZXksIGhlYWRlcnNba2V5XV0pXG4gICAgICB9XG5cbiAgICAgIC8qIGxvYWQgdGhlIHN0YXJ0aW5nIHBvc2l0aW9uIGluZGljYXRlZCBieSBbU2V0dXAgJzEnXSBhbmRcbiAgICAgICAqIFtGRU4gcG9zaXRpb25dICovXG4gICAgICBpZiAoaGVhZGVyc1snU2V0VXAnXSA9PT0gJzEnKSB7XG4gICAgICAgIGlmICghKCdGRU4nIGluIGhlYWRlcnMgJiYgbG9hZChoZWFkZXJzWydGRU4nXSwgdHJ1ZSkpKSB7XG4gICAgICAgICAgLy8gc2Vjb25kIGFyZ3VtZW50IHRvIGxvYWQ6IGRvbid0IGNsZWFyIHRoZSBoZWFkZXJzXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyogTkI6IHRoZSByZWdleGVzIGJlbG93IHRoYXQgZGVsZXRlIG1vdmUgbnVtYmVycywgcmVjdXJzaXZlXG4gICAgICAgKiBhbm5vdGF0aW9ucywgYW5kIG51bWVyaWMgYW5ub3RhdGlvbiBnbHlwaHMgbWF5IGFsc28gbWF0Y2hcbiAgICAgICAqIHRleHQgaW4gY29tbWVudHMuIFRvIHByZXZlbnQgdGhpcywgd2UgdHJhbnNmb3JtIGNvbW1lbnRzXG4gICAgICAgKiBieSBoZXgtZW5jb2RpbmcgdGhlbSBpbiBwbGFjZSBhbmQgZGVjb2RpbmcgdGhlbSBhZ2FpbiBhZnRlclxuICAgICAgICogdGhlIG90aGVyIHRva2VucyBoYXZlIGJlZW4gZGVsZXRlZC5cbiAgICAgICAqXG4gICAgICAgKiBXaGlsZSB0aGUgc3BlYyBzdGF0ZXMgdGhhdCBQR04gZmlsZXMgc2hvdWxkIGJlIEFTQ0lJIGVuY29kZWQsXG4gICAgICAgKiB3ZSB1c2Uge2VuLGRlfWNvZGVVUklDb21wb25lbnQgaGVyZSB0byBzdXBwb3J0IGFyYml0cmFyeSBVVEY4XG4gICAgICAgKiBhcyBhIGNvbnZlbmllbmNlIGZvciBtb2Rlcm4gdXNlcnMgKi9cblxuICAgICAgdmFyIHRvX2hleCA9IGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICByZXR1cm4gQXJyYXlcbiAgICAgICAgICAuZnJvbShzdHJpbmcpXG4gICAgICAgICAgLm1hcChmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICAvKiBlbmNvZGVVUkkgZG9lc24ndCB0cmFuc2Zvcm0gbW9zdCBBU0NJSSBjaGFyYWN0ZXJzLFxuICAgICAgICAgICAgICogc28gd2UgaGFuZGxlIHRoZXNlIG91cnNlbHZlcyAqL1xuICAgICAgICAgICAgcmV0dXJuIGMuY2hhckNvZGVBdCgwKSA8IDEyOFxuICAgICAgICAgICAgICA/IGMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNilcbiAgICAgICAgICAgICAgOiBlbmNvZGVVUklDb21wb25lbnQoYykucmVwbGFjZSgvXFwlL2csICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuam9pbignJylcbiAgICAgIH1cblxuICAgICAgdmFyIGZyb21faGV4ID0gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcubGVuZ3RoID09IDBcbiAgICAgICAgICA/ICcnXG4gICAgICAgICAgOiBkZWNvZGVVUklDb21wb25lbnQoJyUnICsgc3RyaW5nLm1hdGNoKC8uezEsMn0vZykuam9pbignJScpKVxuICAgICAgfVxuXG4gICAgICB2YXIgZW5jb2RlX2NvbW1lbnQgPSBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UobmV3IFJlZ0V4cChtYXNrKG5ld2xpbmVfY2hhciksICdnJyksICcgJylcbiAgICAgICAgcmV0dXJuIGB7JHt0b19oZXgoc3RyaW5nLnNsaWNlKDEsIHN0cmluZy5sZW5ndGggLSAxKSl9fWBcbiAgICAgIH1cblxuICAgICAgdmFyIGRlY29kZV9jb21tZW50ID0gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIGlmIChzdHJpbmcuc3RhcnRzV2l0aCgneycpICYmIHN0cmluZy5lbmRzV2l0aCgnfScpKSB7XG4gICAgICAgICAgcmV0dXJuIGZyb21faGV4KHN0cmluZy5zbGljZSgxLCBzdHJpbmcubGVuZ3RoIC0gMSkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyogZGVsZXRlIGhlYWRlciB0byBnZXQgdGhlIG1vdmVzICovXG4gICAgICB2YXIgbXMgPSBwZ25cbiAgICAgICAgLnJlcGxhY2UoaGVhZGVyX3N0cmluZywgJycpXG4gICAgICAgIC5yZXBsYWNlKFxuICAgICAgICAgIC8qIGVuY29kZSBjb21tZW50cyBzbyB0aGV5IGRvbid0IGdldCBkZWxldGVkIGJlbG93ICovXG4gICAgICAgICAgbmV3IFJlZ0V4cChgKFxce1tefV0qXFx9KSs/fDsoW14ke21hc2sobmV3bGluZV9jaGFyKX1dKilgLCAnZycpLFxuICAgICAgICAgIGZ1bmN0aW9uKG1hdGNoLCBicmFja2V0LCBzZW1pY29sb24pIHtcbiAgICAgICAgICAgIHJldHVybiBicmFja2V0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyBlbmNvZGVfY29tbWVudChicmFja2V0KVxuICAgICAgICAgICAgICA6ICcgJyArIGVuY29kZV9jb21tZW50KGB7JHtzZW1pY29sb24uc2xpY2UoMSl9fWApXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIC5yZXBsYWNlKG5ldyBSZWdFeHAobWFzayhuZXdsaW5lX2NoYXIpLCAnZycpLCAnICcpXG5cbiAgICAgIC8qIGRlbGV0ZSByZWN1cnNpdmUgYW5ub3RhdGlvbiB2YXJpYXRpb25zICovXG4gICAgICB2YXIgcmF2X3JlZ2V4ID0gLyhcXChbXlxcKFxcKV0rXFwpKSs/L2dcbiAgICAgIHdoaWxlIChyYXZfcmVnZXgudGVzdChtcykpIHtcbiAgICAgICAgbXMgPSBtcy5yZXBsYWNlKHJhdl9yZWdleCwgJycpXG4gICAgICB9XG5cbiAgICAgIC8qIGRlbGV0ZSBtb3ZlIG51bWJlcnMgKi9cbiAgICAgIG1zID0gbXMucmVwbGFjZSgvXFxkK1xcLihcXC5cXC4pPy9nLCAnJylcblxuICAgICAgLyogZGVsZXRlIC4uLiBpbmRpY2F0aW5nIGJsYWNrIHRvIG1vdmUgKi9cbiAgICAgIG1zID0gbXMucmVwbGFjZSgvXFwuXFwuXFwuL2csICcnKVxuXG4gICAgICAvKiBkZWxldGUgbnVtZXJpYyBhbm5vdGF0aW9uIGdseXBocyAqL1xuICAgICAgbXMgPSBtcy5yZXBsYWNlKC9cXCRcXGQrL2csICcnKVxuXG4gICAgICAvKiB0cmltIGFuZCBnZXQgYXJyYXkgb2YgbW92ZXMgKi9cbiAgICAgIHZhciBtb3ZlcyA9IHRyaW0obXMpLnNwbGl0KG5ldyBSZWdFeHAoL1xccysvKSlcblxuICAgICAgLyogZGVsZXRlIGVtcHR5IGVudHJpZXMgKi9cbiAgICAgIG1vdmVzID0gbW92ZXNcbiAgICAgICAgLmpvaW4oJywnKVxuICAgICAgICAucmVwbGFjZSgvLCwrL2csICcsJylcbiAgICAgICAgLnNwbGl0KCcsJylcbiAgICAgIHZhciBtb3ZlID0gJydcblxuICAgICAgZm9yICh2YXIgaGFsZl9tb3ZlID0gMDsgaGFsZl9tb3ZlIDwgbW92ZXMubGVuZ3RoIC0gMTsgaGFsZl9tb3ZlKyspIHtcbiAgICAgICAgdmFyIGNvbW1lbnQgPSBkZWNvZGVfY29tbWVudChtb3Zlc1toYWxmX21vdmVdKVxuICAgICAgICBpZiAoY29tbWVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY29tbWVudHNbZ2VuZXJhdGVfZmVuKCldID0gY29tbWVudFxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgICAgbW92ZSA9IG1vdmVfZnJvbV9zYW4obW92ZXNbaGFsZl9tb3ZlXSwgc2xvcHB5KVxuXG4gICAgICAgIC8qIG1vdmUgbm90IHBvc3NpYmxlISAoZG9uJ3QgY2xlYXIgdGhlIGJvYXJkIHRvIGV4YW1pbmUgdG8gc2hvdyB0aGVcbiAgICAgICAgICogbGF0ZXN0IHZhbGlkIHBvc2l0aW9uKVxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKG1vdmUgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1ha2VfbW92ZShtb3ZlKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbW1lbnQgPSBkZWNvZGVfY29tbWVudChtb3Zlc1ttb3Zlcy5sZW5ndGggLSAxXSlcbiAgICAgIGlmIChjb21tZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29tbWVudHNbZ2VuZXJhdGVfZmVuKCldID0gY29tbWVudFxuICAgICAgICBtb3Zlcy5wb3AoKVxuICAgICAgfVxuXG4gICAgICAvKiBleGFtaW5lIGxhc3QgbW92ZSAqL1xuICAgICAgbW92ZSA9IG1vdmVzW21vdmVzLmxlbmd0aCAtIDFdXG4gICAgICBpZiAoUE9TU0lCTEVfUkVTVUxUUy5pbmRleE9mKG1vdmUpID4gLTEpIHtcbiAgICAgICAgaWYgKGhhc19rZXlzKGhlYWRlcikgJiYgdHlwZW9mIGhlYWRlci5SZXN1bHQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc2V0X2hlYWRlcihbJ1Jlc3VsdCcsIG1vdmVdKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtb3ZlID0gbW92ZV9mcm9tX3Nhbihtb3ZlLCBzbG9wcHkpXG4gICAgICAgIGlmIChtb3ZlID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYWtlX21vdmUobW92ZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgaGVhZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBzZXRfaGVhZGVyKGFyZ3VtZW50cylcbiAgICB9LFxuXG4gICAgYXNjaWk6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGFzY2lpKClcbiAgICB9LFxuXG4gICAgdHVybjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdHVyblxuICAgIH0sXG5cbiAgICBtb3ZlOiBmdW5jdGlvbihtb3ZlLCBvcHRpb25zKSB7XG4gICAgICAvKiBUaGUgbW92ZSBmdW5jdGlvbiBjYW4gYmUgY2FsbGVkIHdpdGggaW4gdGhlIGZvbGxvd2luZyBwYXJhbWV0ZXJzOlxuICAgICAgICpcbiAgICAgICAqIC5tb3ZlKCdOeGI3JykgICAgICA8LSB3aGVyZSAnbW92ZScgaXMgYSBjYXNlLXNlbnNpdGl2ZSBTQU4gc3RyaW5nXG4gICAgICAgKlxuICAgICAgICogLm1vdmUoeyBmcm9tOiAnaDcnLCA8LSB3aGVyZSB0aGUgJ21vdmUnIGlzIGEgbW92ZSBvYmplY3QgKGFkZGl0aW9uYWxcbiAgICAgICAqICAgICAgICAgdG8gOidoOCcsICAgICAgZmllbGRzIGFyZSBpZ25vcmVkKVxuICAgICAgICogICAgICAgICBwcm9tb3Rpb246ICdxJyxcbiAgICAgICAqICAgICAgfSlcbiAgICAgICAqL1xuXG4gICAgICAvLyBhbGxvdyB0aGUgdXNlciB0byBzcGVjaWZ5IHRoZSBzbG9wcHkgbW92ZSBwYXJzZXIgdG8gd29yayBhcm91bmQgb3ZlclxuICAgICAgLy8gZGlzYW1iaWd1YXRpb24gYnVncyBpbiBGcml0eiBhbmQgQ2hlc3NiYXNlXG4gICAgICB2YXIgc2xvcHB5ID1cbiAgICAgICAgdHlwZW9mIG9wdGlvbnMgIT09ICd1bmRlZmluZWQnICYmICdzbG9wcHknIGluIG9wdGlvbnNcbiAgICAgICAgICA/IG9wdGlvbnMuc2xvcHB5XG4gICAgICAgICAgOiBmYWxzZVxuXG4gICAgICB2YXIgbW92ZV9vYmogPSBudWxsXG5cbiAgICAgIGlmICh0eXBlb2YgbW92ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgbW92ZV9vYmogPSBtb3ZlX2Zyb21fc2FuKG1vdmUsIHNsb3BweSlcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vdmUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHZhciBtb3ZlcyA9IGdlbmVyYXRlX21vdmVzKClcblxuICAgICAgICAvKiBjb252ZXJ0IHRoZSBwcmV0dHkgbW92ZSBvYmplY3QgdG8gYW4gdWdseSBtb3ZlIG9iamVjdCAqL1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbW92ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBtb3ZlLmZyb20gPT09IGFsZ2VicmFpYyhtb3Zlc1tpXS5mcm9tKSAmJlxuICAgICAgICAgICAgbW92ZS50byA9PT0gYWxnZWJyYWljKG1vdmVzW2ldLnRvKSAmJlxuICAgICAgICAgICAgKCEoJ3Byb21vdGlvbicgaW4gbW92ZXNbaV0pIHx8XG4gICAgICAgICAgICAgIG1vdmUucHJvbW90aW9uID09PSBtb3Zlc1tpXS5wcm9tb3Rpb24pXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBtb3ZlX29iaiA9IG1vdmVzW2ldXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKiBmYWlsZWQgdG8gZmluZCBtb3ZlICovXG4gICAgICBpZiAoIW1vdmVfb2JqKSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG5cbiAgICAgIC8qIG5lZWQgdG8gbWFrZSBhIGNvcHkgb2YgbW92ZSBiZWNhdXNlIHdlIGNhbid0IGdlbmVyYXRlIFNBTiBhZnRlciB0aGVcbiAgICAgICAqIG1vdmUgaXMgbWFkZVxuICAgICAgICovXG4gICAgICB2YXIgcHJldHR5X21vdmUgPSBtYWtlX3ByZXR0eShtb3ZlX29iailcblxuICAgICAgbWFrZV9tb3ZlKG1vdmVfb2JqKVxuXG4gICAgICByZXR1cm4gcHJldHR5X21vdmVcbiAgICB9LFxuXG4gICAgdW5kbzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbW92ZSA9IHVuZG9fbW92ZSgpXG4gICAgICByZXR1cm4gbW92ZSA/IG1ha2VfcHJldHR5KG1vdmUpIDogbnVsbFxuICAgIH0sXG5cbiAgICBjbGVhcjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gY2xlYXIoKVxuICAgIH0sXG5cbiAgICBwdXQ6IGZ1bmN0aW9uKHBpZWNlLCBzcXVhcmUpIHtcbiAgICAgIHJldHVybiBwdXQocGllY2UsIHNxdWFyZSlcbiAgICB9LFxuXG4gICAgZ2V0OiBmdW5jdGlvbihzcXVhcmUpIHtcbiAgICAgIHJldHVybiBnZXQoc3F1YXJlKVxuICAgIH0sXG5cbiAgICByZW1vdmU6IGZ1bmN0aW9uKHNxdWFyZSkge1xuICAgICAgcmV0dXJuIHJlbW92ZShzcXVhcmUpXG4gICAgfSxcblxuICAgIHBlcmZ0OiBmdW5jdGlvbihkZXB0aCkge1xuICAgICAgcmV0dXJuIHBlcmZ0KGRlcHRoKVxuICAgIH0sXG5cbiAgICBzcXVhcmVfY29sb3I6IGZ1bmN0aW9uKHNxdWFyZSkge1xuICAgICAgaWYgKHNxdWFyZSBpbiBTUVVBUkVTKSB7XG4gICAgICAgIHZhciBzcV8weDg4ID0gU1FVQVJFU1tzcXVhcmVdXG4gICAgICAgIHJldHVybiAocmFuayhzcV8weDg4KSArIGZpbGUoc3FfMHg4OCkpICUgMiA9PT0gMCA/ICdsaWdodCcgOiAnZGFyaydcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9LFxuXG4gICAgaGlzdG9yeTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIHJldmVyc2VkX2hpc3RvcnkgPSBbXVxuICAgICAgdmFyIG1vdmVfaGlzdG9yeSA9IFtdXG4gICAgICB2YXIgdmVyYm9zZSA9XG4gICAgICAgIHR5cGVvZiBvcHRpb25zICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAndmVyYm9zZScgaW4gb3B0aW9ucyAmJlxuICAgICAgICBvcHRpb25zLnZlcmJvc2VcblxuICAgICAgd2hpbGUgKGhpc3RvcnkubGVuZ3RoID4gMCkge1xuICAgICAgICByZXZlcnNlZF9oaXN0b3J5LnB1c2godW5kb19tb3ZlKCkpXG4gICAgICB9XG5cbiAgICAgIHdoaWxlIChyZXZlcnNlZF9oaXN0b3J5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIG1vdmUgPSByZXZlcnNlZF9oaXN0b3J5LnBvcCgpXG4gICAgICAgIGlmICh2ZXJib3NlKSB7XG4gICAgICAgICAgbW92ZV9oaXN0b3J5LnB1c2gobWFrZV9wcmV0dHkobW92ZSkpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW92ZV9oaXN0b3J5LnB1c2gobW92ZV90b19zYW4obW92ZSkpXG4gICAgICAgIH1cbiAgICAgICAgbWFrZV9tb3ZlKG1vdmUpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtb3ZlX2hpc3RvcnlcbiAgICB9LFxuXG4gICAgZ2V0X2NvbW1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGNvbW1lbnRzW2dlbmVyYXRlX2ZlbigpXTtcbiAgICB9LFxuXG4gICAgc2V0X2NvbW1lbnQ6IGZ1bmN0aW9uKGNvbW1lbnQpIHtcbiAgICAgIGNvbW1lbnRzW2dlbmVyYXRlX2ZlbigpXSA9IGNvbW1lbnQucmVwbGFjZSgneycsICdbJykucmVwbGFjZSgnfScsICddJyk7XG4gICAgfSxcblxuICAgIGRlbGV0ZV9jb21tZW50OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjb21tZW50ID0gY29tbWVudHNbZ2VuZXJhdGVfZmVuKCldO1xuICAgICAgZGVsZXRlIGNvbW1lbnRzW2dlbmVyYXRlX2ZlbigpXTtcbiAgICAgIHJldHVybiBjb21tZW50O1xuICAgIH0sXG5cbiAgICBnZXRfY29tbWVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgcHJ1bmVfY29tbWVudHMoKTtcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhjb21tZW50cykubWFwKGZ1bmN0aW9uKGZlbikge1xuICAgICAgICByZXR1cm4ge2ZlbjogZmVuLCBjb21tZW50OiBjb21tZW50c1tmZW5dfTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBkZWxldGVfY29tbWVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgcHJ1bmVfY29tbWVudHMoKTtcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhjb21tZW50cylcbiAgICAgICAgLm1hcChmdW5jdGlvbihmZW4pIHtcbiAgICAgICAgICB2YXIgY29tbWVudCA9IGNvbW1lbnRzW2Zlbl07XG4gICAgICAgICAgZGVsZXRlIGNvbW1lbnRzW2Zlbl07XG4gICAgICAgICAgcmV0dXJuIHtmZW46IGZlbiwgY29tbWVudDogY29tbWVudH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG4vKiBleHBvcnQgQ2hlc3Mgb2JqZWN0IGlmIHVzaW5nIG5vZGUgb3IgYW55IG90aGVyIENvbW1vbkpTIGNvbXBhdGlibGVcbiAqIGVudmlyb25tZW50ICovXG5pZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSBleHBvcnRzLkVjaGVzcyA9IEVjaGVzc1xuLyogZXhwb3J0IEVjaGVzcyBvYmplY3QgZm9yIGFueSBSZXF1aXJlSlMgY29tcGF0aWJsZSBlbnZpcm9ubWVudCAqL1xuaWYgKHR5cGVvZiBkZWZpbmUgIT09ICd1bmRlZmluZWQnKVxuICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEVjaGVzc1xuICB9KVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9AamxpbmNvbG4vZWNoZXNzLmpzL2VjaGVzcy5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///11\n");

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.start = void 0;\nvar board = __webpack_require__(1);\nvar fen_1 = __webpack_require__(3);\nvar config_1 = __webpack_require__(6);\nvar anim_1 = __webpack_require__(5);\nvar drag_1 = __webpack_require__(2);\nvar explosion_1 = __webpack_require__(16);\nfunction start(state, redrawAll) {\n    function toggleOrientation() {\n        board.toggleOrientation(state);\n        redrawAll();\n    }\n    return {\n        set: function set(config) {\n            if (config.orientation && config.orientation !== state.orientation) toggleOrientation();\n            (config.fen ? anim_1.anim : anim_1.render)(function (state) {\n                return config_1.configure(state, config);\n            }, state);\n        },\n\n        state: state,\n        getFen: function getFen() {\n            return fen_1.write(state.pieces);\n        },\n        toggleOrientation: toggleOrientation,\n        setPieces: function setPieces(pieces) {\n            anim_1.anim(function (state) {\n                return board.setPieces(state, pieces);\n            }, state);\n        },\n        selectSquare: function selectSquare(key, force) {\n            if (key) anim_1.anim(function (state) {\n                return board.selectSquare(state, key, force);\n            }, state);else if (state.selected) {\n                board.unselect(state);\n                state.dom.redraw();\n            }\n        },\n        move: function move(orig, dest) {\n            anim_1.anim(function (state) {\n                return board.baseMove(state, orig, dest);\n            }, state);\n        },\n        newPiece: function newPiece(piece, key) {\n            anim_1.anim(function (state) {\n                return board.baseNewPiece(state, piece, key);\n            }, state);\n        },\n        playPremove: function playPremove() {\n            if (state.premovable.current) {\n                if (anim_1.anim(board.playPremove, state)) return true;\n                state.dom.redraw();\n            }\n            return false;\n        },\n        playPredrop: function playPredrop(validate) {\n            if (state.predroppable.current) {\n                var result = board.playPredrop(state, validate);\n                state.dom.redraw();\n                return result;\n            }\n            return false;\n        },\n        cancelPremove: function cancelPremove() {\n            anim_1.render(board.unsetPremove, state);\n        },\n        cancelPredrop: function cancelPredrop() {\n            anim_1.render(board.unsetPredrop, state);\n        },\n        cancelMove: function cancelMove() {\n            anim_1.render(function (state) {\n                board.cancelMove(state);drag_1.cancel(state);\n            }, state);\n        },\n        stop: function stop() {\n            anim_1.render(function (state) {\n                board.stop(state);drag_1.cancel(state);\n            }, state);\n        },\n        explode: function explode(keys) {\n            explosion_1.explosion(state, keys);\n        },\n        setAutoShapes: function setAutoShapes(shapes) {\n            anim_1.render(function (state) {\n                return state.drawable.autoShapes = shapes;\n            }, state);\n        },\n        setShapes: function setShapes(shapes) {\n            anim_1.render(function (state) {\n                return state.drawable.shapes = shapes;\n            }, state);\n        },\n        getKeyAtDomPos: function getKeyAtDomPos(pos) {\n            return board.getKeyAtDomPos(pos, board.whitePov(state), state.dom.bounds());\n        },\n\n        redrawAll: redrawAll,\n        dragNewPiece: function dragNewPiece(piece, event, force) {\n            drag_1.dragNewPiece(state, piece, event, force);\n        },\n        destroy: function destroy() {\n            board.stop(state);\n            state.dom.unbind && state.dom.unbind();\n            state.dom.destroyed = true;\n        }\n    };\n}\nexports.start = start;\n//# sourceMappingURL=api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VjaGVzc2dyb3VuZC9hcGkuanM/NGFiOSJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInN0YXJ0IiwiYm9hcmQiLCJyZXF1aXJlIiwiZmVuXzEiLCJjb25maWdfMSIsImFuaW1fMSIsImRyYWdfMSIsImV4cGxvc2lvbl8xIiwic3RhdGUiLCJyZWRyYXdBbGwiLCJ0b2dnbGVPcmllbnRhdGlvbiIsInNldCIsImNvbmZpZyIsIm9yaWVudGF0aW9uIiwiZmVuIiwiYW5pbSIsInJlbmRlciIsImNvbmZpZ3VyZSIsImdldEZlbiIsIndyaXRlIiwicGllY2VzIiwic2V0UGllY2VzIiwic2VsZWN0U3F1YXJlIiwia2V5IiwiZm9yY2UiLCJzZWxlY3RlZCIsInVuc2VsZWN0IiwiZG9tIiwicmVkcmF3IiwibW92ZSIsIm9yaWciLCJkZXN0IiwiYmFzZU1vdmUiLCJuZXdQaWVjZSIsInBpZWNlIiwiYmFzZU5ld1BpZWNlIiwicGxheVByZW1vdmUiLCJwcmVtb3ZhYmxlIiwiY3VycmVudCIsInBsYXlQcmVkcm9wIiwidmFsaWRhdGUiLCJwcmVkcm9wcGFibGUiLCJyZXN1bHQiLCJjYW5jZWxQcmVtb3ZlIiwidW5zZXRQcmVtb3ZlIiwiY2FuY2VsUHJlZHJvcCIsInVuc2V0UHJlZHJvcCIsImNhbmNlbE1vdmUiLCJjYW5jZWwiLCJzdG9wIiwiZXhwbG9kZSIsImtleXMiLCJleHBsb3Npb24iLCJzZXRBdXRvU2hhcGVzIiwic2hhcGVzIiwiZHJhd2FibGUiLCJhdXRvU2hhcGVzIiwic2V0U2hhcGVzIiwiZ2V0S2V5QXREb21Qb3MiLCJwb3MiLCJ3aGl0ZVBvdiIsImJvdW5kcyIsImRyYWdOZXdQaWVjZSIsImV2ZW50IiwiZGVzdHJveSIsInVuYmluZCIsImRlc3Ryb3llZCJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZD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QUFDZGpELG1CQUFPVyxNQUFQLENBQWM7QUFBQSx1QkFBU1IsTUFBTStDLFFBQU4sQ0FBZUQsTUFBZixHQUF3QkEsTUFBakM7QUFBQSxhQUFkLEVBQXVEOUMsS0FBdkQ7QUFDSCxTQTlERTtBQStESGtELHNCQS9ERywwQkErRFlDLEdBL0RaLEVBK0RpQjtBQUNoQixtQkFBTzFELE1BQU15RCxjQUFOLENBQXFCQyxHQUFyQixFQUEwQjFELE1BQU0yRCxRQUFOLENBQWVwRCxLQUFmLENBQTFCLEVBQWlEQSxNQUFNbUIsR0FBTixDQUFVa0MsTUFBVixFQUFqRCxDQUFQO0FBQ0gsU0FqRUU7O0FBa0VIcEQsNEJBbEVHO0FBbUVIcUQsb0JBbkVHLHdCQW1FVTVCLEtBbkVWLEVBbUVpQjZCLEtBbkVqQixFQW1Fd0J2QyxLQW5FeEIsRUFtRStCO0FBQzlCbEIsbUJBQU93RCxZQUFQLENBQW9CdEQsS0FBcEIsRUFBMkIwQixLQUEzQixFQUFrQzZCLEtBQWxDLEVBQXlDdkMsS0FBekM7QUFDSCxTQXJFRTtBQXNFSHdDLGVBdEVHLHFCQXNFTztBQUNOL0Qsa0JBQU1nRCxJQUFOLENBQVd6QyxLQUFYO0FBQ0FBLGtCQUFNbUIsR0FBTixDQUFVc0MsTUFBVixJQUFvQnpELE1BQU1tQixHQUFOLENBQVVzQyxNQUFWLEVBQXBCO0FBQ0F6RCxrQkFBTW1CLEdBQU4sQ0FBVXVDLFNBQVYsR0FBc0IsSUFBdEI7QUFDSDtBQTFFRSxLQUFQO0FBNEVIO0FBQ0RwRSxRQUFRRSxLQUFSLEdBQWdCQSxLQUFoQjtBQUNBIiwiZmlsZSI6IjEyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnN0YXJ0ID0gdm9pZCAwO1xuY29uc3QgYm9hcmQgPSByZXF1aXJlKFwiLi9ib2FyZFwiKTtcbmNvbnN0IGZlbl8xID0gcmVxdWlyZShcIi4vZmVuXCIpO1xuY29uc3QgY29uZmlnXzEgPSByZXF1aXJlKFwiLi9jb25maWdcIik7XG5jb25zdCBhbmltXzEgPSByZXF1aXJlKFwiLi9hbmltXCIpO1xuY29uc3QgZHJhZ18xID0gcmVxdWlyZShcIi4vZHJhZ1wiKTtcbmNvbnN0IGV4cGxvc2lvbl8xID0gcmVxdWlyZShcIi4vZXhwbG9zaW9uXCIpO1xuZnVuY3Rpb24gc3RhcnQoc3RhdGUsIHJlZHJhd0FsbCkge1xuICAgIGZ1bmN0aW9uIHRvZ2dsZU9yaWVudGF0aW9uKCkge1xuICAgICAgICBib2FyZC50b2dnbGVPcmllbnRhdGlvbihzdGF0ZSk7XG4gICAgICAgIHJlZHJhd0FsbCgpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzZXQoY29uZmlnKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLm9yaWVudGF0aW9uICYmIGNvbmZpZy5vcmllbnRhdGlvbiAhPT0gc3RhdGUub3JpZW50YXRpb24pXG4gICAgICAgICAgICAgICAgdG9nZ2xlT3JpZW50YXRpb24oKTtcbiAgICAgICAgICAgIChjb25maWcuZmVuID8gYW5pbV8xLmFuaW0gOiBhbmltXzEucmVuZGVyKShzdGF0ZSA9PiBjb25maWdfMS5jb25maWd1cmUoc3RhdGUsIGNvbmZpZyksIHN0YXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIGdldEZlbjogKCkgPT4gZmVuXzEud3JpdGUoc3RhdGUucGllY2VzKSxcbiAgICAgICAgdG9nZ2xlT3JpZW50YXRpb24sXG4gICAgICAgIHNldFBpZWNlcyhwaWVjZXMpIHtcbiAgICAgICAgICAgIGFuaW1fMS5hbmltKHN0YXRlID0+IGJvYXJkLnNldFBpZWNlcyhzdGF0ZSwgcGllY2VzKSwgc3RhdGUpO1xuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RTcXVhcmUoa2V5LCBmb3JjZSkge1xuICAgICAgICAgICAgaWYgKGtleSlcbiAgICAgICAgICAgICAgICBhbmltXzEuYW5pbShzdGF0ZSA9PiBib2FyZC5zZWxlY3RTcXVhcmUoc3RhdGUsIGtleSwgZm9yY2UpLCBzdGF0ZSk7XG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIGJvYXJkLnVuc2VsZWN0KHN0YXRlKTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5kb20ucmVkcmF3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1vdmUob3JpZywgZGVzdCkge1xuICAgICAgICAgICAgYW5pbV8xLmFuaW0oc3RhdGUgPT4gYm9hcmQuYmFzZU1vdmUoc3RhdGUsIG9yaWcsIGRlc3QpLCBzdGF0ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIG5ld1BpZWNlKHBpZWNlLCBrZXkpIHtcbiAgICAgICAgICAgIGFuaW1fMS5hbmltKHN0YXRlID0+IGJvYXJkLmJhc2VOZXdQaWVjZShzdGF0ZSwgcGllY2UsIGtleSksIHN0YXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgcGxheVByZW1vdmUoKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUucHJlbW92YWJsZS5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1fMS5hbmltKGJvYXJkLnBsYXlQcmVtb3ZlLCBzdGF0ZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIHN0YXRlLmRvbS5yZWRyYXcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgcGxheVByZWRyb3AodmFsaWRhdGUpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5wcmVkcm9wcGFibGUuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGJvYXJkLnBsYXlQcmVkcm9wKHN0YXRlLCB2YWxpZGF0ZSk7XG4gICAgICAgICAgICAgICAgc3RhdGUuZG9tLnJlZHJhdygpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGNhbmNlbFByZW1vdmUoKSB7XG4gICAgICAgICAgICBhbmltXzEucmVuZGVyKGJvYXJkLnVuc2V0UHJlbW92ZSwgc3RhdGUpO1xuICAgICAgICB9LFxuICAgICAgICBjYW5jZWxQcmVkcm9wKCkge1xuICAgICAgICAgICAgYW5pbV8xLnJlbmRlcihib2FyZC51bnNldFByZWRyb3AsIHN0YXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2FuY2VsTW92ZSgpIHtcbiAgICAgICAgICAgIGFuaW1fMS5yZW5kZXIoc3RhdGUgPT4geyBib2FyZC5jYW5jZWxNb3ZlKHN0YXRlKTsgZHJhZ18xLmNhbmNlbChzdGF0ZSk7IH0sIHN0YXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgc3RvcCgpIHtcbiAgICAgICAgICAgIGFuaW1fMS5yZW5kZXIoc3RhdGUgPT4geyBib2FyZC5zdG9wKHN0YXRlKTsgZHJhZ18xLmNhbmNlbChzdGF0ZSk7IH0sIHN0YXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXhwbG9kZShrZXlzKSB7XG4gICAgICAgICAgICBleHBsb3Npb25fMS5leHBsb3Npb24oc3RhdGUsIGtleXMpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRBdXRvU2hhcGVzKHNoYXBlcykge1xuICAgICAgICAgICAgYW5pbV8xLnJlbmRlcihzdGF0ZSA9PiBzdGF0ZS5kcmF3YWJsZS5hdXRvU2hhcGVzID0gc2hhcGVzLCBzdGF0ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFNoYXBlcyhzaGFwZXMpIHtcbiAgICAgICAgICAgIGFuaW1fMS5yZW5kZXIoc3RhdGUgPT4gc3RhdGUuZHJhd2FibGUuc2hhcGVzID0gc2hhcGVzLCBzdGF0ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldEtleUF0RG9tUG9zKHBvcykge1xuICAgICAgICAgICAgcmV0dXJuIGJvYXJkLmdldEtleUF0RG9tUG9zKHBvcywgYm9hcmQud2hpdGVQb3Yoc3RhdGUpLCBzdGF0ZS5kb20uYm91bmRzKCkpO1xuICAgICAgICB9LFxuICAgICAgICByZWRyYXdBbGwsXG4gICAgICAgIGRyYWdOZXdQaWVjZShwaWVjZSwgZXZlbnQsIGZvcmNlKSB7XG4gICAgICAgICAgICBkcmFnXzEuZHJhZ05ld1BpZWNlKHN0YXRlLCBwaWVjZSwgZXZlbnQsIGZvcmNlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVzdHJveSgpIHtcbiAgICAgICAgICAgIGJvYXJkLnN0b3Aoc3RhdGUpO1xuICAgICAgICAgICAgc3RhdGUuZG9tLnVuYmluZCAmJiBzdGF0ZS5kb20udW5iaW5kKCk7XG4gICAgICAgICAgICBzdGF0ZS5kb20uZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG59XG5leHBvcnRzLnN0YXJ0ID0gc3RhcnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcGkuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9lY2hlc3Nncm91bmQvYXBpLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///12\n");

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.drop = exports.cancelDropMode = exports.setDropMode = void 0;\nvar board = __webpack_require__(1);\nvar util = __webpack_require__(0);\nvar drag_1 = __webpack_require__(2);\nfunction setDropMode(s, piece) {\n    s.dropmode = {\n        active: true,\n        piece: piece\n    };\n    drag_1.cancel(s);\n}\nexports.setDropMode = setDropMode;\nfunction cancelDropMode(s) {\n    s.dropmode = {\n        active: false\n    };\n}\nexports.cancelDropMode = cancelDropMode;\nfunction drop(s, e) {\n    if (!s.dropmode.active) return;\n    board.unsetPremove(s);\n    board.unsetPredrop(s);\n    var piece = s.dropmode.piece;\n    if (piece) {\n        s.pieces.set('a0', piece);\n        var position = util.eventPosition(e);\n        var dest = position && board.getKeyAtDomPos(position, board.whitePov(s), s.dom.bounds());\n        if (dest) board.dropNewPiece(s, 'a0', dest);\n    }\n    s.dom.redraw();\n}\nexports.drop = drop;\n//# sourceMappingURL=drop.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VjaGVzc2dyb3VuZC9kcm9wLmpzPzFhODciXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJkcm9wIiwiY2FuY2VsRHJvcE1vZGUiLCJzZXREcm9wTW9kZSIsImJvYXJkIiwicmVxdWlyZSIsInV0aWwiLCJkcmFnXzEiLCJzIiwicGllY2UiLCJkcm9wbW9kZSIsImFjdGl2ZSIsImNhbmNlbCIsImUiLCJ1bnNldFByZW1vdmUiLCJ1bnNldFByZWRyb3AiLCJwaWVjZXMiLCJzZXQiLCJwb3NpdGlvbiIsImV2ZW50UG9zaXRpb24iLCJkZXN0IiwiZ2V0S2V5QXREb21Qb3MiLCJ3aGl0ZVBvdiIsImRvbSIsImJvdW5kcyIsImRyb3BOZXdQaWVjZSIsInJlZHJhdyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBRCxRQUFRRSxJQUFSLEdBQWVGLFFBQVFHLGNBQVIsR0FBeUJILFFBQVFJLFdBQVIsR0FBc0IsS0FBSyxDQUFuRTtBQUNBLElBQU1DLFFBQVEsbUJBQUFDLENBQVEsQ0FBUixDQUFkO0FBQ0EsSUFBTUMsT0FBTyxtQkFBQUQsQ0FBUSxDQUFSLENBQWI7QUFDQSxJQUFNRSxTQUFTLG1CQUFBRixDQUFRLENBQVIsQ0FBZjtBQUNBLFNBQVNGLFdBQVQsQ0FBcUJLLENBQXJCLEVBQXdCQyxLQUF4QixFQUErQjtBQUMzQkQsTUFBRUUsUUFBRixHQUFhO0FBQ1RDLGdCQUFRLElBREM7QUFFVEY7QUFGUyxLQUFiO0FBSUFGLFdBQU9LLE1BQVAsQ0FBY0osQ0FBZDtBQUNIO0FBQ0RULFFBQVFJLFdBQVIsR0FBc0JBLFdBQXRCO0FBQ0EsU0FBU0QsY0FBVCxDQUF3Qk0sQ0FBeEIsRUFBMkI7QUFDdkJBLE1BQUVFLFFBQUYsR0FBYTtBQUNUQyxnQkFBUTtBQURDLEtBQWI7QUFHSDtBQUNEWixRQUFRRyxjQUFSLEdBQXlCQSxjQUF6QjtBQUNBLFNBQVNELElBQVQsQ0FBY08sQ0FBZCxFQUFpQkssQ0FBakIsRUFBb0I7QUFDaEIsUUFBSSxDQUFDTCxFQUFFRSxRQUFGLENBQVdDLE1BQWhCLEVBQ0k7QUFDSlAsVUFBTVUsWUFBTixDQUFtQk4sQ0FBbkI7QUFDQUosVUFBTVcsWUFBTixDQUFtQlAsQ0FBbkI7QUFDQSxRQUFNQyxRQUFRRCxFQUFFRSxRQUFGLENBQVdELEtBQXpCO0FBQ0EsUUFBSUEsS0FBSixFQUFXO0FBQ1BELFVBQUVRLE1BQUYsQ0FBU0MsR0FBVCxDQUFhLElBQWIsRUFBbUJSLEtBQW5CO0FBQ0EsWUFBTVMsV0FBV1osS0FBS2EsYUFBTCxDQUFtQk4sQ0FBbkIsQ0FBakI7QUFDQSxZQUFNTyxPQUFPRixZQUFZZCxNQUFNaUIsY0FBTixDQUFxQkgsUUFBckIsRUFBK0JkLE1BQU1rQixRQUFOLENBQWVkLENBQWYsQ0FBL0IsRUFBa0RBLEVBQUVlLEdBQUYsQ0FBTUMsTUFBTixFQUFsRCxDQUF6QjtBQUNBLFlBQUlKLElBQUosRUFDSWhCLE1BQU1xQixZQUFOLENBQW1CakIsQ0FBbkIsRUFBc0IsSUFBdEIsRUFBNEJZLElBQTVCO0FBQ1A7QUFDRFosTUFBRWUsR0FBRixDQUFNRyxNQUFOO0FBQ0g7QUFDRDNCLFFBQVFFLElBQVIsR0FBZUEsSUFBZjtBQUNBIiwiZmlsZSI6IjEzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRyb3AgPSBleHBvcnRzLmNhbmNlbERyb3BNb2RlID0gZXhwb3J0cy5zZXREcm9wTW9kZSA9IHZvaWQgMDtcbmNvbnN0IGJvYXJkID0gcmVxdWlyZShcIi4vYm9hcmRcIik7XG5jb25zdCB1dGlsID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbmNvbnN0IGRyYWdfMSA9IHJlcXVpcmUoXCIuL2RyYWdcIik7XG5mdW5jdGlvbiBzZXREcm9wTW9kZShzLCBwaWVjZSkge1xuICAgIHMuZHJvcG1vZGUgPSB7XG4gICAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgcGllY2VcbiAgICB9O1xuICAgIGRyYWdfMS5jYW5jZWwocyk7XG59XG5leHBvcnRzLnNldERyb3BNb2RlID0gc2V0RHJvcE1vZGU7XG5mdW5jdGlvbiBjYW5jZWxEcm9wTW9kZShzKSB7XG4gICAgcy5kcm9wbW9kZSA9IHtcbiAgICAgICAgYWN0aXZlOiBmYWxzZVxuICAgIH07XG59XG5leHBvcnRzLmNhbmNlbERyb3BNb2RlID0gY2FuY2VsRHJvcE1vZGU7XG5mdW5jdGlvbiBkcm9wKHMsIGUpIHtcbiAgICBpZiAoIXMuZHJvcG1vZGUuYWN0aXZlKVxuICAgICAgICByZXR1cm47XG4gICAgYm9hcmQudW5zZXRQcmVtb3ZlKHMpO1xuICAgIGJvYXJkLnVuc2V0UHJlZHJvcChzKTtcbiAgICBjb25zdCBwaWVjZSA9IHMuZHJvcG1vZGUucGllY2U7XG4gICAgaWYgKHBpZWNlKSB7XG4gICAgICAgIHMucGllY2VzLnNldCgnYTAnLCBwaWVjZSk7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gdXRpbC5ldmVudFBvc2l0aW9uKGUpO1xuICAgICAgICBjb25zdCBkZXN0ID0gcG9zaXRpb24gJiYgYm9hcmQuZ2V0S2V5QXREb21Qb3MocG9zaXRpb24sIGJvYXJkLndoaXRlUG92KHMpLCBzLmRvbS5ib3VuZHMoKSk7XG4gICAgICAgIGlmIChkZXN0KVxuICAgICAgICAgICAgYm9hcmQuZHJvcE5ld1BpZWNlKHMsICdhMCcsIGRlc3QpO1xuICAgIH1cbiAgICBzLmRvbS5yZWRyYXcoKTtcbn1cbmV4cG9ydHMuZHJvcCA9IGRyb3A7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kcm9wLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vZWNoZXNzZ3JvdW5kL2Ryb3AuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n");

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Echessground = void 0;\nvar api_1 = __webpack_require__(12);\nvar config_1 = __webpack_require__(6);\nvar state_1 = __webpack_require__(19);\nvar wrap_1 = __webpack_require__(20);\nvar events = __webpack_require__(15);\nvar render_1 = __webpack_require__(18);\nvar svg = __webpack_require__(8);\nvar util = __webpack_require__(0);\nfunction Echessground(element, config) {\n    var maybeState = state_1.defaults();\n    config_1.configure(maybeState, config || {});\n    function redrawAll() {\n        var prevUnbind = 'dom' in maybeState ? maybeState.dom.unbind : undefined;\n        var relative = maybeState.viewOnly && !maybeState.drawable.visible,\n            elements = wrap_1.renderWrap(element, maybeState, relative),\n            bounds = util.memo(function () {\n            return elements.board.getBoundingClientRect();\n        }),\n            redrawNow = function redrawNow(skipSvg) {\n            render_1.render(state);\n            if (!skipSvg && elements.svg) svg.renderSvg(state, elements.svg);\n        },\n            boundsUpdated = function boundsUpdated() {\n            bounds.clear();\n            render_1.updateBounds(state);\n            if (elements.svg) svg.renderSvg(state, elements.svg);\n        };\n        var state = maybeState;\n        state.dom = {\n            elements: elements,\n            bounds: bounds,\n            redraw: debounceRedraw(redrawNow),\n            redrawNow: redrawNow,\n            unbind: prevUnbind,\n            relative: relative\n        };\n        state.drawable.prevSvgHash = '';\n        redrawNow(false);\n        events.bindBoard(state, boundsUpdated);\n        if (!prevUnbind) state.dom.unbind = events.bindDocument(state, boundsUpdated);\n        state.events.insert && state.events.insert(elements);\n        return state;\n    }\n    return api_1.start(redrawAll(), redrawAll);\n}\nexports.Echessground = Echessground;\nfunction debounceRedraw(redrawNow) {\n    var redrawing = false;\n    return function () {\n        if (redrawing) return;\n        redrawing = true;\n        requestAnimationFrame(function () {\n            redrawNow();\n            redrawing = false;\n        });\n    };\n}\n//# sourceMappingURL=echessground.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VjaGVzc2dyb3VuZC9lY2hlc3Nncm91bmQuanM/MjVjYiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIkVjaGVzc2dyb3VuZCIsImFwaV8xIiwicmVxdWlyZSIsImNvbmZpZ18xIiwic3RhdGVfMSIsIndyYXBfMSIsImV2ZW50cyIsInJlbmRlcl8xIiwic3ZnIiwidXRpbCIsImVsZW1lbnQiLCJjb25maWciLCJtYXliZVN0YXRlIiwiZGVmYXVsdHMiLCJjb25maWd1cmUiLCJyZWRyYXdBbGwiLCJwcmV2VW5iaW5kIiwiZG9tIiwidW5iaW5kIiwidW5kZWZpbmVkIiwicmVsYXRpdmUiLCJ2aWV3T25seSIsImRyYXdhYmxlIiwidmlzaWJsZSIsImVsZW1lbnRzIiwicmVuZGVyV3JhcCIsImJvdW5kcyIsIm1lbW8iLCJib2FyZCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInJlZHJhd05vdyIsInNraXBTdmciLCJyZW5kZXIiLCJzdGF0ZSIsInJlbmRlclN2ZyIsImJvdW5kc1VwZGF0ZWQiLCJjbGVhciIsInVwZGF0ZUJvdW5kcyIsInJlZHJhdyIsImRlYm91bmNlUmVkcmF3IiwicHJldlN2Z0hhc2giLCJiaW5kQm9hcmQiLCJiaW5kRG9jdW1lbnQiLCJpbnNlcnQiLCJzdGFydCIsInJlZHJhd2luZyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBRCxRQUFRRSxZQUFSLEdBQXVCLEtBQUssQ0FBNUI7QUFDQSxJQUFNQyxRQUFRLG1CQUFBQyxDQUFRLEVBQVIsQ0FBZDtBQUNBLElBQU1DLFdBQVcsbUJBQUFELENBQVEsQ0FBUixDQUFqQjtBQUNBLElBQU1FLFVBQVUsbUJBQUFGLENBQVEsRUFBUixDQUFoQjtBQUNBLElBQU1HLFNBQVMsbUJBQUFILENBQVEsRUFBUixDQUFmO0FBQ0EsSUFBTUksU0FBUyxtQkFBQUosQ0FBUSxFQUFSLENBQWY7QUFDQSxJQUFNSyxXQUFXLG1CQUFBTCxDQUFRLEVBQVIsQ0FBakI7QUFDQSxJQUFNTSxNQUFNLG1CQUFBTixDQUFRLENBQVIsQ0FBWjtBQUNBLElBQU1PLE9BQU8sbUJBQUFQLENBQVEsQ0FBUixDQUFiO0FBQ0EsU0FBU0YsWUFBVCxDQUFzQlUsT0FBdEIsRUFBK0JDLE1BQS9CLEVBQXVDO0FBQ25DLFFBQU1DLGFBQWFSLFFBQVFTLFFBQVIsRUFBbkI7QUFDQVYsYUFBU1csU0FBVCxDQUFtQkYsVUFBbkIsRUFBK0JELFVBQVUsRUFBekM7QUFDQSxhQUFTSSxTQUFULEdBQXFCO0FBQ2pCLFlBQU1DLGFBQWEsU0FBU0osVUFBVCxHQUFzQkEsV0FBV0ssR0FBWCxDQUFlQyxNQUFyQyxHQUE4Q0MsU0FBakU7QUFDQSxZQUFNQyxXQUFXUixXQUFXUyxRQUFYLElBQXVCLENBQUNULFdBQVdVLFFBQVgsQ0FBb0JDLE9BQTdEO0FBQUEsWUFBc0VDLFdBQVduQixPQUFPb0IsVUFBUCxDQUFrQmYsT0FBbEIsRUFBMkJFLFVBQTNCLEVBQXVDUSxRQUF2QyxDQUFqRjtBQUFBLFlBQW1JTSxTQUFTakIsS0FBS2tCLElBQUwsQ0FBVTtBQUFBLG1CQUFNSCxTQUFTSSxLQUFULENBQWVDLHFCQUFmLEVBQU47QUFBQSxTQUFWLENBQTVJO0FBQUEsWUFBcU1DLFlBQVksU0FBWkEsU0FBWSxDQUFDQyxPQUFELEVBQWE7QUFDMU54QixxQkFBU3lCLE1BQVQsQ0FBZ0JDLEtBQWhCO0FBQ0EsZ0JBQUksQ0FBQ0YsT0FBRCxJQUFZUCxTQUFTaEIsR0FBekIsRUFDSUEsSUFBSTBCLFNBQUosQ0FBY0QsS0FBZCxFQUFxQlQsU0FBU2hCLEdBQTlCO0FBQ1AsU0FKRDtBQUFBLFlBSUcyQixnQkFBZ0IsU0FBaEJBLGFBQWdCLEdBQU07QUFDckJULG1CQUFPVSxLQUFQO0FBQ0E3QixxQkFBUzhCLFlBQVQsQ0FBc0JKLEtBQXRCO0FBQ0EsZ0JBQUlULFNBQVNoQixHQUFiLEVBQ0lBLElBQUkwQixTQUFKLENBQWNELEtBQWQsRUFBcUJULFNBQVNoQixHQUE5QjtBQUNQLFNBVEQ7QUFVQSxZQUFNeUIsUUFBUXJCLFVBQWQ7QUFDQXFCLGNBQU1oQixHQUFOLEdBQVk7QUFDUk8sOEJBRFE7QUFFUkUsMEJBRlE7QUFHUlksb0JBQVFDLGVBQWVULFNBQWYsQ0FIQTtBQUlSQSxnQ0FKUTtBQUtSWixvQkFBUUYsVUFMQTtBQU1SSTtBQU5RLFNBQVo7QUFRQWEsY0FBTVgsUUFBTixDQUFla0IsV0FBZixHQUE2QixFQUE3QjtBQUNBVixrQkFBVSxLQUFWO0FBQ0F4QixlQUFPbUMsU0FBUCxDQUFpQlIsS0FBakIsRUFBd0JFLGFBQXhCO0FBQ0EsWUFBSSxDQUFDbkIsVUFBTCxFQUNJaUIsTUFBTWhCLEdBQU4sQ0FBVUMsTUFBVixHQUFtQlosT0FBT29DLFlBQVAsQ0FBb0JULEtBQXBCLEVBQTJCRSxhQUEzQixDQUFuQjtBQUNKRixjQUFNM0IsTUFBTixDQUFhcUMsTUFBYixJQUF1QlYsTUFBTTNCLE1BQU4sQ0FBYXFDLE1BQWIsQ0FBb0JuQixRQUFwQixDQUF2QjtBQUNBLGVBQU9TLEtBQVA7QUFDSDtBQUNELFdBQU9oQyxNQUFNMkMsS0FBTixDQUFZN0IsV0FBWixFQUF5QkEsU0FBekIsQ0FBUDtBQUNIO0FBQ0RqQixRQUFRRSxZQUFSLEdBQXVCQSxZQUF2QjtBQUNBLFNBQVN1QyxjQUFULENBQXdCVCxTQUF4QixFQUFtQztBQUMvQixRQUFJZSxZQUFZLEtBQWhCO0FBQ0EsV0FBTyxZQUFNO0FBQ1QsWUFBSUEsU0FBSixFQUNJO0FBQ0pBLG9CQUFZLElBQVo7QUFDQUMsOEJBQXNCLFlBQU07QUFDeEJoQjtBQUNBZSx3QkFBWSxLQUFaO0FBQ0gsU0FIRDtBQUlILEtBUkQ7QUFTSDtBQUNEIiwiZmlsZSI6IjE0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkVjaGVzc2dyb3VuZCA9IHZvaWQgMDtcbmNvbnN0IGFwaV8xID0gcmVxdWlyZShcIi4vYXBpXCIpO1xuY29uc3QgY29uZmlnXzEgPSByZXF1aXJlKFwiLi9jb25maWdcIik7XG5jb25zdCBzdGF0ZV8xID0gcmVxdWlyZShcIi4vc3RhdGVcIik7XG5jb25zdCB3cmFwXzEgPSByZXF1aXJlKFwiLi93cmFwXCIpO1xuY29uc3QgZXZlbnRzID0gcmVxdWlyZShcIi4vZXZlbnRzXCIpO1xuY29uc3QgcmVuZGVyXzEgPSByZXF1aXJlKFwiLi9yZW5kZXJcIik7XG5jb25zdCBzdmcgPSByZXF1aXJlKFwiLi9zdmdcIik7XG5jb25zdCB1dGlsID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbmZ1bmN0aW9uIEVjaGVzc2dyb3VuZChlbGVtZW50LCBjb25maWcpIHtcbiAgICBjb25zdCBtYXliZVN0YXRlID0gc3RhdGVfMS5kZWZhdWx0cygpO1xuICAgIGNvbmZpZ18xLmNvbmZpZ3VyZShtYXliZVN0YXRlLCBjb25maWcgfHwge30pO1xuICAgIGZ1bmN0aW9uIHJlZHJhd0FsbCgpIHtcbiAgICAgICAgY29uc3QgcHJldlVuYmluZCA9ICdkb20nIGluIG1heWJlU3RhdGUgPyBtYXliZVN0YXRlLmRvbS51bmJpbmQgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHJlbGF0aXZlID0gbWF5YmVTdGF0ZS52aWV3T25seSAmJiAhbWF5YmVTdGF0ZS5kcmF3YWJsZS52aXNpYmxlLCBlbGVtZW50cyA9IHdyYXBfMS5yZW5kZXJXcmFwKGVsZW1lbnQsIG1heWJlU3RhdGUsIHJlbGF0aXZlKSwgYm91bmRzID0gdXRpbC5tZW1vKCgpID0+IGVsZW1lbnRzLmJvYXJkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSwgcmVkcmF3Tm93ID0gKHNraXBTdmcpID0+IHtcbiAgICAgICAgICAgIHJlbmRlcl8xLnJlbmRlcihzdGF0ZSk7XG4gICAgICAgICAgICBpZiAoIXNraXBTdmcgJiYgZWxlbWVudHMuc3ZnKVxuICAgICAgICAgICAgICAgIHN2Zy5yZW5kZXJTdmcoc3RhdGUsIGVsZW1lbnRzLnN2Zyk7XG4gICAgICAgIH0sIGJvdW5kc1VwZGF0ZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBib3VuZHMuY2xlYXIoKTtcbiAgICAgICAgICAgIHJlbmRlcl8xLnVwZGF0ZUJvdW5kcyhzdGF0ZSk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudHMuc3ZnKVxuICAgICAgICAgICAgICAgIHN2Zy5yZW5kZXJTdmcoc3RhdGUsIGVsZW1lbnRzLnN2Zyk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHN0YXRlID0gbWF5YmVTdGF0ZTtcbiAgICAgICAgc3RhdGUuZG9tID0ge1xuICAgICAgICAgICAgZWxlbWVudHMsXG4gICAgICAgICAgICBib3VuZHMsXG4gICAgICAgICAgICByZWRyYXc6IGRlYm91bmNlUmVkcmF3KHJlZHJhd05vdyksXG4gICAgICAgICAgICByZWRyYXdOb3csXG4gICAgICAgICAgICB1bmJpbmQ6IHByZXZVbmJpbmQsXG4gICAgICAgICAgICByZWxhdGl2ZVxuICAgICAgICB9O1xuICAgICAgICBzdGF0ZS5kcmF3YWJsZS5wcmV2U3ZnSGFzaCA9ICcnO1xuICAgICAgICByZWRyYXdOb3coZmFsc2UpO1xuICAgICAgICBldmVudHMuYmluZEJvYXJkKHN0YXRlLCBib3VuZHNVcGRhdGVkKTtcbiAgICAgICAgaWYgKCFwcmV2VW5iaW5kKVxuICAgICAgICAgICAgc3RhdGUuZG9tLnVuYmluZCA9IGV2ZW50cy5iaW5kRG9jdW1lbnQoc3RhdGUsIGJvdW5kc1VwZGF0ZWQpO1xuICAgICAgICBzdGF0ZS5ldmVudHMuaW5zZXJ0ICYmIHN0YXRlLmV2ZW50cy5pbnNlcnQoZWxlbWVudHMpO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIHJldHVybiBhcGlfMS5zdGFydChyZWRyYXdBbGwoKSwgcmVkcmF3QWxsKTtcbn1cbmV4cG9ydHMuRWNoZXNzZ3JvdW5kID0gRWNoZXNzZ3JvdW5kO1xuZnVuY3Rpb24gZGVib3VuY2VSZWRyYXcocmVkcmF3Tm93KSB7XG4gICAgbGV0IHJlZHJhd2luZyA9IGZhbHNlO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChyZWRyYXdpbmcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHJlZHJhd2luZyA9IHRydWU7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICByZWRyYXdOb3coKTtcbiAgICAgICAgICAgIHJlZHJhd2luZyA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWNoZXNzZ3JvdW5kLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vZWNoZXNzZ3JvdW5kL2VjaGVzc2dyb3VuZC5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///14\n");

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bindDocument = exports.bindBoard = void 0;\nvar drag = __webpack_require__(2);\nvar draw = __webpack_require__(7);\nvar drop_1 = __webpack_require__(13);\nvar util_1 = __webpack_require__(0);\nfunction bindBoard(s, boundsUpdated) {\n    var boardEl = s.dom.elements.board;\n    if (!s.dom.relative && s.resizable && 'ResizeObserver' in window) {\n        var observer = new window['ResizeObserver'](boundsUpdated);\n        observer.observe(boardEl);\n    }\n    if (s.viewOnly) return;\n    var onStart = startDragOrDraw(s);\n    boardEl.addEventListener('touchstart', onStart, { passive: false });\n    boardEl.addEventListener('mousedown', onStart, { passive: false });\n    if (s.disableContextMenu || s.drawable.enabled) {\n        boardEl.addEventListener('contextmenu', function (e) {\n            return e.preventDefault();\n        });\n    }\n}\nexports.bindBoard = bindBoard;\nfunction bindDocument(s, boundsUpdated) {\n    var unbinds = [];\n    if (!s.dom.relative && s.resizable && !('ResizeObserver' in window)) {\n        unbinds.push(unbindable(document.body, 'echessground.resize', boundsUpdated));\n    }\n    if (!s.viewOnly) {\n        var onmove = dragOrDraw(s, drag.move, draw.move);\n        var onend = dragOrDraw(s, drag.end, draw.end);\n        var _arr = ['touchmove', 'mousemove'];\n        for (var _i = 0; _i < _arr.length; _i++) {\n            var ev = _arr[_i];\n            unbinds.push(unbindable(document, ev, onmove));\n        }var _arr2 = ['touchend', 'mouseup'];\n        for (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n            var _ev = _arr2[_i2];\n            unbinds.push(unbindable(document, _ev, onend));\n        }var onScroll = function onScroll() {\n            return s.dom.bounds.clear();\n        };\n        unbinds.push(unbindable(document, 'scroll', onScroll, { capture: true, passive: true }));\n        unbinds.push(unbindable(window, 'resize', onScroll, { passive: true }));\n    }\n    return function () {\n        return unbinds.forEach(function (f) {\n            return f();\n        });\n    };\n}\nexports.bindDocument = bindDocument;\nfunction unbindable(el, eventName, callback, options) {\n    el.addEventListener(eventName, callback, options);\n    return function () {\n        return el.removeEventListener(eventName, callback, options);\n    };\n}\nfunction startDragOrDraw(s) {\n    return function (e) {\n        if (s.draggable.current) drag.cancel(s);else if (s.drawable.current) draw.cancel(s);else if (e.shiftKey || util_1.isRightButton(e)) {\n            if (s.drawable.enabled) draw.start(s, e);\n        } else if (!s.viewOnly) {\n            if (s.dropmode.active) drop_1.drop(s, e);else drag.start(s, e);\n        }\n    };\n}\nfunction dragOrDraw(s, withDrag, withDraw) {\n    return function (e) {\n        if (s.drawable.current) {\n            if (s.drawable.enabled) withDraw(s, e);\n        } else if (!s.viewOnly) withDrag(s, e);\n    };\n}\n//# sourceMappingURL=events.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VjaGVzc2dyb3VuZC9ldmVudHMuanM/NjY5NCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImJpbmREb2N1bWVudCIsImJpbmRCb2FyZCIsImRyYWciLCJyZXF1aXJlIiwiZHJhdyIsImRyb3BfMSIsInV0aWxfMSIsInMiLCJib3VuZHNVcGRhdGVkIiwiYm9hcmRFbCIsImRvbSIsImVsZW1lbnRzIiwiYm9hcmQiLCJyZWxhdGl2ZSIsInJlc2l6YWJsZSIsIndpbmRvdyIsIm9ic2VydmVyIiwib2JzZXJ2ZSIsInZpZXdPbmx5Iiwib25TdGFydCIsInN0YXJ0RHJhZ09yRHJhdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJwYXNzaXZlIiwiZGlzYWJsZUNvbnRleHRNZW51IiwiZHJhd2FibGUiLCJlbmFibGVkIiwiZSIsInByZXZlbnREZWZhdWx0IiwidW5iaW5kcyIsInB1c2giLCJ1bmJpbmRhYmxlIiwiZG9jdW1lbnQiLCJib2R5Iiwib25tb3ZlIiwiZHJhZ09yRHJhdyIsIm1vdmUiLCJvbmVuZCIsImVuZCIsImV2Iiwib25TY3JvbGwiLCJib3VuZHMiLCJjbGVhciIsImNhcHR1cmUiLCJmb3JFYWNoIiwiZiIsImVsIiwiZXZlbnROYW1lIiwiY2FsbGJhY2siLCJvcHRpb25zIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRyYWdnYWJsZSIsImN1cnJlbnQiLCJjYW5jZWwiLCJzaGlmdEtleSIsImlzUmlnaHRCdXR0b24iLCJzdGFydCIsImRyb3Btb2RlIiwiYWN0aXZlIiwiZHJvcCIsIndpdGhEcmFnIiwid2l0aERyYXciXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQUQsUUFBUUUsWUFBUixHQUF1QkYsUUFBUUcsU0FBUixHQUFvQixLQUFLLENBQWhEO0FBQ0EsSUFBTUMsT0FBTyxtQkFBQUMsQ0FBUSxDQUFSLENBQWI7QUFDQSxJQUFNQyxPQUFPLG1CQUFBRCxDQUFRLENBQVIsQ0FBYjtBQUNBLElBQU1FLFNBQVMsbUJBQUFGLENBQVEsRUFBUixDQUFmO0FBQ0EsSUFBTUcsU0FBUyxtQkFBQUgsQ0FBUSxDQUFSLENBQWY7QUFDQSxTQUFTRixTQUFULENBQW1CTSxDQUFuQixFQUFzQkMsYUFBdEIsRUFBcUM7QUFDakMsUUFBTUMsVUFBVUYsRUFBRUcsR0FBRixDQUFNQyxRQUFOLENBQWVDLEtBQS9CO0FBQ0EsUUFBSSxDQUFDTCxFQUFFRyxHQUFGLENBQU1HLFFBQVAsSUFBbUJOLEVBQUVPLFNBQXJCLElBQWtDLG9CQUFvQkMsTUFBMUQsRUFBa0U7QUFDOUQsWUFBTUMsV0FBVyxJQUFJRCxPQUFPLGdCQUFQLENBQUosQ0FBNkJQLGFBQTdCLENBQWpCO0FBQ0FRLGlCQUFTQyxPQUFULENBQWlCUixPQUFqQjtBQUNIO0FBQ0QsUUFBSUYsRUFBRVcsUUFBTixFQUNJO0FBQ0osUUFBTUMsVUFBVUMsZ0JBQWdCYixDQUFoQixDQUFoQjtBQUNBRSxZQUFRWSxnQkFBUixDQUF5QixZQUF6QixFQUF1Q0YsT0FBdkMsRUFBZ0QsRUFBRUcsU0FBUyxLQUFYLEVBQWhEO0FBQ0FiLFlBQVFZLGdCQUFSLENBQXlCLFdBQXpCLEVBQXNDRixPQUF0QyxFQUErQyxFQUFFRyxTQUFTLEtBQVgsRUFBL0M7QUFDQSxRQUFJZixFQUFFZ0Isa0JBQUYsSUFBd0JoQixFQUFFaUIsUUFBRixDQUFXQyxPQUF2QyxFQUFnRDtBQUM1Q2hCLGdCQUFRWSxnQkFBUixDQUF5QixhQUF6QixFQUF3QztBQUFBLG1CQUFLSyxFQUFFQyxjQUFGLEVBQUw7QUFBQSxTQUF4QztBQUNIO0FBQ0o7QUFDRDdCLFFBQVFHLFNBQVIsR0FBb0JBLFNBQXBCO0FBQ0EsU0FBU0QsWUFBVCxDQUFzQk8sQ0FBdEIsRUFBeUJDLGFBQXpCLEVBQXdDO0FBQ3BDLFFBQU1vQixVQUFVLEVBQWhCO0FBQ0EsUUFBSSxDQUFDckIsRUFBRUcsR0FBRixDQUFNRyxRQUFQLElBQW1CTixFQUFFTyxTQUFyQixJQUFrQyxFQUFFLG9CQUFvQkMsTUFBdEIsQ0FBdEMsRUFBcUU7QUFDakVhLGdCQUFRQyxJQUFSLENBQWFDLFdBQVdDLFNBQVNDLElBQXBCLEVBQTBCLHFCQUExQixFQUFpRHhCLGFBQWpELENBQWI7QUFDSDtBQUNELFFBQUksQ0FBQ0QsRUFBRVcsUUFBUCxFQUFpQjtBQUNiLFlBQU1lLFNBQVNDLFdBQVczQixDQUFYLEVBQWNMLEtBQUtpQyxJQUFuQixFQUF5Qi9CLEtBQUsrQixJQUE5QixDQUFmO0FBQ0EsWUFBTUMsUUFBUUYsV0FBVzNCLENBQVgsRUFBY0wsS0FBS21DLEdBQW5CLEVBQXdCakMsS0FBS2lDLEdBQTdCLENBQWQ7QUFGYSxtQkFHSSxDQUFDLFdBQUQsRUFBYyxXQUFkLENBSEo7QUFHYjtBQUFLLGdCQUFNQyxhQUFOO0FBQ0RWLG9CQUFRQyxJQUFSLENBQWFDLFdBQVdDLFFBQVgsRUFBcUJPLEVBQXJCLEVBQXlCTCxNQUF6QixDQUFiO0FBREosU0FIYSxZQUtJLENBQUMsVUFBRCxFQUFhLFNBQWIsQ0FMSjtBQUtiO0FBQUssZ0JBQU1LLGdCQUFOO0FBQ0RWLG9CQUFRQyxJQUFSLENBQWFDLFdBQVdDLFFBQVgsRUFBcUJPLEdBQXJCLEVBQXlCRixLQUF6QixDQUFiO0FBREosU0FFQSxJQUFNRyxXQUFXLFNBQVhBLFFBQVc7QUFBQSxtQkFBTWhDLEVBQUVHLEdBQUYsQ0FBTThCLE1BQU4sQ0FBYUMsS0FBYixFQUFOO0FBQUEsU0FBakI7QUFDQWIsZ0JBQVFDLElBQVIsQ0FBYUMsV0FBV0MsUUFBWCxFQUFxQixRQUFyQixFQUErQlEsUUFBL0IsRUFBeUMsRUFBRUcsU0FBUyxJQUFYLEVBQWlCcEIsU0FBUyxJQUExQixFQUF6QyxDQUFiO0FBQ0FNLGdCQUFRQyxJQUFSLENBQWFDLFdBQVdmLE1BQVgsRUFBbUIsUUFBbkIsRUFBNkJ3QixRQUE3QixFQUF1QyxFQUFFakIsU0FBUyxJQUFYLEVBQXZDLENBQWI7QUFDSDtBQUNELFdBQU87QUFBQSxlQUFNTSxRQUFRZSxPQUFSLENBQWdCO0FBQUEsbUJBQUtDLEdBQUw7QUFBQSxTQUFoQixDQUFOO0FBQUEsS0FBUDtBQUNIO0FBQ0Q5QyxRQUFRRSxZQUFSLEdBQXVCQSxZQUF2QjtBQUNBLFNBQVM4QixVQUFULENBQW9CZSxFQUFwQixFQUF3QkMsU0FBeEIsRUFBbUNDLFFBQW5DLEVBQTZDQyxPQUE3QyxFQUFzRDtBQUNsREgsT0FBR3hCLGdCQUFILENBQW9CeUIsU0FBcEIsRUFBK0JDLFFBQS9CLEVBQXlDQyxPQUF6QztBQUNBLFdBQU87QUFBQSxlQUFNSCxHQUFHSSxtQkFBSCxDQUF1QkgsU0FBdkIsRUFBa0NDLFFBQWxDLEVBQTRDQyxPQUE1QyxDQUFOO0FBQUEsS0FBUDtBQUNIO0FBQ0QsU0FBUzVCLGVBQVQsQ0FBeUJiLENBQXpCLEVBQTRCO0FBQ3hCLFdBQU8sYUFBSztBQUNSLFlBQUlBLEVBQUUyQyxTQUFGLENBQVlDLE9BQWhCLEVBQ0lqRCxLQUFLa0QsTUFBTCxDQUFZN0MsQ0FBWixFQURKLEtBRUssSUFBSUEsRUFBRWlCLFFBQUYsQ0FBVzJCLE9BQWYsRUFDRC9DLEtBQUtnRCxNQUFMLENBQVk3QyxDQUFaLEVBREMsS0FFQSxJQUFJbUIsRUFBRTJCLFFBQUYsSUFBYy9DLE9BQU9nRCxhQUFQLENBQXFCNUIsQ0FBckIsQ0FBbEIsRUFBMkM7QUFDNUMsZ0JBQUluQixFQUFFaUIsUUFBRixDQUFXQyxPQUFmLEVBQ0lyQixLQUFLbUQsS0FBTCxDQUFXaEQsQ0FBWCxFQUFjbUIsQ0FBZDtBQUNQLFNBSEksTUFJQSxJQUFJLENBQUNuQixFQUFFVyxRQUFQLEVBQWlCO0FBQ2xCLGdCQUFJWCxFQUFFaUQsUUFBRixDQUFXQyxNQUFmLEVBQ0lwRCxPQUFPcUQsSUFBUCxDQUFZbkQsQ0FBWixFQUFlbUIsQ0FBZixFQURKLEtBR0l4QixLQUFLcUQsS0FBTCxDQUFXaEQsQ0FBWCxFQUFjbUIsQ0FBZDtBQUNQO0FBQ0osS0FmRDtBQWdCSDtBQUNELFNBQVNRLFVBQVQsQ0FBb0IzQixDQUFwQixFQUF1Qm9ELFFBQXZCLEVBQWlDQyxRQUFqQyxFQUEyQztBQUN2QyxXQUFPLGFBQUs7QUFDUixZQUFJckQsRUFBRWlCLFFBQUYsQ0FBVzJCLE9BQWYsRUFBd0I7QUFDcEIsZ0JBQUk1QyxFQUFFaUIsUUFBRixDQUFXQyxPQUFmLEVBQ0ltQyxTQUFTckQsQ0FBVCxFQUFZbUIsQ0FBWjtBQUNQLFNBSEQsTUFJSyxJQUFJLENBQUNuQixFQUFFVyxRQUFQLEVBQ0R5QyxTQUFTcEQsQ0FBVCxFQUFZbUIsQ0FBWjtBQUNQLEtBUEQ7QUFRSDtBQUNEIiwiZmlsZSI6IjE1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmJpbmREb2N1bWVudCA9IGV4cG9ydHMuYmluZEJvYXJkID0gdm9pZCAwO1xuY29uc3QgZHJhZyA9IHJlcXVpcmUoXCIuL2RyYWdcIik7XG5jb25zdCBkcmF3ID0gcmVxdWlyZShcIi4vZHJhd1wiKTtcbmNvbnN0IGRyb3BfMSA9IHJlcXVpcmUoXCIuL2Ryb3BcIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuZnVuY3Rpb24gYmluZEJvYXJkKHMsIGJvdW5kc1VwZGF0ZWQpIHtcbiAgICBjb25zdCBib2FyZEVsID0gcy5kb20uZWxlbWVudHMuYm9hcmQ7XG4gICAgaWYgKCFzLmRvbS5yZWxhdGl2ZSAmJiBzLnJlc2l6YWJsZSAmJiAnUmVzaXplT2JzZXJ2ZXInIGluIHdpbmRvdykge1xuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyB3aW5kb3dbJ1Jlc2l6ZU9ic2VydmVyJ10oYm91bmRzVXBkYXRlZCk7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUoYm9hcmRFbCk7XG4gICAgfVxuICAgIGlmIChzLnZpZXdPbmx5KVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3Qgb25TdGFydCA9IHN0YXJ0RHJhZ09yRHJhdyhzKTtcbiAgICBib2FyZEVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBvblN0YXJ0LCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgIGJvYXJkRWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25TdGFydCwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICBpZiAocy5kaXNhYmxlQ29udGV4dE1lbnUgfHwgcy5kcmF3YWJsZS5lbmFibGVkKSB7XG4gICAgICAgIGJvYXJkRWwuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBlID0+IGUucHJldmVudERlZmF1bHQoKSk7XG4gICAgfVxufVxuZXhwb3J0cy5iaW5kQm9hcmQgPSBiaW5kQm9hcmQ7XG5mdW5jdGlvbiBiaW5kRG9jdW1lbnQocywgYm91bmRzVXBkYXRlZCkge1xuICAgIGNvbnN0IHVuYmluZHMgPSBbXTtcbiAgICBpZiAoIXMuZG9tLnJlbGF0aXZlICYmIHMucmVzaXphYmxlICYmICEoJ1Jlc2l6ZU9ic2VydmVyJyBpbiB3aW5kb3cpKSB7XG4gICAgICAgIHVuYmluZHMucHVzaCh1bmJpbmRhYmxlKGRvY3VtZW50LmJvZHksICdlY2hlc3Nncm91bmQucmVzaXplJywgYm91bmRzVXBkYXRlZCkpO1xuICAgIH1cbiAgICBpZiAoIXMudmlld09ubHkpIHtcbiAgICAgICAgY29uc3Qgb25tb3ZlID0gZHJhZ09yRHJhdyhzLCBkcmFnLm1vdmUsIGRyYXcubW92ZSk7XG4gICAgICAgIGNvbnN0IG9uZW5kID0gZHJhZ09yRHJhdyhzLCBkcmFnLmVuZCwgZHJhdy5lbmQpO1xuICAgICAgICBmb3IgKGNvbnN0IGV2IG9mIFsndG91Y2htb3ZlJywgJ21vdXNlbW92ZSddKVxuICAgICAgICAgICAgdW5iaW5kcy5wdXNoKHVuYmluZGFibGUoZG9jdW1lbnQsIGV2LCBvbm1vdmUpKTtcbiAgICAgICAgZm9yIChjb25zdCBldiBvZiBbJ3RvdWNoZW5kJywgJ21vdXNldXAnXSlcbiAgICAgICAgICAgIHVuYmluZHMucHVzaCh1bmJpbmRhYmxlKGRvY3VtZW50LCBldiwgb25lbmQpKTtcbiAgICAgICAgY29uc3Qgb25TY3JvbGwgPSAoKSA9PiBzLmRvbS5ib3VuZHMuY2xlYXIoKTtcbiAgICAgICAgdW5iaW5kcy5wdXNoKHVuYmluZGFibGUoZG9jdW1lbnQsICdzY3JvbGwnLCBvblNjcm9sbCwgeyBjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiB0cnVlIH0pKTtcbiAgICAgICAgdW5iaW5kcy5wdXNoKHVuYmluZGFibGUod2luZG93LCAncmVzaXplJywgb25TY3JvbGwsIHsgcGFzc2l2ZTogdHJ1ZSB9KSk7XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB1bmJpbmRzLmZvckVhY2goZiA9PiBmKCkpO1xufVxuZXhwb3J0cy5iaW5kRG9jdW1lbnQgPSBiaW5kRG9jdW1lbnQ7XG5mdW5jdGlvbiB1bmJpbmRhYmxlKGVsLCBldmVudE5hbWUsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGNhbGxiYWNrLCBvcHRpb25zKTtcbiAgICByZXR1cm4gKCkgPT4gZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGNhbGxiYWNrLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHN0YXJ0RHJhZ09yRHJhdyhzKSB7XG4gICAgcmV0dXJuIGUgPT4ge1xuICAgICAgICBpZiAocy5kcmFnZ2FibGUuY3VycmVudClcbiAgICAgICAgICAgIGRyYWcuY2FuY2VsKHMpO1xuICAgICAgICBlbHNlIGlmIChzLmRyYXdhYmxlLmN1cnJlbnQpXG4gICAgICAgICAgICBkcmF3LmNhbmNlbChzKTtcbiAgICAgICAgZWxzZSBpZiAoZS5zaGlmdEtleSB8fCB1dGlsXzEuaXNSaWdodEJ1dHRvbihlKSkge1xuICAgICAgICAgICAgaWYgKHMuZHJhd2FibGUuZW5hYmxlZClcbiAgICAgICAgICAgICAgICBkcmF3LnN0YXJ0KHMsIGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFzLnZpZXdPbmx5KSB7XG4gICAgICAgICAgICBpZiAocy5kcm9wbW9kZS5hY3RpdmUpXG4gICAgICAgICAgICAgICAgZHJvcF8xLmRyb3AocywgZSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgZHJhZy5zdGFydChzLCBlKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBkcmFnT3JEcmF3KHMsIHdpdGhEcmFnLCB3aXRoRHJhdykge1xuICAgIHJldHVybiBlID0+IHtcbiAgICAgICAgaWYgKHMuZHJhd2FibGUuY3VycmVudCkge1xuICAgICAgICAgICAgaWYgKHMuZHJhd2FibGUuZW5hYmxlZClcbiAgICAgICAgICAgICAgICB3aXRoRHJhdyhzLCBlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghcy52aWV3T25seSlcbiAgICAgICAgICAgIHdpdGhEcmFnKHMsIGUpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmVudHMuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9lY2hlc3Nncm91bmQvZXZlbnRzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///15\n");

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.explosion = void 0;\nfunction explosion(state, keys) {\n    state.exploding = { stage: 1, keys: keys };\n    state.dom.redraw();\n    setTimeout(function () {\n        setStage(state, 2);\n        setTimeout(function () {\n            return setStage(state, undefined);\n        }, 120);\n    }, 120);\n}\nexports.explosion = explosion;\nfunction setStage(state, stage) {\n    if (state.exploding) {\n        if (stage) state.exploding.stage = stage;else state.exploding = undefined;\n        state.dom.redraw();\n    }\n}\n//# sourceMappingURL=explosion.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VjaGVzc2dyb3VuZC9leHBsb3Npb24uanM/MWY5MCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImV4cGxvc2lvbiIsInN0YXRlIiwia2V5cyIsImV4cGxvZGluZyIsInN0YWdlIiwiZG9tIiwicmVkcmF3Iiwic2V0VGltZW91dCIsInNldFN0YWdlIiwidW5kZWZpbmVkIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0FELFFBQVFFLFNBQVIsR0FBb0IsS0FBSyxDQUF6QjtBQUNBLFNBQVNBLFNBQVQsQ0FBbUJDLEtBQW5CLEVBQTBCQyxJQUExQixFQUFnQztBQUM1QkQsVUFBTUUsU0FBTixHQUFrQixFQUFFQyxPQUFPLENBQVQsRUFBWUYsVUFBWixFQUFsQjtBQUNBRCxVQUFNSSxHQUFOLENBQVVDLE1BQVY7QUFDQUMsZUFBVyxZQUFNO0FBQ2JDLGlCQUFTUCxLQUFULEVBQWdCLENBQWhCO0FBQ0FNLG1CQUFXO0FBQUEsbUJBQU1DLFNBQVNQLEtBQVQsRUFBZ0JRLFNBQWhCLENBQU47QUFBQSxTQUFYLEVBQTZDLEdBQTdDO0FBQ0gsS0FIRCxFQUdHLEdBSEg7QUFJSDtBQUNEWCxRQUFRRSxTQUFSLEdBQW9CQSxTQUFwQjtBQUNBLFNBQVNRLFFBQVQsQ0FBa0JQLEtBQWxCLEVBQXlCRyxLQUF6QixFQUFnQztBQUM1QixRQUFJSCxNQUFNRSxTQUFWLEVBQXFCO0FBQ2pCLFlBQUlDLEtBQUosRUFDSUgsTUFBTUUsU0FBTixDQUFnQkMsS0FBaEIsR0FBd0JBLEtBQXhCLENBREosS0FHSUgsTUFBTUUsU0FBTixHQUFrQk0sU0FBbEI7QUFDSlIsY0FBTUksR0FBTixDQUFVQyxNQUFWO0FBQ0g7QUFDSjtBQUNEIiwiZmlsZSI6IjE2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmV4cGxvc2lvbiA9IHZvaWQgMDtcbmZ1bmN0aW9uIGV4cGxvc2lvbihzdGF0ZSwga2V5cykge1xuICAgIHN0YXRlLmV4cGxvZGluZyA9IHsgc3RhZ2U6IDEsIGtleXMgfTtcbiAgICBzdGF0ZS5kb20ucmVkcmF3KCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNldFN0YWdlKHN0YXRlLCAyKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRTdGFnZShzdGF0ZSwgdW5kZWZpbmVkKSwgMTIwKTtcbiAgICB9LCAxMjApO1xufVxuZXhwb3J0cy5leHBsb3Npb24gPSBleHBsb3Npb247XG5mdW5jdGlvbiBzZXRTdGFnZShzdGF0ZSwgc3RhZ2UpIHtcbiAgICBpZiAoc3RhdGUuZXhwbG9kaW5nKSB7XG4gICAgICAgIGlmIChzdGFnZSlcbiAgICAgICAgICAgIHN0YXRlLmV4cGxvZGluZy5zdGFnZSA9IHN0YWdlO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBzdGF0ZS5leHBsb2RpbmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIHN0YXRlLmRvbS5yZWRyYXcoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leHBsb3Npb24uanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9lY2hlc3Nncm91bmQvZXhwbG9zaW9uLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///16\n");

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.premove = exports.queen = exports.elephant = exports.knight = void 0;\nvar util = __webpack_require__(0);\nfunction diff(a, b) {\n    return Math.abs(a - b);\n}\nfunction pawn(color) {\n    return function (x1, y1, x2, y2) {\n        return diff(x1, x2) < 2 && (color === 'white' ? y2 === y1 + 1 || y1 <= 1 && y2 === y1 + 2 && x1 === x2 : y2 === y1 - 1 || y1 >= 6 && y2 === y1 - 2 && x1 === x2);\n    };\n}\nexports.knight = function (x1, y1, x2, y2) {\n    var xd = diff(x1, x2);\n    var yd = diff(y1, y2);\n    return xd === 1 && yd === 2 || xd === 2 && yd === 1;\n};\nvar bishop = function bishop(x1, y1, x2, y2) {\n    return diff(x1, x2) === diff(y1, y2);\n};\nvar rook = function rook(x1, y1, x2, y2) {\n    return x1 === x2 || y1 === y2;\n};\nexports.elephant = function (x1, y1, x2, y2) {\n    return bishop(x1, y1, x2, y2) || rook(x1, y1, x2, y2) || exports.knight(x1, x2, y1, y2);\n};\nexports.queen = function (x1, y1, x2, y2) {\n    return bishop(x1, y1, x2, y2) || rook(x1, y1, x2, y2);\n};\nfunction king(color, rookFiles, canCastle) {\n    return function (x1, y1, x2, y2) {\n        return diff(x1, x2) < 2 && diff(y1, y2) < 2 || canCastle && y1 === y2 && y1 === (color === 'white' ? 0 : 7) && (x1 === 4 && (x2 === 2 && rookFiles.includes(0) || x2 === 6 && rookFiles.includes(7)) || rookFiles.includes(x2));\n    };\n}\nfunction rookFilesOf(pieces, color) {\n    var backrank = color === 'white' ? '1' : '8';\n    var files = [];\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = pieces[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var _step$value = _slicedToArray(_step.value, 2),\n                key = _step$value[0],\n                piece = _step$value[1];\n\n            if (key[1] === backrank && piece.color === color && piece.role === 'rook') {\n                files.push(util.key2pos(key)[0]);\n            }\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n\n    return files;\n}\nfunction premove(pieces, key, canCastle) {\n    var piece = pieces.get(key);\n    if (!piece) return [];\n    var pos = util.key2pos(key),\n        r = piece.role,\n        mobility = r === 'pawn' ? pawn(piece.color) : r === 'knight' ? exports.knight : r === 'bishop' ? bishop : r === 'rook' ? rook : r === 'elephant' ? exports.elephant : r === 'queen' ? exports.queen : king(piece.color, rookFilesOf(pieces, piece.color), canCastle);\n    return util.allPos.filter(function (pos2) {\n        return (pos[0] !== pos2[0] || pos[1] !== pos2[1]) && mobility(pos[0], pos[1], pos2[0], pos2[1]);\n    }).map(util.pos2key);\n}\nexports.premove = premove;\n//# sourceMappingURL=premove.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VjaGVzc2dyb3VuZC9wcmVtb3ZlLmpzPzE1MmUiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJwcmVtb3ZlIiwicXVlZW4iLCJlbGVwaGFudCIsImtuaWdodCIsInV0aWwiLCJyZXF1aXJlIiwiZGlmZiIsImEiLCJiIiwiTWF0aCIsImFicyIsInBhd24iLCJjb2xvciIsIngxIiwieTEiLCJ4MiIsInkyIiwieGQiLCJ5ZCIsImJpc2hvcCIsInJvb2siLCJraW5nIiwicm9va0ZpbGVzIiwiY2FuQ2FzdGxlIiwiaW5jbHVkZXMiLCJyb29rRmlsZXNPZiIsInBpZWNlcyIsImJhY2tyYW5rIiwiZmlsZXMiLCJrZXkiLCJwaWVjZSIsInJvbGUiLCJwdXNoIiwia2V5MnBvcyIsImdldCIsInBvcyIsInIiLCJtb2JpbGl0eSIsImFsbFBvcyIsImZpbHRlciIsInBvczIiLCJtYXAiLCJwb3Mya2V5Il0sIm1hcHBpbmdzIjoiQUFBQTs7OztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQUQsUUFBUUUsT0FBUixHQUFrQkYsUUFBUUcsS0FBUixHQUFnQkgsUUFBUUksUUFBUixHQUFtQkosUUFBUUssTUFBUixHQUFpQixLQUFLLENBQTNFO0FBQ0EsSUFBTUMsT0FBTyxtQkFBQUMsQ0FBUSxDQUFSLENBQWI7QUFDQSxTQUFTQyxJQUFULENBQWNDLENBQWQsRUFBaUJDLENBQWpCLEVBQW9CO0FBQ2hCLFdBQU9DLEtBQUtDLEdBQUwsQ0FBU0gsSUFBSUMsQ0FBYixDQUFQO0FBQ0g7QUFDRCxTQUFTRyxJQUFULENBQWNDLEtBQWQsRUFBcUI7QUFDakIsV0FBTyxVQUFDQyxFQUFELEVBQUtDLEVBQUwsRUFBU0MsRUFBVCxFQUFhQyxFQUFiO0FBQUEsZUFBb0JWLEtBQUtPLEVBQUwsRUFBU0UsRUFBVCxJQUFlLENB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QUVBLFdBQU9uQixLQUFLa0MsTUFBTCxDQUFZQyxNQUFaLENBQW1CO0FBQUEsZUFBUSxDQUFDSixJQUFJLENBQUosTUFBV0ssS0FBSyxDQUFMLENBQVgsSUFBc0JMLElBQUksQ0FBSixNQUFXSyxLQUFLLENBQUwsQ0FBbEMsS0FBOENILFNBQVNGLElBQUksQ0FBSixDQUFULEVBQWlCQSxJQUFJLENBQUosQ0FBakIsRUFBeUJLLEtBQUssQ0FBTCxDQUF6QixFQUFrQ0EsS0FBSyxDQUFMLENBQWxDLENBQXREO0FBQUEsS0FBbkIsRUFBcUhDLEdBQXJILENBQXlIckMsS0FBS3NDLE9BQTlILENBQVA7QUFDSDtBQUNENUMsUUFBUUUsT0FBUixHQUFrQkEsT0FBbEI7QUFDQSIsImZpbGUiOiIxNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wcmVtb3ZlID0gZXhwb3J0cy5xdWVlbiA9IGV4cG9ydHMuZWxlcGhhbnQgPSBleHBvcnRzLmtuaWdodCA9IHZvaWQgMDtcbmNvbnN0IHV0aWwgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuZnVuY3Rpb24gZGlmZihhLCBiKSB7XG4gICAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKTtcbn1cbmZ1bmN0aW9uIHBhd24oY29sb3IpIHtcbiAgICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PiBkaWZmKHgxLCB4MikgPCAyICYmIChjb2xvciA9PT0gJ3doaXRlJyA/ICh5MiA9PT0geTEgKyAxIHx8ICh5MSA8PSAxICYmIHkyID09PSAoeTEgKyAyKSAmJiB4MSA9PT0geDIpKSA6ICh5MiA9PT0geTEgLSAxIHx8ICh5MSA+PSA2ICYmIHkyID09PSAoeTEgLSAyKSAmJiB4MSA9PT0geDIpKSk7XG59XG5leHBvcnRzLmtuaWdodCA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICAgIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICAgIGNvbnN0IHlkID0gZGlmZih5MSwgeTIpO1xuICAgIHJldHVybiAoeGQgPT09IDEgJiYgeWQgPT09IDIpIHx8ICh4ZCA9PT0gMiAmJiB5ZCA9PT0gMSk7XG59O1xuY29uc3QgYmlzaG9wID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gICAgcmV0dXJuIGRpZmYoeDEsIHgyKSA9PT0gZGlmZih5MSwgeTIpO1xufTtcbmNvbnN0IHJvb2sgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgICByZXR1cm4geDEgPT09IHgyIHx8IHkxID09PSB5Mjtcbn07XG5leHBvcnRzLmVsZXBoYW50ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gICAgcmV0dXJuIGJpc2hvcCh4MSwgeTEsIHgyLCB5MikgfHwgcm9vayh4MSwgeTEsIHgyLCB5MikgfHwgZXhwb3J0cy5rbmlnaHQoeDEsIHgyLCB5MSwgeTIpO1xufTtcbmV4cG9ydHMucXVlZW4gPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgICByZXR1cm4gYmlzaG9wKHgxLCB5MSwgeDIsIHkyKSB8fCByb29rKHgxLCB5MSwgeDIsIHkyKTtcbn07XG5mdW5jdGlvbiBraW5nKGNvbG9yLCByb29rRmlsZXMsIGNhbkNhc3RsZSkge1xuICAgIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IChkaWZmKHgxLCB4MikgPCAyICYmIGRpZmYoeTEsIHkyKSA8IDIpIHx8IChjYW5DYXN0bGUgJiYgeTEgPT09IHkyICYmIHkxID09PSAoY29sb3IgPT09ICd3aGl0ZScgPyAwIDogNykgJiYgKCh4MSA9PT0gNCAmJiAoKHgyID09PSAyICYmIHJvb2tGaWxlcy5pbmNsdWRlcygwKSkgfHwgKHgyID09PSA2ICYmIHJvb2tGaWxlcy5pbmNsdWRlcyg3KSkpKSB8fFxuICAgICAgICByb29rRmlsZXMuaW5jbHVkZXMoeDIpKSk7XG59XG5mdW5jdGlvbiByb29rRmlsZXNPZihwaWVjZXMsIGNvbG9yKSB7XG4gICAgY29uc3QgYmFja3JhbmsgPSBjb2xvciA9PT0gJ3doaXRlJyA/ICcxJyA6ICc4JztcbiAgICBjb25zdCBmaWxlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgW2tleSwgcGllY2VdIG9mIHBpZWNlcykge1xuICAgICAgICBpZiAoa2V5WzFdID09PSBiYWNrcmFuayAmJiBwaWVjZS5jb2xvciA9PT0gY29sb3IgJiYgcGllY2Uucm9sZSA9PT0gJ3Jvb2snKSB7XG4gICAgICAgICAgICBmaWxlcy5wdXNoKHV0aWwua2V5MnBvcyhrZXkpWzBdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmlsZXM7XG59XG5mdW5jdGlvbiBwcmVtb3ZlKHBpZWNlcywga2V5LCBjYW5DYXN0bGUpIHtcbiAgICBjb25zdCBwaWVjZSA9IHBpZWNlcy5nZXQoa2V5KTtcbiAgICBpZiAoIXBpZWNlKVxuICAgICAgICByZXR1cm4gW107XG4gICAgY29uc3QgcG9zID0gdXRpbC5rZXkycG9zKGtleSksIHIgPSBwaWVjZS5yb2xlLCBtb2JpbGl0eSA9IHIgPT09ICdwYXduJyA/IHBhd24ocGllY2UuY29sb3IpIDogKHIgPT09ICdrbmlnaHQnID8gZXhwb3J0cy5rbmlnaHQgOiAociA9PT0gJ2Jpc2hvcCcgPyBiaXNob3AgOiAociA9PT0gJ3Jvb2snID8gcm9vayA6IChyID09PSAnZWxlcGhhbnQnID8gZXhwb3J0cy5lbGVwaGFudCA6IChyID09PSAncXVlZW4nID8gZXhwb3J0cy5xdWVlbiA6XG4gICAgICAgIGtpbmcocGllY2UuY29sb3IsIHJvb2tGaWxlc09mKHBpZWNlcywgcGllY2UuY29sb3IpLCBjYW5DYXN0bGUpKSkpKSk7XG4gICAgcmV0dXJuIHV0aWwuYWxsUG9zLmZpbHRlcihwb3MyID0+IChwb3NbMF0gIT09IHBvczJbMF0gfHwgcG9zWzFdICE9PSBwb3MyWzFdKSAmJiBtb2JpbGl0eShwb3NbMF0sIHBvc1sxXSwgcG9zMlswXSwgcG9zMlsxXSkpLm1hcCh1dGlsLnBvczJrZXkpO1xufVxuZXhwb3J0cy5wcmVtb3ZlID0gcHJlbW92ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByZW1vdmUuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9lY2hlc3Nncm91bmQvcHJlbW92ZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n");

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.updateBounds = exports.render = void 0;\nvar util_1 = __webpack_require__(0);\nvar board_1 = __webpack_require__(1);\nvar util = __webpack_require__(0);\nfunction render(s) {\n    var asWhite = board_1.whitePov(s),\n        posToTranslate = s.dom.relative ? util.posToTranslateRel : util.posToTranslateAbs(s.dom.bounds()),\n        translate = s.dom.relative ? util.translateRel : util.translateAbs,\n        boardEl = s.dom.elements.board,\n        pieces = s.pieces,\n        curAnim = s.animation.current,\n        anims = curAnim ? curAnim.plan.anims : new Map(),\n        fadings = curAnim ? curAnim.plan.fadings : new Map(),\n        curDrag = s.draggable.current,\n        squares = computeSquareClasses(s),\n        samePieces = new Set(),\n        sameSquares = new Set(),\n        movedPieces = new Map(),\n        movedSquares = new Map();\n    var k = void 0,\n        el = void 0,\n        pieceAtKey = void 0,\n        elPieceName = void 0,\n        anim = void 0,\n        fading = void 0,\n        pMvdset = void 0,\n        pMvd = void 0,\n        sMvdset = void 0,\n        sMvd = void 0;\n    el = boardEl.firstChild;\n    while (el) {\n        k = el.cgKey;\n        if (isPieceNode(el)) {\n            pieceAtKey = pieces.get(k);\n            anim = anims.get(k);\n            fading = fadings.get(k);\n            elPieceName = el.cgPiece;\n            if (el.cgDragging && (!curDrag || curDrag.orig !== k)) {\n                el.classList.remove('dragging');\n                translate(el, posToTranslate(util_1.key2pos(k), asWhite));\n                el.cgDragging = false;\n            }\n            if (!fading && el.cgFading) {\n                el.cgFading = false;\n                el.classList.remove('fading');\n            }\n            if (pieceAtKey) {\n                if (anim && el.cgAnimating && elPieceName === pieceNameOf(pieceAtKey)) {\n                    var pos = util_1.key2pos(k);\n                    pos[0] += anim[2];\n                    pos[1] += anim[3];\n                    el.classList.add('anim');\n                    translate(el, posToTranslate(pos, asWhite));\n                } else if (el.cgAnimating) {\n                    el.cgAnimating = false;\n                    el.classList.remove('anim');\n                    translate(el, posToTranslate(util_1.key2pos(k), asWhite));\n                    if (s.addPieceZIndex) el.style.zIndex = posZIndex(util_1.key2pos(k), asWhite);\n                }\n                if (elPieceName === pieceNameOf(pieceAtKey) && (!fading || !el.cgFading)) {\n                    samePieces.add(k);\n                } else {\n                    if (fading && elPieceName === pieceNameOf(fading)) {\n                        el.classList.add('fading');\n                        el.cgFading = true;\n                    } else {\n                        appendValue(movedPieces, elPieceName, el);\n                    }\n                }\n            } else {\n                appendValue(movedPieces, elPieceName, el);\n            }\n        } else if (isSquareNode(el)) {\n            var cn = el.className;\n            if (squares.get(k) === cn) sameSquares.add(k);else appendValue(movedSquares, cn, el);\n        }\n        el = el.nextSibling;\n    }\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = squares[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var _step$value = _slicedToArray(_step.value, 2),\n                sk = _step$value[0],\n                className = _step$value[1];\n\n            if (!sameSquares.has(sk)) {\n                sMvdset = movedSquares.get(className);\n                sMvd = sMvdset && sMvdset.pop();\n                var translation = posToTranslate(util_1.key2pos(sk), asWhite);\n                if (sMvd) {\n                    sMvd.cgKey = sk;\n                    translate(sMvd, translation);\n                } else {\n                    var squareNode = util_1.createEl('square', className);\n                    squareNode.cgKey = sk;\n                    translate(squareNode, translation);\n                    boardEl.insertBefore(squareNode, boardEl.firstChild);\n                }\n            }\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n        for (var _iterator2 = pieces[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var _step2$value = _slicedToArray(_step2.value, 2),\n                _k = _step2$value[0],\n                p = _step2$value[1];\n\n            anim = anims.get(_k);\n            if (!samePieces.has(_k)) {\n                pMvdset = movedPieces.get(pieceNameOf(p));\n                pMvd = pMvdset && pMvdset.pop();\n                if (pMvd) {\n                    pMvd.cgKey = _k;\n                    if (pMvd.cgFading) {\n                        pMvd.classList.remove('fading');\n                        pMvd.cgFading = false;\n                    }\n                    var _pos = util_1.key2pos(_k);\n                    if (s.addPieceZIndex) pMvd.style.zIndex = posZIndex(_pos, asWhite);\n                    if (anim) {\n                        pMvd.cgAnimating = true;\n                        pMvd.classList.add('anim');\n                        _pos[0] += anim[2];\n                        _pos[1] += anim[3];\n                    }\n                    translate(pMvd, posToTranslate(_pos, asWhite));\n                } else {\n                    var pieceName = pieceNameOf(p),\n                        pieceNode = util_1.createEl('piece', pieceName),\n                        _pos2 = util_1.key2pos(_k);\n                    pieceNode.cgPiece = pieceName;\n                    pieceNode.cgKey = _k;\n                    if (anim) {\n                        pieceNode.cgAnimating = true;\n                        _pos2[0] += anim[2];\n                        _pos2[1] += anim[3];\n                    }\n                    translate(pieceNode, posToTranslate(_pos2, asWhite));\n                    if (s.addPieceZIndex) pieceNode.style.zIndex = posZIndex(_pos2, asWhite);\n                    boardEl.appendChild(pieceNode);\n                }\n            }\n        }\n    } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n            }\n        } finally {\n            if (_didIteratorError2) {\n                throw _iteratorError2;\n            }\n        }\n    }\n\n    var _iteratorNormalCompletion3 = true;\n    var _didIteratorError3 = false;\n    var _iteratorError3 = undefined;\n\n    try {\n        for (var _iterator3 = movedPieces.values()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            var nodes = _step3.value;\n\n            removeNodes(s, nodes);\n        }\n    } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                _iterator3.return();\n            }\n        } finally {\n            if (_didIteratorError3) {\n                throw _iteratorError3;\n            }\n        }\n    }\n\n    var _iteratorNormalCompletion4 = true;\n    var _didIteratorError4 = false;\n    var _iteratorError4 = undefined;\n\n    try {\n        for (var _iterator4 = movedSquares.values()[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var _nodes = _step4.value;\n\n            removeNodes(s, _nodes);\n        }\n    } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                _iterator4.return();\n            }\n        } finally {\n            if (_didIteratorError4) {\n                throw _iteratorError4;\n            }\n        }\n    }\n}\nexports.render = render;\nfunction updateBounds(s) {\n    if (s.dom.relative) return;\n    var asWhite = board_1.whitePov(s),\n        posToTranslate = util.posToTranslateAbs(s.dom.bounds());\n    var el = s.dom.elements.board.firstChild;\n    while (el) {\n        if (isPieceNode(el) && !el.cgAnimating || isSquareNode(el)) {\n            util.translateAbs(el, posToTranslate(util_1.key2pos(el.cgKey), asWhite));\n        }\n        el = el.nextSibling;\n    }\n}\nexports.updateBounds = updateBounds;\nfunction isPieceNode(el) {\n    return el.tagName === 'PIECE';\n}\nfunction isSquareNode(el) {\n    return el.tagName === 'SQUARE';\n}\nfunction removeNodes(s, nodes) {\n    var _iteratorNormalCompletion5 = true;\n    var _didIteratorError5 = false;\n    var _iteratorError5 = undefined;\n\n    try {\n        for (var _iterator5 = nodes[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n            var node = _step5.value;\n\n            s.dom.elements.board.removeChild(node);\n        }\n    } catch (err) {\n        _didIteratorError5 = true;\n        _iteratorError5 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                _iterator5.return();\n            }\n        } finally {\n            if (_didIteratorError5) {\n                throw _iteratorError5;\n            }\n        }\n    }\n}\nfunction posZIndex(pos, asWhite) {\n    var z = 2 + pos[1] * 8 + (7 - pos[0]);\n    if (asWhite) z = 67 - z;\n    return z + '';\n}\nfunction pieceNameOf(piece) {\n    return piece.color + \" \" + piece.role;\n}\nfunction computeSquareClasses(s) {\n    var _a;\n    var squares = new Map();\n    if (s.lastMove && s.highlight.lastMove) {\n        var _iteratorNormalCompletion6 = true;\n        var _didIteratorError6 = false;\n        var _iteratorError6 = undefined;\n\n        try {\n            for (var _iterator6 = s.lastMove[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n                var _k2 = _step6.value;\n\n                addSquare(squares, _k2, 'last-move');\n            }\n        } catch (err) {\n            _didIteratorError6 = true;\n            _iteratorError6 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion6 && _iterator6.return) {\n                    _iterator6.return();\n                }\n            } finally {\n                if (_didIteratorError6) {\n                    throw _iteratorError6;\n                }\n            }\n        }\n    }if (s.check && s.highlight.check) addSquare(squares, s.check, 'check');\n    if (s.selected) {\n        addSquare(squares, s.selected, 'selected');\n        if (s.movable.showDests) {\n            var dests = (_a = s.movable.dests) === null || _a === void 0 ? void 0 : _a.get(s.selected);\n            if (dests) {\n                var _iteratorNormalCompletion7 = true;\n                var _didIteratorError7 = false;\n                var _iteratorError7 = undefined;\n\n                try {\n                    for (var _iterator7 = dests[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n                        var _k3 = _step7.value;\n\n                        addSquare(squares, _k3, 'move-dest' + (s.pieces.has(_k3) ? ' oc' : ''));\n                    }\n                } catch (err) {\n                    _didIteratorError7 = true;\n                    _iteratorError7 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion7 && _iterator7.return) {\n                            _iterator7.return();\n                        }\n                    } finally {\n                        if (_didIteratorError7) {\n                            throw _iteratorError7;\n                        }\n                    }\n                }\n            }var pDests = s.premovable.dests;\n            if (pDests) {\n                var _iteratorNormalCompletion8 = true;\n                var _didIteratorError8 = false;\n                var _iteratorError8 = undefined;\n\n                try {\n                    for (var _iterator8 = pDests[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n                        var _k4 = _step8.value;\n\n                        addSquare(squares, _k4, 'premove-dest' + (s.pieces.has(_k4) ? ' oc' : ''));\n                    }\n                } catch (err) {\n                    _didIteratorError8 = true;\n                    _iteratorError8 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion8 && _iterator8.return) {\n                            _iterator8.return();\n                        }\n                    } finally {\n                        if (_didIteratorError8) {\n                            throw _iteratorError8;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    var premove = s.premovable.current;\n    if (premove) {\n        var _iteratorNormalCompletion9 = true;\n        var _didIteratorError9 = false;\n        var _iteratorError9 = undefined;\n\n        try {\n            for (var _iterator9 = premove[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n                var _k5 = _step9.value;\n\n                addSquare(squares, _k5, 'current-premove');\n            }\n        } catch (err) {\n            _didIteratorError9 = true;\n            _iteratorError9 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion9 && _iterator9.return) {\n                    _iterator9.return();\n                }\n            } finally {\n                if (_didIteratorError9) {\n                    throw _iteratorError9;\n                }\n            }\n        }\n    } else if (s.predroppable.current) addSquare(squares, s.predroppable.current.key, 'current-premove');\n    var o = s.exploding;\n    if (o) {\n        var _iteratorNormalCompletion10 = true;\n        var _didIteratorError10 = false;\n        var _iteratorError10 = undefined;\n\n        try {\n            for (var _iterator10 = o.keys[Symbol.iterator](), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true) {\n                var _k6 = _step10.value;\n\n                addSquare(squares, _k6, 'exploding' + o.stage);\n            }\n        } catch (err) {\n            _didIteratorError10 = true;\n            _iteratorError10 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion10 && _iterator10.return) {\n                    _iterator10.return();\n                }\n            } finally {\n                if (_didIteratorError10) {\n                    throw _iteratorError10;\n                }\n            }\n        }\n    }return squares;\n}\nfunction addSquare(squares, key, klass) {\n    var classes = squares.get(key);\n    if (classes) squares.set(key, classes + \" \" + klass);else squares.set(key, klass);\n}\nfunction appendValue(map, key, value) {\n    var arr = map.get(key);\n    if (arr) arr.push(value);else map.set(key, [value]);\n}\n//# sourceMappingURL=render.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VjaGVzc2dyb3VuZC9yZW5kZXIuanM/NTc0NSJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInVwZGF0ZUJvdW5kcyIsInJlbmRlciIsInV0aWxfMSIsInJlcXVpcmUiLCJib2FyZF8xIiwidXRpbCIsInMiLCJhc1doaXRlIiwid2hpdGVQb3YiLCJwb3NUb1RyYW5zbGF0ZSIsImRvbSIsInJlbGF0aXZlIiwicG9zVG9UcmFuc2xhdGVSZWwiLCJwb3NUb1RyYW5zbGF0ZUFicyIsImJvdW5kcyIsInRyYW5zbGF0ZSIsInRyYW5zbGF0ZVJlbCIsInRyYW5zbGF0ZUFicyIsImJvYXJkRWwiLCJlbGVtZW50cyIsImJvYXJkIiwicGllY2VzIiwiY3VyQW5pbSIsImFuaW1hdGlvbiIsImN1cnJlbnQiLCJhbmltcyIsInBsYW4iLCJNYXAiLCJmYWRpbmdzIiwiY3VyRHJhZyIsImRyYWdnYWJsZSIsInNxdWFyZXMiLCJjb21wdXRlU3F1YXJlQ2xhc3NlcyIsInNhbWVQaWVjZXMiLCJTZXQiLCJzYW1lU3F1YXJlcyIsIm1vdmVkUGllY2VzIiwibW92ZWRTcXVhcmVzIiwiayIsImVsIiwicGllY2VBdEtleSIsImVsUGllY2VOYW1lIiwiYW5pbSIsImZhZGluZyIsInBNdmRzZXQiLCJwTXZkIiwic012ZHNldCIsInNNdmQiLCJmaXJzdENoaWxkIiwiY2dLZXkiLCJpc1BpZWNlTm9kZSIsImdldCIsImNnUGllY2UiLCJjZ0RyYWdnaW5nIiwib3JpZyIsImNsYXNzTGlzdCIsInJlbW92ZSIsImtleTJwb3MiLCJjZ0ZhZGluZyIsImNnQW5pbWF0aW5nIiwicGllY2VOYW1lT2YiLCJwb3MiLCJhZGQiLCJhZGRQaWVjZVpJbmRleCIsInN0eWxlIiwiekluZGV4IiwicG9zWkluZGV4IiwiYXBwZW5kVmFsdWUiLCJpc1NxdWFyZU5vZGUiLCJjbiIsImNsYXNzTmFtZSIsIm5leHRTaWJsaW5nIiwic2siLCJoYXMiLCJwb3AiLCJ0cmFuc2xhdGlvbiIsInNxdWFyZU5vZGUiLCJjcmVhdGVFbCIsImluc2VydEJlZm9yZSIsInAiLCJwaWVjZU5hbWUiLCJwaWVjZU5vZGUiLCJhcHBlbmRDaGlsZCIsInZhbHVlcyIsIm5vZGVzIiwicmVtb3ZlTm9kZXMiLCJ0YWdOYW1lIiwibm9kZSIsInJlbW92ZUNoaWxkIiwieiIsInBpZWNlIiwiY29sb3IiLCJyb2xlIiwiX2EiLCJsYXN0TW92ZSIsImhpZ2hsaWdodCIsImFkZFNxdWFyZSIsImNoZWNrIiwic2VsZWN0ZWQiLCJtb3ZhYmxlIiwic2hvd0Rlc3RzIiwiZGVzdHMiLCJwRGVzdHMiLCJwcmVtb3ZhYmxlIiwicHJlbW92ZSIsInByZWRyb3BwYWJsZSIsImtleSIsIm8iLCJleHBsb2RpbmciLCJrZXlzIiwic3RhZ2UiLCJrbGFzcyIsImNsYXNzZXMiLCJzZXQiLCJtYXAiLCJhcnIiLCJwdXNoIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQUQsUUFBUUUsWUFBUixHQUF1QkYsUUFBUUcsTUFBUixHQUFpQixLQUFLLENBQTdDO0FBQ0EsSUFBTUMsU0FBUyxtQkFBQUMsQ0FBUSxDQUFSLENBQWY7QUFDQSxJQUFNQyxVQUFVLG1CQUFBRCxDQUFRLENBQVIsQ0FBaEI7QUFDQSxJQUFNRSxPQUFPLG1CQUFBRixDQUFRLENBQVIsQ0FBYjtBQUNBLFNBQVNGLE1BQVQsQ0FBZ0JLLENBQWhCLEVBQW1CO0FBQ2YsUUFBTUMsVUFBVUgsUUFBUUksUUFBUixDQUFpQkYsQ0FBakIsQ0FBaEI7QUFBQSxRQUFxQ0csaUJBQWlCSCxFQUFFSSxHQUFGLENBQU1DLFFBQU4sR0FBaUJOLEtBQUtPLGlCQUF0QixHQUEwQ1AsS0FBS1EsaUJBQUwsQ0FBdUJQLEVBQUVJLEdBQUYsQ0FBTUksTUFBTixFQUF2QixDQUFoRztBQUFBLFFBQXdJQyxZQUFZVCxFQUFFSSxH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TUMsSUFBSXJHLEVBQUVzRyxTQUFaO0FBQ0EsUUFBSUQsQ0FBSjtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUNJLG1DQUFnQkEsRUFBRUUsSUFBbEI7QUFBQSxvQkFBV3ZFLEdBQVg7O0FBQ0kwRCwwQkFBVWpFLE9BQVYsRUFBbUJPLEdBQW5CLEVBQXNCLGNBQWNxRSxFQUFFRyxLQUF0QztBQURKO0FBREo7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEtBR0EsT0FBTy9FLE9BQVA7QUFDSDtBQUNELFNBQVNpRSxTQUFULENBQW1CakUsT0FBbkIsRUFBNEIyRSxHQUE1QixFQUFpQ0ssS0FBakMsRUFBd0M7QUFDcEMsUUFBTUMsVUFBVWpGLFFBQVFvQixHQUFSLENBQVl1RCxHQUFaLENBQWhCO0FBQ0EsUUFBSU0sT0FBSixFQUNJakYsUUFBUWtGLEdBQVIsQ0FBWVAsR0FBWixFQUFvQk0sT0FBcEIsU0FBK0JELEtBQS9CLEVBREosS0FHSWhGLFFBQVFrRixHQUFSLENBQVlQLEdBQVosRUFBaUJLLEtBQWpCO0FBQ1A7QUFDRCxTQUFTNUMsV0FBVCxDQUFxQitDLEdBQXJCLEVBQTBCUixHQUExQixFQUErQjNHLEtBQS9CLEVBQXNDO0FBQ2xDLFFBQU1vSCxNQUFNRCxJQUFJL0QsR0FBSixDQUFRdUQsR0FBUixDQUFaO0FBQ0EsUUFBSVMsR0FBSixFQUNJQSxJQUFJQyxJQUFKLENBQVNySCxLQUFULEVBREosS0FHSW1ILElBQUlELEdBQUosQ0FBUVAsR0FBUixFQUFhLENBQUMzRyxLQUFELENBQWI7QUFDUDtBQUNEIiwiZmlsZSI6IjE4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnVwZGF0ZUJvdW5kcyA9IGV4cG9ydHMucmVuZGVyID0gdm9pZCAwO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbmNvbnN0IGJvYXJkXzEgPSByZXF1aXJlKFwiLi9ib2FyZFwiKTtcbmNvbnN0IHV0aWwgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuZnVuY3Rpb24gcmVuZGVyKHMpIHtcbiAgICBjb25zdCBhc1doaXRlID0gYm9hcmRfMS53aGl0ZVBvdihzKSwgcG9zVG9UcmFuc2xhdGUgPSBzLmRvbS5yZWxhdGl2ZSA/IHV0aWwucG9zVG9UcmFuc2xhdGVSZWwgOiB1dGlsLnBvc1RvVHJhbnNsYXRlQWJzKHMuZG9tLmJvdW5kcygpKSwgdHJhbnNsYXRlID0gcy5kb20ucmVsYXRpdmUgPyB1dGlsLnRyYW5zbGF0ZVJlbCA6IHV0aWwudHJhbnNsYXRlQWJzLCBib2FyZEVsID0gcy5kb20uZWxlbWVudHMuYm9hcmQsIHBpZWNlcyA9IHMucGllY2VzLCBjdXJBbmltID0gcy5hbmltYXRpb24uY3VycmVudCwgYW5pbXMgPSBjdXJBbmltID8gY3VyQW5pbS5wbGFuLmFuaW1zIDogbmV3IE1hcCgpLCBmYWRpbmdzID0gY3VyQW5pbSA/IGN1ckFuaW0ucGxhbi5mYWRpbmdzIDogbmV3IE1hcCgpLCBjdXJEcmFnID0gcy5kcmFnZ2FibGUuY3VycmVudCwgc3F1YXJlcyA9IGNvbXB1dGVTcXVhcmVDbGFzc2VzKHMpLCBzYW1lUGllY2VzID0gbmV3IFNldCgpLCBzYW1lU3F1YXJlcyA9IG5ldyBTZXQoKSwgbW92ZWRQaWVjZXMgPSBuZXcgTWFwKCksIG1vdmVkU3F1YXJlcyA9IG5ldyBNYXAoKTtcbiAgICBsZXQgaywgZWwsIHBpZWNlQXRLZXksIGVsUGllY2VOYW1lLCBhbmltLCBmYWRpbmcsIHBNdmRzZXQsIHBNdmQsIHNNdmRzZXQsIHNNdmQ7XG4gICAgZWwgPSBib2FyZEVsLmZpcnN0Q2hpbGQ7XG4gICAgd2hpbGUgKGVsKSB7XG4gICAgICAgIGsgPSBlbC5jZ0tleTtcbiAgICAgICAgaWYgKGlzUGllY2VOb2RlKGVsKSkge1xuICAgICAgICAgICAgcGllY2VBdEtleSA9IHBpZWNlcy5nZXQoayk7XG4gICAgICAgICAgICBhbmltID0gYW5pbXMuZ2V0KGspO1xuICAgICAgICAgICAgZmFkaW5nID0gZmFkaW5ncy5nZXQoayk7XG4gICAgICAgICAgICBlbFBpZWNlTmFtZSA9IGVsLmNnUGllY2U7XG4gICAgICAgICAgICBpZiAoZWwuY2dEcmFnZ2luZyAmJiAoIWN1ckRyYWcgfHwgY3VyRHJhZy5vcmlnICE9PSBrKSkge1xuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdnaW5nJyk7XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlKGVsLCBwb3NUb1RyYW5zbGF0ZSh1dGlsXzEua2V5MnBvcyhrKSwgYXNXaGl0ZSkpO1xuICAgICAgICAgICAgICAgIGVsLmNnRHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZmFkaW5nICYmIGVsLmNnRmFkaW5nKSB7XG4gICAgICAgICAgICAgICAgZWwuY2dGYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdmYWRpbmcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwaWVjZUF0S2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKGFuaW0gJiYgZWwuY2dBbmltYXRpbmcgJiYgZWxQaWVjZU5hbWUgPT09IHBpZWNlTmFtZU9mKHBpZWNlQXRLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvcyA9IHV0aWxfMS5rZXkycG9zKGspO1xuICAgICAgICAgICAgICAgICAgICBwb3NbMF0gKz0gYW5pbVsyXTtcbiAgICAgICAgICAgICAgICAgICAgcG9zWzFdICs9IGFuaW1bM107XG4gICAgICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2FuaW0nKTtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlKGVsLCBwb3NUb1RyYW5zbGF0ZShwb3MsIGFzV2hpdGUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZWwuY2dBbmltYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuY2dBbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYW5pbScpO1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGUoZWwsIHBvc1RvVHJhbnNsYXRlKHV0aWxfMS5rZXkycG9zKGspLCBhc1doaXRlKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzLmFkZFBpZWNlWkluZGV4KVxuICAgICAgICAgICAgICAgICAgICAgICAgZWwuc3R5bGUuekluZGV4ID0gcG9zWkluZGV4KHV0aWxfMS5rZXkycG9zKGspLCBhc1doaXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVsUGllY2VOYW1lID09PSBwaWVjZU5hbWVPZihwaWVjZUF0S2V5KSAmJiAoIWZhZGluZyB8fCAhZWwuY2dGYWRpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNhbWVQaWVjZXMuYWRkKGspO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZhZGluZyAmJiBlbFBpZWNlTmFtZSA9PT0gcGllY2VOYW1lT2YoZmFkaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnZmFkaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbC5jZ0ZhZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRWYWx1ZShtb3ZlZFBpZWNlcywgZWxQaWVjZU5hbWUsIGVsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFwcGVuZFZhbHVlKG1vdmVkUGllY2VzLCBlbFBpZWNlTmFtZSwgZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU3F1YXJlTm9kZShlbCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNuID0gZWwuY2xhc3NOYW1lO1xuICAgICAgICAgICAgaWYgKHNxdWFyZXMuZ2V0KGspID09PSBjbilcbiAgICAgICAgICAgICAgICBzYW1lU3F1YXJlcy5hZGQoayk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgYXBwZW5kVmFsdWUobW92ZWRTcXVhcmVzLCBjbiwgZWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsID0gZWwubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIGZvciAoY29uc3QgW3NrLCBjbGFzc05hbWVdIG9mIHNxdWFyZXMpIHtcbiAgICAgICAgaWYgKCFzYW1lU3F1YXJlcy5oYXMoc2spKSB7XG4gICAgICAgICAgICBzTXZkc2V0ID0gbW92ZWRTcXVhcmVzLmdldChjbGFzc05hbWUpO1xuICAgICAgICAgICAgc012ZCA9IHNNdmRzZXQgJiYgc012ZHNldC5wb3AoKTtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zbGF0aW9uID0gcG9zVG9UcmFuc2xhdGUodXRpbF8xLmtleTJwb3Moc2spLCBhc1doaXRlKTtcbiAgICAgICAgICAgIGlmIChzTXZkKSB7XG4gICAgICAgICAgICAgICAgc012ZC5jZ0tleSA9IHNrO1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZShzTXZkLCB0cmFuc2xhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzcXVhcmVOb2RlID0gdXRpbF8xLmNyZWF0ZUVsKCdzcXVhcmUnLCBjbGFzc05hbWUpO1xuICAgICAgICAgICAgICAgIHNxdWFyZU5vZGUuY2dLZXkgPSBzaztcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGUoc3F1YXJlTm9kZSwgdHJhbnNsYXRpb24pO1xuICAgICAgICAgICAgICAgIGJvYXJkRWwuaW5zZXJ0QmVmb3JlKHNxdWFyZU5vZGUsIGJvYXJkRWwuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBbaywgcF0gb2YgcGllY2VzKSB7XG4gICAgICAgIGFuaW0gPSBhbmltcy5nZXQoayk7XG4gICAgICAgIGlmICghc2FtZVBpZWNlcy5oYXMoaykpIHtcbiAgICAgICAgICAgIHBNdmRzZXQgPSBtb3ZlZFBpZWNlcy5nZXQocGllY2VOYW1lT2YocCkpO1xuICAgICAgICAgICAgcE12ZCA9IHBNdmRzZXQgJiYgcE12ZHNldC5wb3AoKTtcbiAgICAgICAgICAgIGlmIChwTXZkKSB7XG4gICAgICAgICAgICAgICAgcE12ZC5jZ0tleSA9IGs7XG4gICAgICAgICAgICAgICAgaWYgKHBNdmQuY2dGYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcE12ZC5jbGFzc0xpc3QucmVtb3ZlKCdmYWRpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgcE12ZC5jZ0ZhZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwb3MgPSB1dGlsXzEua2V5MnBvcyhrKTtcbiAgICAgICAgICAgICAgICBpZiAocy5hZGRQaWVjZVpJbmRleClcbiAgICAgICAgICAgICAgICAgICAgcE12ZC5zdHlsZS56SW5kZXggPSBwb3NaSW5kZXgocG9zLCBhc1doaXRlKTtcbiAgICAgICAgICAgICAgICBpZiAoYW5pbSkge1xuICAgICAgICAgICAgICAgICAgICBwTXZkLmNnQW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcE12ZC5jbGFzc0xpc3QuYWRkKCdhbmltJyk7XG4gICAgICAgICAgICAgICAgICAgIHBvc1swXSArPSBhbmltWzJdO1xuICAgICAgICAgICAgICAgICAgICBwb3NbMV0gKz0gYW5pbVszXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlKHBNdmQsIHBvc1RvVHJhbnNsYXRlKHBvcywgYXNXaGl0ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGllY2VOYW1lID0gcGllY2VOYW1lT2YocCksIHBpZWNlTm9kZSA9IHV0aWxfMS5jcmVhdGVFbCgncGllY2UnLCBwaWVjZU5hbWUpLCBwb3MgPSB1dGlsXzEua2V5MnBvcyhrKTtcbiAgICAgICAgICAgICAgICBwaWVjZU5vZGUuY2dQaWVjZSA9IHBpZWNlTmFtZTtcbiAgICAgICAgICAgICAgICBwaWVjZU5vZGUuY2dLZXkgPSBrO1xuICAgICAgICAgICAgICAgIGlmIChhbmltKSB7XG4gICAgICAgICAgICAgICAgICAgIHBpZWNlTm9kZS5jZ0FuaW1hdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHBvc1swXSArPSBhbmltWzJdO1xuICAgICAgICAgICAgICAgICAgICBwb3NbMV0gKz0gYW5pbVszXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlKHBpZWNlTm9kZSwgcG9zVG9UcmFuc2xhdGUocG9zLCBhc1doaXRlKSk7XG4gICAgICAgICAgICAgICAgaWYgKHMuYWRkUGllY2VaSW5kZXgpXG4gICAgICAgICAgICAgICAgICAgIHBpZWNlTm9kZS5zdHlsZS56SW5kZXggPSBwb3NaSW5kZXgocG9zLCBhc1doaXRlKTtcbiAgICAgICAgICAgICAgICBib2FyZEVsLmFwcGVuZENoaWxkKHBpZWNlTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBub2RlcyBvZiBtb3ZlZFBpZWNlcy52YWx1ZXMoKSlcbiAgICAgICAgcmVtb3ZlTm9kZXMocywgbm9kZXMpO1xuICAgIGZvciAoY29uc3Qgbm9kZXMgb2YgbW92ZWRTcXVhcmVzLnZhbHVlcygpKVxuICAgICAgICByZW1vdmVOb2RlcyhzLCBub2Rlcyk7XG59XG5leHBvcnRzLnJlbmRlciA9IHJlbmRlcjtcbmZ1bmN0aW9uIHVwZGF0ZUJvdW5kcyhzKSB7XG4gICAgaWYgKHMuZG9tLnJlbGF0aXZlKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgYXNXaGl0ZSA9IGJvYXJkXzEud2hpdGVQb3YocyksIHBvc1RvVHJhbnNsYXRlID0gdXRpbC5wb3NUb1RyYW5zbGF0ZUFicyhzLmRvbS5ib3VuZHMoKSk7XG4gICAgbGV0IGVsID0gcy5kb20uZWxlbWVudHMuYm9hcmQuZmlyc3RDaGlsZDtcbiAgICB3aGlsZSAoZWwpIHtcbiAgICAgICAgaWYgKChpc1BpZWNlTm9kZShlbCkgJiYgIWVsLmNnQW5pbWF0aW5nKSB8fCBpc1NxdWFyZU5vZGUoZWwpKSB7XG4gICAgICAgICAgICB1dGlsLnRyYW5zbGF0ZUFicyhlbCwgcG9zVG9UcmFuc2xhdGUodXRpbF8xLmtleTJwb3MoZWwuY2dLZXkpLCBhc1doaXRlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWwgPSBlbC5uZXh0U2libGluZztcbiAgICB9XG59XG5leHBvcnRzLnVwZGF0ZUJvdW5kcyA9IHVwZGF0ZUJvdW5kcztcbmZ1bmN0aW9uIGlzUGllY2VOb2RlKGVsKSB7XG4gICAgcmV0dXJuIGVsLnRhZ05hbWUgPT09ICdQSUVDRSc7XG59XG5mdW5jdGlvbiBpc1NxdWFyZU5vZGUoZWwpIHtcbiAgICByZXR1cm4gZWwudGFnTmFtZSA9PT0gJ1NRVUFSRSc7XG59XG5mdW5jdGlvbiByZW1vdmVOb2RlcyhzLCBub2Rlcykge1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBub2RlcylcbiAgICAgICAgcy5kb20uZWxlbWVudHMuYm9hcmQucmVtb3ZlQ2hpbGQobm9kZSk7XG59XG5mdW5jdGlvbiBwb3NaSW5kZXgocG9zLCBhc1doaXRlKSB7XG4gICAgbGV0IHogPSAyICsgcG9zWzFdICogOCArICg3IC0gcG9zWzBdKTtcbiAgICBpZiAoYXNXaGl0ZSlcbiAgICAgICAgeiA9IDY3IC0gejtcbiAgICByZXR1cm4geiArICcnO1xufVxuZnVuY3Rpb24gcGllY2VOYW1lT2YocGllY2UpIHtcbiAgICByZXR1cm4gYCR7cGllY2UuY29sb3J9ICR7cGllY2Uucm9sZX1gO1xufVxuZnVuY3Rpb24gY29tcHV0ZVNxdWFyZUNsYXNzZXMocykge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBzcXVhcmVzID0gbmV3IE1hcCgpO1xuICAgIGlmIChzLmxhc3RNb3ZlICYmIHMuaGlnaGxpZ2h0Lmxhc3RNb3ZlKVxuICAgICAgICBmb3IgKGNvbnN0IGsgb2Ygcy5sYXN0TW92ZSkge1xuICAgICAgICAgICAgYWRkU3F1YXJlKHNxdWFyZXMsIGssICdsYXN0LW1vdmUnKTtcbiAgICAgICAgfVxuICAgIGlmIChzLmNoZWNrICYmIHMuaGlnaGxpZ2h0LmNoZWNrKVxuICAgICAgICBhZGRTcXVhcmUoc3F1YXJlcywgcy5jaGVjaywgJ2NoZWNrJyk7XG4gICAgaWYgKHMuc2VsZWN0ZWQpIHtcbiAgICAgICAgYWRkU3F1YXJlKHNxdWFyZXMsIHMuc2VsZWN0ZWQsICdzZWxlY3RlZCcpO1xuICAgICAgICBpZiAocy5tb3ZhYmxlLnNob3dEZXN0cykge1xuICAgICAgICAgICAgY29uc3QgZGVzdHMgPSAoX2EgPSBzLm1vdmFibGUuZGVzdHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXQocy5zZWxlY3RlZCk7XG4gICAgICAgICAgICBpZiAoZGVzdHMpXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrIG9mIGRlc3RzKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFNxdWFyZShzcXVhcmVzLCBrLCAnbW92ZS1kZXN0JyArIChzLnBpZWNlcy5oYXMoaykgPyAnIG9jJyA6ICcnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcERlc3RzID0gcy5wcmVtb3ZhYmxlLmRlc3RzO1xuICAgICAgICAgICAgaWYgKHBEZXN0cylcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGsgb2YgcERlc3RzKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFNxdWFyZShzcXVhcmVzLCBrLCAncHJlbW92ZS1kZXN0JyArIChzLnBpZWNlcy5oYXMoaykgPyAnIG9jJyA6ICcnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHByZW1vdmUgPSBzLnByZW1vdmFibGUuY3VycmVudDtcbiAgICBpZiAocHJlbW92ZSlcbiAgICAgICAgZm9yIChjb25zdCBrIG9mIHByZW1vdmUpXG4gICAgICAgICAgICBhZGRTcXVhcmUoc3F1YXJlcywgaywgJ2N1cnJlbnQtcHJlbW92ZScpO1xuICAgIGVsc2UgaWYgKHMucHJlZHJvcHBhYmxlLmN1cnJlbnQpXG4gICAgICAgIGFkZFNxdWFyZShzcXVhcmVzLCBzLnByZWRyb3BwYWJsZS5jdXJyZW50LmtleSwgJ2N1cnJlbnQtcHJlbW92ZScpO1xuICAgIGNvbnN0IG8gPSBzLmV4cGxvZGluZztcbiAgICBpZiAobylcbiAgICAgICAgZm9yIChjb25zdCBrIG9mIG8ua2V5cylcbiAgICAgICAgICAgIGFkZFNxdWFyZShzcXVhcmVzLCBrLCAnZXhwbG9kaW5nJyArIG8uc3RhZ2UpO1xuICAgIHJldHVybiBzcXVhcmVzO1xufVxuZnVuY3Rpb24gYWRkU3F1YXJlKHNxdWFyZXMsIGtleSwga2xhc3MpIHtcbiAgICBjb25zdCBjbGFzc2VzID0gc3F1YXJlcy5nZXQoa2V5KTtcbiAgICBpZiAoY2xhc3NlcylcbiAgICAgICAgc3F1YXJlcy5zZXQoa2V5LCBgJHtjbGFzc2VzfSAke2tsYXNzfWApO1xuICAgIGVsc2VcbiAgICAgICAgc3F1YXJlcy5zZXQoa2V5LCBrbGFzcyk7XG59XG5mdW5jdGlvbiBhcHBlbmRWYWx1ZShtYXAsIGtleSwgdmFsdWUpIHtcbiAgICBjb25zdCBhcnIgPSBtYXAuZ2V0KGtleSk7XG4gICAgaWYgKGFycilcbiAgICAgICAgYXJyLnB1c2godmFsdWUpO1xuICAgIGVsc2VcbiAgICAgICAgbWFwLnNldChrZXksIFt2YWx1ZV0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVuZGVyLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vZWNoZXNzZ3JvdW5kL3JlbmRlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///18\n");

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaults = void 0;\nvar fen = __webpack_require__(3);\nvar util_1 = __webpack_require__(0);\nfunction defaults() {\n    return {\n        pieces: fen.read(fen.initial),\n        orientation: 'white',\n        turnColor: 'white',\n        coordinates: true,\n        autoCastle: true,\n        viewOnly: false,\n        disableContextMenu: false,\n        resizable: true,\n        addPieceZIndex: false,\n        pieceKey: false,\n        highlight: {\n            lastMove: true,\n            check: true\n        },\n        animation: {\n            enabled: true,\n            duration: 200\n        },\n        movable: {\n            free: true,\n            color: 'both',\n            showDests: true,\n            events: {},\n            rookCastle: true\n        },\n        premovable: {\n            enabled: true,\n            showDests: true,\n            castle: true,\n            events: {}\n        },\n        predroppable: {\n            enabled: false,\n            events: {}\n        },\n        draggable: {\n            enabled: true,\n            distance: 3,\n            autoDistance: true,\n            showGhost: true,\n            deleteOnDropOff: false\n        },\n        dropmode: {\n            active: false\n        },\n        selectable: {\n            enabled: true\n        },\n        stats: {\n            dragged: !('ontouchstart' in window)\n        },\n        events: {},\n        drawable: {\n            enabled: true,\n            visible: true,\n            defaultSnapToValidMove: true,\n            eraseOnClick: true,\n            shapes: [],\n            autoShapes: [],\n            brushes: {\n                green: { key: 'g', color: '#15781B', opacity: 1, lineWidth: 10 },\n                red: { key: 'r', color: '#882020', opacity: 1, lineWidth: 10 },\n                blue: { key: 'b', color: '#003088', opacity: 1, lineWidth: 10 },\n                yellow: { key: 'y', color: '#e68f00', opacity: 1, lineWidth: 10 },\n                paleBlue: { key: 'pb', color: '#003088', opacity: 0.4, lineWidth: 15 },\n                paleGreen: { key: 'pg', color: '#15781B', opacity: 0.4, lineWidth: 15 },\n                paleRed: { key: 'pr', color: '#882020', opacity: 0.4, lineWidth: 15 },\n                paleGrey: { key: 'pgr', color: '#4a4a4a', opacity: 0.35, lineWidth: 15 }\n            },\n            pieces: {\n                baseUrl: 'images/pieces/icpieces/'\n            },\n            prevSvgHash: ''\n        },\n        hold: util_1.timer()\n    };\n}\nexports.defaults = defaults;\n//# sourceMappingURL=state.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VjaGVzc2dyb3VuZC9zdGF0ZS5qcz81ZmQ0Il0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGVmYXVsdHMiLCJmZW4iLCJyZXF1aXJlIiwidXRpbF8xIiwicGllY2VzIiwicmVhZCIsImluaXRpYWwiLCJvcmllbnRhdGlvbiIsInR1cm5Db2xvciIsImNvb3JkaW5hdGVzIiwiYXV0b0Nhc3RsZSIsInZpZXdPbmx5IiwiZGlzYWJsZUNvbnRleHRNZW51IiwicmVzaXphYmxlIiwiYWRkUGllY2VaSW5kZXgiLCJwaWVjZUtleSIsImhpZ2hsaWdodCIsImxhc3RNb3ZlIiwiY2hlY2siLCJhbmltYXRpb24iLCJlbmFibGVkIiwiZHVyYXRpb24iLCJtb3ZhYmxlIiwiZnJlZSIsImNvbG9yIiwic2hvd0Rlc3RzIiwiZXZlbnRzIiwicm9va0Nhc3RsZSIsInByZW1vdmFibGUiLCJjYXN0bGUiLCJwcmVkcm9wcGFibGUiLCJkcmFnZ2FibGUiLCJkaXN0YW5jZSIsImF1dG9EaXN0YW5jZSIsInNob3dHaG9zdCIsImRlbGV0ZU9uRHJvcE9mZiIsImRyb3Btb2RlIiwiYWN0aXZlIiwic2VsZWN0YWJsZSIsInN0YXRzIiwiZHJhZ2dlZCIsIndpbmRvdyIsImRyYXdhYmxlIiwidmlzaWJsZSIsImRlZmF1bHRTbmFwVG9WYWxpZE1vdmUiLCJlcmFzZU9uQ2xpY2siLCJzaGFwZXMiLCJhdXRvU2hhcGVzIiwiYnJ1c2hlcyIsImdyZWVuIiwia2V5Iiwib3BhY2l0eSIsImxpbmVXaWR0aCIsInJlZCIsImJsdWUiLCJ5ZWxsb3ciLCJwYWxlQmx1ZSIsInBhbGVHcmVlbiIsInBhbGVSZWQiLCJwYWxlR3JleSIsImJhc2VVcmwiLCJwcmV2U3ZnSGFzaCIsImhvbGQiLCJ0aW1lciJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVB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QVBIO0FBaUJOaEQsb0JBQVE7QUFDSndELHlCQUFTO0FBREwsYUFqQkY7QUFvQk5DLHlCQUFhO0FBcEJQLFNBckRQO0FBMkVIQyxjQUFNM0QsT0FBTzRELEtBQVA7QUEzRUgsS0FBUDtBQTZFSDtBQUNEakUsUUFBUUUsUUFBUixHQUFtQkEsUUFBbkI7QUFDQSIsImZpbGUiOiIxOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kZWZhdWx0cyA9IHZvaWQgMDtcbmNvbnN0IGZlbiA9IHJlcXVpcmUoXCIuL2ZlblwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5mdW5jdGlvbiBkZWZhdWx0cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBwaWVjZXM6IGZlbi5yZWFkKGZlbi5pbml0aWFsKSxcbiAgICAgICAgb3JpZW50YXRpb246ICd3aGl0ZScsXG4gICAgICAgIHR1cm5Db2xvcjogJ3doaXRlJyxcbiAgICAgICAgY29vcmRpbmF0ZXM6IHRydWUsXG4gICAgICAgIGF1dG9DYXN0bGU6IHRydWUsXG4gICAgICAgIHZpZXdPbmx5OiBmYWxzZSxcbiAgICAgICAgZGlzYWJsZUNvbnRleHRNZW51OiBmYWxzZSxcbiAgICAgICAgcmVzaXphYmxlOiB0cnVlLFxuICAgICAgICBhZGRQaWVjZVpJbmRleDogZmFsc2UsXG4gICAgICAgIHBpZWNlS2V5OiBmYWxzZSxcbiAgICAgICAgaGlnaGxpZ2h0OiB7XG4gICAgICAgICAgICBsYXN0TW92ZTogdHJ1ZSxcbiAgICAgICAgICAgIGNoZWNrOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGFuaW1hdGlvbjoge1xuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDBcbiAgICAgICAgfSxcbiAgICAgICAgbW92YWJsZToge1xuICAgICAgICAgICAgZnJlZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbG9yOiAnYm90aCcsXG4gICAgICAgICAgICBzaG93RGVzdHM6IHRydWUsXG4gICAgICAgICAgICBldmVudHM6IHt9LFxuICAgICAgICAgICAgcm9va0Nhc3RsZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBwcmVtb3ZhYmxlOiB7XG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgc2hvd0Rlc3RzOiB0cnVlLFxuICAgICAgICAgICAgY2FzdGxlOiB0cnVlLFxuICAgICAgICAgICAgZXZlbnRzOiB7fVxuICAgICAgICB9LFxuICAgICAgICBwcmVkcm9wcGFibGU6IHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgZXZlbnRzOiB7fVxuICAgICAgICB9LFxuICAgICAgICBkcmFnZ2FibGU6IHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICBkaXN0YW5jZTogMyxcbiAgICAgICAgICAgIGF1dG9EaXN0YW5jZTogdHJ1ZSxcbiAgICAgICAgICAgIHNob3dHaG9zdDogdHJ1ZSxcbiAgICAgICAgICAgIGRlbGV0ZU9uRHJvcE9mZjogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgZHJvcG1vZGU6IHtcbiAgICAgICAgICAgIGFjdGl2ZTogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0YWJsZToge1xuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBzdGF0czoge1xuICAgICAgICAgICAgZHJhZ2dlZDogISgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpXG4gICAgICAgIH0sXG4gICAgICAgIGV2ZW50czoge30sXG4gICAgICAgIGRyYXdhYmxlOiB7XG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGRlZmF1bHRTbmFwVG9WYWxpZE1vdmU6IHRydWUsXG4gICAgICAgICAgICBlcmFzZU9uQ2xpY2s6IHRydWUsXG4gICAgICAgICAgICBzaGFwZXM6IFtdLFxuICAgICAgICAgICAgYXV0b1NoYXBlczogW10sXG4gICAgICAgICAgICBicnVzaGVzOiB7XG4gICAgICAgICAgICAgICAgZ3JlZW46IHsga2V5OiAnZycsIGNvbG9yOiAnIzE1NzgxQicsIG9wYWNpdHk6IDEsIGxpbmVXaWR0aDogMTAgfSxcbiAgICAgICAgICAgICAgICByZWQ6IHsga2V5OiAncicsIGNvbG9yOiAnIzg4MjAyMCcsIG9wYWNpdHk6IDEsIGxpbmVXaWR0aDogMTAgfSxcbiAgICAgICAgICAgICAgICBibHVlOiB7IGtleTogJ2InLCBjb2xvcjogJyMwMDMwODgnLCBvcGFjaXR5OiAxLCBsaW5lV2lkdGg6IDEwIH0sXG4gICAgICAgICAgICAgICAgeWVsbG93OiB7IGtleTogJ3knLCBjb2xvcjogJyNlNjhmMDAnLCBvcGFjaXR5OiAxLCBsaW5lV2lkdGg6IDEwIH0sXG4gICAgICAgICAgICAgICAgcGFsZUJsdWU6IHsga2V5OiAncGInLCBjb2xvcjogJyMwMDMwODgnLCBvcGFjaXR5OiAwLjQsIGxpbmVXaWR0aDogMTUgfSxcbiAgICAgICAgICAgICAgICBwYWxlR3JlZW46IHsga2V5OiAncGcnLCBjb2xvcjogJyMxNTc4MUInLCBvcGFjaXR5OiAwLjQsIGxpbmVXaWR0aDogMTUgfSxcbiAgICAgICAgICAgICAgICBwYWxlUmVkOiB7IGtleTogJ3ByJywgY29sb3I6ICcjODgyMDIwJywgb3BhY2l0eTogMC40LCBsaW5lV2lkdGg6IDE1IH0sXG4gICAgICAgICAgICAgICAgcGFsZUdyZXk6IHsga2V5OiAncGdyJywgY29sb3I6ICcjNGE0YTRhJywgb3BhY2l0eTogMC4zNSwgbGluZVdpZHRoOiAxNSB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGllY2VzOiB7XG4gICAgICAgICAgICAgICAgYmFzZVVybDogJ2ltYWdlcy9waWVjZXMvaWNwaWVjZXMvJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByZXZTdmdIYXNoOiAnJ1xuICAgICAgICB9LFxuICAgICAgICBob2xkOiB1dGlsXzEudGltZXIoKVxuICAgIH07XG59XG5leHBvcnRzLmRlZmF1bHRzID0gZGVmYXVsdHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGF0ZS5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2VjaGVzc2dyb3VuZC9zdGF0ZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///19\n");

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.renderWrap = void 0;\nvar util_1 = __webpack_require__(0);\nvar types_1 = __webpack_require__(4);\nvar svg_1 = __webpack_require__(8);\nfunction renderWrap(element, s, relative) {\n    element.innerHTML = '';\n    element.classList.add('cg-wrap');\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = types_1.colors[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var c = _step.value;\n\n            element.classList.toggle('orientation-' + c, s.orientation === c);\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n\n    element.classList.toggle('manipulable', !s.viewOnly);\n    var helper = util_1.createEl('cg-helper');\n    element.appendChild(helper);\n    var container = util_1.createEl('cg-container');\n    helper.appendChild(container);\n    var board = util_1.createEl('cg-board');\n    container.appendChild(board);\n    var svg = void 0;\n    if (s.drawable.visible && !relative) {\n        svg = svg_1.createElement('svg');\n        svg.appendChild(svg_1.createElement('defs'));\n        container.appendChild(svg);\n    }\n    if (s.coordinates) {\n        var orientClass = s.orientation === 'black' ? ' black' : '';\n        container.appendChild(renderCoords(types_1.ranks, 'ranks' + orientClass));\n        container.appendChild(renderCoords(types_1.files, 'files' + orientClass));\n    }\n    var ghost = void 0;\n    if (s.draggable.showGhost && !relative) {\n        ghost = util_1.createEl('piece', 'ghost');\n        util_1.setVisible(ghost, false);\n        container.appendChild(ghost);\n    }\n    return {\n        board: board,\n        container: container,\n        ghost: ghost,\n        svg: svg\n    };\n}\nexports.renderWrap = renderWrap;\nfunction renderCoords(elems, className) {\n    var el = util_1.createEl('coords', className);\n    var f = void 0;\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n        for (var _iterator2 = elems[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var elem = _step2.value;\n\n            f = util_1.createEl('coord');\n            f.textContent = elem;\n            el.appendChild(f);\n        }\n    } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n            }\n        } finally {\n            if (_didIteratorError2) {\n                throw _iteratorError2;\n            }\n        }\n    }\n\n    return el;\n}\n//# sourceMappingURL=wrap.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VjaGVzc2dyb3VuZC93cmFwLmpzPzJkMjQiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJyZW5kZXJXcmFwIiwidXRpbF8xIiwicmVxdWlyZSIsInR5cGVzXzEiLCJzdmdfMSIsImVsZW1lbnQiLCJzIiwicmVsYXRpdmUiLCJpbm5lckhUTUwiLCJjbGFzc0xpc3QiLCJhZGQiLCJjb2xvcnMiLCJjIiwidG9nZ2xlIiwib3JpZW50YXRpb24iLCJ2aWV3T25seSIsImhlbHBlciIsImNyZWF0ZUVsIiwiYXBwZW5kQ2hpbGQiLCJjb250YWluZXIiLCJib2FyZCIsInN2ZyIsImRyYXdhYmxlIiwidmlzaWJsZSIsImNyZWF0ZUVsZW1lbnQiLCJjb29yZGluYXRlcyIsIm9yaWVudENsYXNzIiwicmVuZGVyQ29vcmRzIiwicmFua3MiLCJmaWxlcyIsImdob3N0IiwiZHJhZ2dhYmxlIiwic2hvd0dob3N0Iiwic2V0VmlzaWJsZSIsImVsZW1zIiwiY2xhc3NOYW1lIiwiZWwiLCJmIiwiZWxlbSIsInRleHRDb250ZW50Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0FELFFBQVFFLFVBQVIsR0FBcUIsS0FBSyxDQUExQjtBQUNBLElBQU1DLFNBQVMsbUJBQUFDLENBQVEsQ0FBUixDQUFmO0FBQ0EsSUFBTUMsVUFBVSxtQkFBQUQsQ0FBUSxDQUFSLENBQWhCO0FBQ0EsSUFBTUUsUUFBUSxtQkFBQUYsQ0FBUSxDQUFSLENBQWQ7QUFDQSxTQUFTRixVQUFULENBQW9CSyxPQUFwQixFQUE2QkMsQ0FBN0IsRUFBZ0NDLFFBQWhDLEVBQTBDO0FBQ3RDRixZQUFRRyxTQUFSLEdBQW9CLEVBQXBCO0FBQ0FILFlBQVFJLFNBQVIsQ0FBa0JDLEdBQWxCLENBQXNCLFNBQXRCO0FBRnNDO0FBQUE7QUFBQTs7QUFBQTtBQUd0Qyw2QkFBZ0JQLFFBQVFRLE1BQXhCO0FBQUEsZ0JBQVdDLENBQVg7O0FBQ0lQLG9CQUFRSSxTQUFSLENBQWtCSSxNQUFsQixDQUF5QixpQkFBaUJELENBQTFDLEVBQTZDTixFQUFFUSxXQUFGLEtBQWtCRixDQUEvRDtBQURKO0FBSHNDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBS3RDUCxZQUFRSSxTQUFSLENBQWtCSSxNQUFsQixDQUF5QixhQUF6QixFQUF3QyxDQUFDUCxFQUFFUyxRQUEzQztBQUNBLFFBQU1DLFNBQVNmLE9BQU9nQixRQUFQLENBQWdCLFdBQWhCLENBQWY7QUFDQVosWUFBUWEsV0FBUixDQUFvQkYsTUFBcEI7QUFDQSxRQUFNRyxZQUFZbEIsT0FBT2dCLFFBQVAsQ0FBZ0IsY0FBaEIsQ0FBbEI7QUFDQUQsV0FBT0UsV0FBUCxDQUFtQkMsU0FBbkI7QUFDQSxRQUFNQyxRQUFRbkIsT0FBT2dCLFFBQVAsQ0FBZ0IsVUFBaEIsQ0FBZDtBQUNBRSxjQUFVRCxXQUFWLENBQXNCRSxLQUF0QjtBQUNBLFFBQUlDLFlBQUo7QUFDQSxRQUFJZixFQUFFZ0IsUUFBRixDQUFXQyxPQUFYLElBQXNCLENBQUNoQixRQUEzQixFQUFxQztBQUNqQ2MsY0FBTWpCLE1BQU1vQixhQUFOLENBQW9CLEtBQXBCLENBQU47QUFDQUgsWUFBSUgsV0FBSixDQUFnQmQsTUFBTW9CLGFBQU4sQ0FBb0IsTUFBcEIsQ0FBaEI7QUFDQUwsa0JBQVVELFdBQVYsQ0FBc0JHLEdBQXRCO0FBQ0g7QUFDRCxRQUFJZixFQUFFbUIsV0FBTixFQUFtQjtBQUNmLFlBQU1DLGNBQWNwQixFQUFFUSxXQUFGLEtBQWtCLE9BQWxCLEdBQTRCLFFBQTVCLEdBQXVDLEVBQTNEO0FBQ0FLLGtCQUFVRCxXQUFWLENBQXNCUyxhQUFheEIsUUFBUXlCLEtBQXJCLEVBQTRCLFVBQVVGLFdBQXRDLENBQXRCO0FBQ0FQLGtCQUFVRCxXQUFWLENBQXNCUyxhQUFheEIsUUFBUTBCLEtBQXJCLEVBQTRCLFVBQVVILFdBQXRDLENBQXRCO0FBQ0g7QUFDRCxRQUFJSSxjQUFKO0FBQ0EsUUFBSXhCLEVBQUV5QixTQUFGLENBQVlDLFNBQVosSUFBeUIsQ0FBQ3pCLFFBQTlCLEVBQXdDO0FBQ3BDdUIsZ0JBQVE3QixPQUFPZ0IsUUFBUCxDQUFnQixPQUFoQixFQUF5QixPQUF6QixDQUFSO0FBQ0FoQixlQUFPZ0MsVUFBUCxDQUFrQkgsS0FBbEIsRUFBeUIsS0FBekI7QUFDQVgsa0JBQVVELFdBQVYsQ0FBc0JZLEtBQXRCO0FBQ0g7QUFDRCxXQUFPO0FBQ0hWLG9CQURHO0FBRUhELDRCQUZHO0FBR0hXLG9CQUhHO0FBSUhUO0FBSkcsS0FBUDtBQU1IO0FBQ0R2QixRQUFRRSxVQUFSLEdBQXFCQSxVQUFyQjtBQUNBLFNBQVMyQixZQUFULENBQXNCTyxLQUF0QixFQUE2QkMsU0FBN0IsRUFBd0M7QUFDcEMsUUFBTUMsS0FBS25DLE9BQU9nQixRQUFQLENBQWdCLFFBQWhCLEVBQTBCa0IsU0FBMUIsQ0FBWDtBQUNBLFFBQUlFLFVBQUo7QUFGb0M7QUFBQTtBQUFBOztBQUFBO0FBR3BDLDhCQUFtQkgsS0FBbkIsbUlBQTBCO0FBQUEsZ0JBQWZJLElBQWU7O0FBQ3RCRCxnQkFBSXBDLE9BQU9nQixRQUFQLENBQWdCLE9BQWhCLENBQUo7QUFDQW9CLGNBQUVFLFdBQUYsR0FBZ0JELElBQWhCO0FBQ0FGLGVBQUdsQixXQUFILENBQWVtQixDQUFmO0FBQ0g7QUFQbUM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFRcEMsV0FBT0QsRUFBUDtBQUNIO0FBQ0QiLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVuZGVyV3JhcCA9IHZvaWQgMDtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5jb25zdCB0eXBlc18xID0gcmVxdWlyZShcIi4vdHlwZXNcIik7XG5jb25zdCBzdmdfMSA9IHJlcXVpcmUoXCIuL3N2Z1wiKTtcbmZ1bmN0aW9uIHJlbmRlcldyYXAoZWxlbWVudCwgcywgcmVsYXRpdmUpIHtcbiAgICBlbGVtZW50LmlubmVySFRNTCA9ICcnO1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnY2ctd3JhcCcpO1xuICAgIGZvciAoY29uc3QgYyBvZiB0eXBlc18xLmNvbG9ycylcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdvcmllbnRhdGlvbi0nICsgYywgcy5vcmllbnRhdGlvbiA9PT0gYyk7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdtYW5pcHVsYWJsZScsICFzLnZpZXdPbmx5KTtcbiAgICBjb25zdCBoZWxwZXIgPSB1dGlsXzEuY3JlYXRlRWwoJ2NnLWhlbHBlcicpO1xuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoaGVscGVyKTtcbiAgICBjb25zdCBjb250YWluZXIgPSB1dGlsXzEuY3JlYXRlRWwoJ2NnLWNvbnRhaW5lcicpO1xuICAgIGhlbHBlci5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgIGNvbnN0IGJvYXJkID0gdXRpbF8xLmNyZWF0ZUVsKCdjZy1ib2FyZCcpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChib2FyZCk7XG4gICAgbGV0IHN2ZztcbiAgICBpZiAocy5kcmF3YWJsZS52aXNpYmxlICYmICFyZWxhdGl2ZSkge1xuICAgICAgICBzdmcgPSBzdmdfMS5jcmVhdGVFbGVtZW50KCdzdmcnKTtcbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKHN2Z18xLmNyZWF0ZUVsZW1lbnQoJ2RlZnMnKSk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzdmcpO1xuICAgIH1cbiAgICBpZiAocy5jb29yZGluYXRlcykge1xuICAgICAgICBjb25zdCBvcmllbnRDbGFzcyA9IHMub3JpZW50YXRpb24gPT09ICdibGFjaycgPyAnIGJsYWNrJyA6ICcnO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyQ29vcmRzKHR5cGVzXzEucmFua3MsICdyYW5rcycgKyBvcmllbnRDbGFzcykpO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyQ29vcmRzKHR5cGVzXzEuZmlsZXMsICdmaWxlcycgKyBvcmllbnRDbGFzcykpO1xuICAgIH1cbiAgICBsZXQgZ2hvc3Q7XG4gICAgaWYgKHMuZHJhZ2dhYmxlLnNob3dHaG9zdCAmJiAhcmVsYXRpdmUpIHtcbiAgICAgICAgZ2hvc3QgPSB1dGlsXzEuY3JlYXRlRWwoJ3BpZWNlJywgJ2dob3N0Jyk7XG4gICAgICAgIHV0aWxfMS5zZXRWaXNpYmxlKGdob3N0LCBmYWxzZSk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChnaG9zdCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGJvYXJkLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGdob3N0LFxuICAgICAgICBzdmdcbiAgICB9O1xufVxuZXhwb3J0cy5yZW5kZXJXcmFwID0gcmVuZGVyV3JhcDtcbmZ1bmN0aW9uIHJlbmRlckNvb3JkcyhlbGVtcywgY2xhc3NOYW1lKSB7XG4gICAgY29uc3QgZWwgPSB1dGlsXzEuY3JlYXRlRWwoJ2Nvb3JkcycsIGNsYXNzTmFtZSk7XG4gICAgbGV0IGY7XG4gICAgZm9yIChjb25zdCBlbGVtIG9mIGVsZW1zKSB7XG4gICAgICAgIGYgPSB1dGlsXzEuY3JlYXRlRWwoJ2Nvb3JkJyk7XG4gICAgICAgIGYudGV4dENvbnRlbnQgPSBlbGVtO1xuICAgICAgICBlbC5hcHBlbmRDaGlsZChmKTtcbiAgICB9XG4gICAgcmV0dXJuIGVsO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d3JhcC5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2VjaGVzc2dyb3VuZC93cmFwLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///20\n");

/***/ }),
/* 21 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (immutable) */ __webpack_exports__[\"a\"] = uniques;\nfunction uniques(arr) {\n  var uniqueArray = arr.filter(function (elem, index, self) {\n    return index === self.indexOf(elem);\n  });\n  return uniqueArray;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9lY2hlc3Nib2FyZC9VdGlsLmpzP2ZkZjkiXSwibmFtZXMiOlsidW5pcXVlcyIsImFyciIsInVuaXF1ZUFycmF5IiwiZmlsdGVyIiwiZWxlbSIsImluZGV4Iiwic2VsZiIsImluZGV4T2YiXSwibWFwcGluZ3MiOiI7QUFBTyxTQUFTQSxPQUFULENBQWtCQyxHQUFsQixFQUF1QjtBQUM1QixNQUFJQyxjQUFjRCxJQUFJRSxNQUFKLENBQVcsVUFBVUMsSUFBVixFQUFnQkMsS0FBaEIsRUFBdUJDLElBQXZCLEVBQTZCO0FBQ3hELFdBQU9ELFVBQVVDLEtBQUtDLE9BQUwsQ0FBYUgsSUFBYixDQUFqQjtBQUNELEdBRmlCLENBQWxCO0FBR0EsU0FBT0YsV0FBUDtBQUNEIiwiZmlsZSI6IjIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHVuaXF1ZXMgKGFycikge1xuICBsZXQgdW5pcXVlQXJyYXkgPSBhcnIuZmlsdGVyKGZ1bmN0aW9uIChlbGVtLCBpbmRleCwgc2VsZikge1xuICAgIHJldHVybiBpbmRleCA9PT0gc2VsZi5pbmRleE9mKGVsZW0pXG4gIH0pXG4gIHJldHVybiB1bmlxdWVBcnJheVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvZWNoZXNzYm9hcmQvVXRpbC5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///21\n");

/***/ }),
/* 22 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (immutable) */ __webpack_exports__[\"install\"] = install;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_echessboard_index_vue__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_echessboard_index_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_echessboard_index_vue__);\n/* harmony reexport (default from non-hamory) */ __webpack_require__.d(__webpack_exports__, \"echessboard\", function() { return __WEBPACK_IMPORTED_MODULE_0__components_echessboard_index_vue___default.a; });\n\n\n// Install the components\nfunction install(Vue) {\n  Vue.component('echessboard', __WEBPACK_IMPORTED_MODULE_0__components_echessboard_index_vue___default.a);\n  /* -- Add more components here -- */\n}\n\n// Expose the components\n\n\n/* -- Plugin definition & Auto-install -- */\n/* You shouldn't have to modify the code below */\n\n// Plugin\nvar plugin = {\n  /* eslint-disable no-undef */\n  version: \"0.0.3\",\n  install: install\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (plugin);\n\n// Auto-install\nvar GlobalVue = null;\nif (typeof window !== 'undefined') {\n  GlobalVue = window.Vue;\n} else if (typeof global !== 'undefined') {\n  GlobalVue = global.Vue;\n}\nif (GlobalVue) {\n  GlobalVue.use(plugin);\n}\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(9)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/OTU1MiJdLCJuYW1lcyI6WyJpbnN0YWxsIiwiVnVlIiwiY29tcG9uZW50IiwicGx1Z2luIiwidmVyc2lvbiIsIkdsb2JhbFZ1ZSIsIndpbmRvdyIsImdsb2JhbCIsInVzZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7QUFFQTtBQUNPLFNBQVNBLE9BQVQsQ0FBa0JDLEdBQWxCLEVBQXVCO0FBQzVCQSxNQUFJQyxTQUFKLENBQWMsYUFBZCxFQUE2Qix5RUFBN0I7QUFDQTtBQUNEOztBQUVEO0FBQ0E7O0FBS0E7QUFDQTs7QUFFQTtBQUNBLElBQU1DLFNBQVM7QUFDYjtBQUNBQyxXQUFTLE9BRkk7QUFHYko7QUFIYSxDQUFmOztBQU1BLCtEQUFlRyxNQUFmOztBQUVBO0FBQ0EsSUFBSUUsWUFBWSxJQUFoQjtBQUNBLElBQUksT0FBT0MsTUFBUCxLQUFrQixXQUF0QixFQUFtQztBQUNqQ0QsY0FBWUMsT0FBT0wsR0FBbkI7QUFDRCxDQUZELE1BRU8sSUFBSSxPQUFPTSxNQUFQLEtBQWtCLFdBQXRCLEVBQW1DO0FBQ3hDRixjQUFZRSxPQUFPTixHQUFuQjtBQUNEO0FBQ0QsSUFBSUksU0FBSixFQUFlO0FBQ2JBLFlBQVVHLEdBQVYsQ0FBY0wsTUFBZDtBQUNELEMiLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZWNoZXNzYm9hcmQgZnJvbSAnLi9jb21wb25lbnRzL2VjaGVzc2JvYXJkL2luZGV4LnZ1ZSdcblxuLy8gSW5zdGFsbCB0aGUgY29tcG9uZW50c1xuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbGwgKFZ1ZSkge1xuICBWdWUuY29tcG9uZW50KCdlY2hlc3Nib2FyZCcsIGVjaGVzc2JvYXJkKVxuICAvKiAtLSBBZGQgbW9yZSBjb21wb25lbnRzIGhlcmUgLS0gKi9cbn1cblxuLy8gRXhwb3NlIHRoZSBjb21wb25lbnRzXG5leHBvcnQge1xuICBlY2hlc3Nib2FyZCxcbiAgLyogLS0gQWRkIG1vcmUgY29tcG9uZW50cyBoZXJlIC0tICovXG59XG5cbi8qIC0tIFBsdWdpbiBkZWZpbml0aW9uICYgQXV0by1pbnN0YWxsIC0tICovXG4vKiBZb3Ugc2hvdWxkbid0IGhhdmUgdG8gbW9kaWZ5IHRoZSBjb2RlIGJlbG93ICovXG5cbi8vIFBsdWdpblxuY29uc3QgcGx1Z2luID0ge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xuICB2ZXJzaW9uOiBWRVJTSU9OLFxuICBpbnN0YWxsLFxufVxuXG5leHBvcnQgZGVmYXVsdCBwbHVnaW5cblxuLy8gQXV0by1pbnN0YWxsXG5sZXQgR2xvYmFsVnVlID0gbnVsbFxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIEdsb2JhbFZ1ZSA9IHdpbmRvdy5WdWVcbn0gZWxzZSBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgR2xvYmFsVnVlID0gZ2xvYmFsLlZ1ZVxufVxuaWYgKEdsb2JhbFZ1ZSkge1xuICBHbG9iYWxWdWUudXNlKHBsdWdpbilcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///22\n");

/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__jlincoln_echess_js__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__jlincoln_echess_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__jlincoln_echess_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_echessground__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_echessground___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_echessground__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Util_js__ = __webpack_require__(21);\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'echessboard',\n  props: {\n    fen: {\n      type: String,\n      default: ''\n    },\n    free: {\n      type: Boolean,\n      default: false\n    },\n    showThreats: {\n      type: Boolean,\n      default: false\n    },\n    onPromotion: {\n      type: Function,\n      default: function _default() {\n        return 'q';\n      }\n    },\n    orientation: {\n      type: String,\n      default: 'white'\n    }\n  },\n  watch: {\n    fen: function fen(newFen) {\n      this.fen = newFen;\n      this.loadPosition();\n    },\n    orientation: function orientation(_orientation) {\n      this.orientation = _orientation;\n      this.loadPosition();\n    },\n    showThreats: function showThreats(st) {\n      this.showThreats = st;\n      if (this.showThreats) {\n        this.paintThreats();\n      }\n    }\n  },\n  methods: {\n    possibleMoves: function possibleMoves() {\n      var _this = this;\n\n      var dests = {};\n      this.game.SQUARES.forEach(function (s) {\n        var ms = _this.game.moves({ square: s, verbose: true });\n        if (ms.length) dests[s] = ms.map(function (m) {\n          return m.to;\n        });\n      });\n      return dests;\n    },\n    opponentMoves: function opponentMoves() {\n      var originalPGN = this.game.pgn();\n      var tokens = this.game.fen().split(' ');\n      tokens[1] = tokens[1] === 'w' ? 'b' : 'w';\n      tokens = tokens.join(' ');\n      var valid = this.game.load(tokens);\n      if (valid) {\n        var moves = this.game.moves({ verbose: true });\n        this.game.load_pgn(originalPGN);\n        return moves;\n      } else {\n        return [];\n      }\n    },\n    toColor: function toColor() {\n      return this.game.turn() === 'w' ? 'white' : 'black';\n    },\n    paintThreats: function paintThreats() {\n      var moves = this.game.moves({ verbose: true });\n      var threats = [];\n      moves.forEach(function (move) {\n        threats.push({ orig: move.to, brush: 'yellow' });\n\n        if (move['captured']) {\n          threats.push({ orig: move.from, dest: move.to, brush: 'red' });\n        }\n        if (move['san'].includes('+')) {\n          threats.push({ orig: move.from, dest: move.to, brush: 'blue' });\n        }\n      });\n      this.board.setShapes(threats);\n    },\n    calculatePromotions: function calculatePromotions() {\n      var moves = this.game.moves({ verbose: true });\n      this.promotions = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = moves[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var move = _step.value;\n\n          if (move.promotion) {\n            this.promotions.push(move);\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    },\n    isPromotion: function isPromotion(orig, dest) {\n      var filteredPromotions = this.promotions.filter(function (move) {\n        return move.from === orig && move.to === dest;\n      });\n      return filteredPromotions.length > 0; // The current movement is a promotion\n    },\n    changeTurn: function changeTurn() {\n      var _this2 = this;\n\n      return function (orig, dest, metadata) {\n        if (_this2.isPromotion(orig, dest)) {\n          _this2.promoteTo = _this2.onPromotion();\n        }\n        _this2.game.move({ from: orig, to: dest, promotion: _this2.promoteTo }); // promote to queen for simplicity\n        _this2.board.set({\n          fen: _this2.game.fen(),\n          turnColor: _this2.toColor(),\n          movable: {\n            color: _this2.toColor(),\n            dests: _this2.possibleMoves()\n          }\n        });\n        _this2.calculatePromotions();\n        _this2.afterMove();\n      };\n    },\n    afterMove: function afterMove() {\n      if (this.showThreats) {\n        this.paintThreats();\n      }\n      var threats = this.countThreats(this.toColor()) || {};\n      threats['history'] = this.game.history();\n      threats['fen'] = this.game.fen();\n      this.$emit('onMove', threats);\n    },\n    countThreats: function countThreats(color) {\n      var threats = {};\n      var captures = 0;\n      var checks = 0;\n      var moves = this.game.moves({ verbose: true });\n      if (color !== this.toColor()) {\n        moves = this.opponentMoves();\n      }\n\n      if (moves.length === 0) {\n        return null; // It´s an invalid position\n      }\n\n      moves.forEach(function (move) {\n        if (move['captured']) {\n          captures++;\n        }\n        if (move['san'].includes('+')) {\n          checks++;\n        }\n      });\n\n      threats['legal_' + color] = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__Util_js__[\"a\" /* uniques */])(moves.map(function (x) {\n        return x.from + x.to;\n      })).length; // promotions count as 4 moves. This remove those duplicates moves.\n      threats['checks_' + color] = checks;\n      threats['threat_' + color] = captures;\n      threats['turn'] = color;\n      return threats;\n    },\n    loadPosition: function loadPosition() {\n      // set a default value for the configuration object itself to allow call to loadPosition()\n      this.game.load(this.fen);\n      this.board = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_echessground__[\"Chessground\"])(this.$refs.board, {\n        fen: this.game.fen(),\n        turnColor: this.toColor(),\n        movable: {\n          color: this.toColor(),\n          free: this.free,\n          dests: this.possibleMoves()\n        },\n        orientation: this.orientation\n      });\n      this.board.set({\n        movable: { events: { after: this.changeTurn() } }\n      });\n      this.afterMove();\n    }\n  },\n  mounted: function mounted() {\n    this.loadPosition();\n  },\n  created: function created() {\n    this.game = new __WEBPACK_IMPORTED_MODULE_0__jlincoln_echess_js___default.a();\n    this.board = null;\n    this.promotions = [];\n    this.promoteTo = 'q';\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vaW5kZXgudnVlPzA3MTMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQU9BO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFCQURBO0FBRUE7QUFDQTtBQUNBLGtCQURBO0FBRUE7QUFGQSxLQURBO0FBS0E7QUFDQSxtQkFEQTtBQUVBO0FBRkEsS0FMQTtBQVNBO0FBQ0EsbUJBREE7QUFFQTtBQUZBLEtBVEE7QUFhQTtBQUNBLG9CQURBO0FBRUE7QUFBQTtBQUFBO0FBRkEsS0FiQTtBQWlCQTtBQUNBLGtCQURBO0FBRUE7QUFGQTtBQWpCQSxHQUZBO0FBd0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FKQTtBQUtBO0FBQ0E7QUFDQTtBQUNBLEtBUkE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFkQSxHQXhCQTtBQXdDQTtBQUNBLGlCQURBLDJCQUNBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0EsT0FIQTtBQUlBO0FBQ0EsS0FSQTtBQVNBLGlCQVRBLDJCQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FKQSxNQUlBO0FBQ0E7QUFDQTtBQUNBLEtBdEJBO0FBdUJBLFdBdkJBLHFCQXVCQTtBQUNBO0FBQ0EsS0F6QkE7QUEwQkEsZ0JBMUJBLDBCQTBCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BVEE7QUFVQTtBQUNBLEtBeENBO0FBeUNBLHVCQXpDQSxpQ0F5Q0E7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUFBOztBQUFBO0FBR0E7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFRQSxLQWpEQTtBQWtEQSxlQWxEQSx1QkFrREEsSUFsREEsRUFrREEsSUFsREEsRUFrREE7QUFDQTtBQUFBO0FBQUE7QUFDQSwyQ0FGQSxDQUVBO0FBQ0EsS0FyREE7QUFzREEsY0F0REEsd0JBc0RBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRkFKQSxDQUlBO0FBQ0E7QUFDQSxnQ0FEQTtBQUVBLHFDQUZBO0FBR0E7QUFDQSxtQ0FEQTtBQUVBO0FBRkE7QUFIQTtBQVFBO0FBQ0E7QUFDQSxPQWZBO0FBZ0JBLEtBdkVBO0FBd0VBLGFBeEVBLHVCQXdFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FoRkE7QUFpRkEsZ0JBakZBLHdCQWlGQSxLQWpGQSxFQWlGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBREEsQ0FDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FQQTs7QUFTQTtBQUFBO0FBQUEsaUJBdEJBLENBc0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQTVHQTtBQTZHQSxnQkE3R0EsMEJBNkdBO0FBQUE7QUFDQTtBQUNBO0FBQ0EsNEJBREE7QUFFQSxpQ0FGQTtBQUdBO0FBQ0EsK0JBREE7QUFFQSx5QkFGQTtBQUdBO0FBSEEsU0FIQTtBQVFBO0FBUkE7QUFVQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBN0hBLEdBeENBO0FBdUtBLFNBdktBLHFCQXVLQTtBQUNBO0FBQ0EsR0F6S0E7QUEwS0EsU0ExS0EscUJBMEtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQS9LQSIsImZpbGUiOiIyMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cImJsdWUgbWVyaWRhXCI+XG4gICAgPGRpdiByZWY9XCJib2FyZFwiIGNsYXNzPVwiY2ctYm9hcmQtd3JhcFwiPjwvZGl2PiA8L2JyPlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG5pbXBvcnQgQ2hlc3MgZnJvbSAnQGpsaW5jb2xuL2VjaGVzcy5qcydcbmltcG9ydCB7Q2hlc3Nncm91bmR9IGZyb20gJ2VjaGVzc2dyb3VuZCdcbmltcG9ydCB7dW5pcXVlc30gZnJvbSAnLi9VdGlsLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdlY2hlc3Nib2FyZCcsXG4gIHByb3BzOiB7XG4gICAgZmVuOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnJyxcbiAgICB9LFxuICAgIGZyZWU6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB9LFxuICAgIHNob3dUaHJlYXRzOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogZmFsc2UsXG4gICAgfSxcbiAgICBvblByb21vdGlvbjoge1xuICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICBkZWZhdWx0OiAoKSA9PiAncScsXG4gICAgfSxcbiAgICBvcmllbnRhdGlvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ3doaXRlJyxcbiAgICB9LFxuICB9LFxuICB3YXRjaDoge1xuICAgIGZlbjogZnVuY3Rpb24gKG5ld0Zlbikge1xuICAgICAgdGhpcy5mZW4gPSBuZXdGZW5cbiAgICAgIHRoaXMubG9hZFBvc2l0aW9uKClcbiAgICB9LFxuICAgIG9yaWVudGF0aW9uOiBmdW5jdGlvbiAob3JpZW50YXRpb24pIHtcbiAgICAgIHRoaXMub3JpZW50YXRpb24gPSBvcmllbnRhdGlvblxuICAgICAgdGhpcy5sb2FkUG9zaXRpb24oKVxuICAgIH0sXG4gICAgc2hvd1RocmVhdHM6IGZ1bmN0aW9uIChzdCkge1xuICAgICAgdGhpcy5zaG93VGhyZWF0cyA9IHN0XG4gICAgICBpZiAodGhpcy5zaG93VGhyZWF0cykge1xuICAgICAgICB0aGlzLnBhaW50VGhyZWF0cygpXG4gICAgICB9XG4gICAgfSxcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIHBvc3NpYmxlTW92ZXMgKCkge1xuICAgICAgY29uc3QgZGVzdHMgPSB7fVxuICAgICAgdGhpcy5nYW1lLlNRVUFSRVMuZm9yRWFjaChzID0+IHtcbiAgICAgICAgY29uc3QgbXMgPSB0aGlzLmdhbWUubW92ZXMoe3NxdWFyZTogcywgdmVyYm9zZTogdHJ1ZX0pXG4gICAgICAgIGlmIChtcy5sZW5ndGgpIGRlc3RzW3NdID0gbXMubWFwKG0gPT4gbS50bylcbiAgICAgIH0pXG4gICAgICByZXR1cm4gZGVzdHNcbiAgICB9LFxuICAgIG9wcG9uZW50TW92ZXMgKCkge1xuICAgICAgbGV0IG9yaWdpbmFsUEdOID0gdGhpcy5nYW1lLnBnbigpXG4gICAgICBsZXQgdG9rZW5zID0gdGhpcy5nYW1lLmZlbigpLnNwbGl0KCcgJylcbiAgICAgIHRva2Vuc1sxXSA9IHRva2Vuc1sxXSA9PT0gJ3cnID8gJ2InIDogJ3cnXG4gICAgICB0b2tlbnMgPSB0b2tlbnMuam9pbignICcpXG4gICAgICBsZXQgdmFsaWQgPSB0aGlzLmdhbWUubG9hZCh0b2tlbnMpXG4gICAgICBpZiAodmFsaWQpIHtcbiAgICAgICAgbGV0IG1vdmVzID0gdGhpcy5nYW1lLm1vdmVzKHt2ZXJib3NlOiB0cnVlfSlcbiAgICAgICAgdGhpcy5nYW1lLmxvYWRfcGduKG9yaWdpbmFsUEdOKVxuICAgICAgICByZXR1cm4gbW92ZXNcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbXVxuICAgICAgfVxuICAgIH0sXG4gICAgdG9Db2xvciAoKSB7XG4gICAgICByZXR1cm4gKHRoaXMuZ2FtZS50dXJuKCkgPT09ICd3JykgPyAnd2hpdGUnIDogJ2JsYWNrJ1xuICAgIH0sXG4gICAgcGFpbnRUaHJlYXRzICgpIHtcbiAgICAgIGxldCBtb3ZlcyA9IHRoaXMuZ2FtZS5tb3Zlcyh7dmVyYm9zZTogdHJ1ZX0pXG4gICAgICBsZXQgdGhyZWF0cyA9IFtdXG4gICAgICBtb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChtb3ZlKSB7XG4gICAgICAgIHRocmVhdHMucHVzaCh7b3JpZzogbW92ZS50bywgYnJ1c2g6ICd5ZWxsb3cnfSlcblxuICAgICAgICBpZiAobW92ZVsnY2FwdHVyZWQnXSkge1xuICAgICAgICAgIHRocmVhdHMucHVzaCh7b3JpZzogbW92ZS5mcm9tLCBkZXN0OiBtb3ZlLnRvLCBicnVzaDogJ3JlZCd9KVxuICAgICAgICB9XG4gICAgICAgIGlmIChtb3ZlWydzYW4nXS5pbmNsdWRlcygnKycpKSB7XG4gICAgICAgICAgdGhyZWF0cy5wdXNoKHtvcmlnOiBtb3ZlLmZyb20sIGRlc3Q6IG1vdmUudG8sIGJydXNoOiAnYmx1ZSd9KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgdGhpcy5ib2FyZC5zZXRTaGFwZXModGhyZWF0cylcbiAgICB9LFxuICAgIGNhbGN1bGF0ZVByb21vdGlvbnMgKCkge1xuICAgICAgbGV0IG1vdmVzID0gdGhpcy5nYW1lLm1vdmVzKHt2ZXJib3NlOiB0cnVlfSlcbiAgICAgIHRoaXMucHJvbW90aW9ucyA9IFtdXG4gICAgICBmb3IgKGxldCBtb3ZlIG9mIG1vdmVzKSB7XG4gICAgICAgIGlmIChtb3ZlLnByb21vdGlvbikge1xuICAgICAgICAgIHRoaXMucHJvbW90aW9ucy5wdXNoKG1vdmUpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGlzUHJvbW90aW9uICAgKG9yaWcsIGRlc3QpIHtcbiAgICAgIGxldCBmaWx0ZXJlZFByb21vdGlvbnMgPSB0aGlzLnByb21vdGlvbnMuZmlsdGVyKG1vdmUgPT4gbW92ZS5mcm9tID09PSBvcmlnICYmIG1vdmUudG8gPT09IGRlc3QpXG4gICAgICByZXR1cm4gZmlsdGVyZWRQcm9tb3Rpb25zLmxlbmd0aCA+IDAgLy8gVGhlIGN1cnJlbnQgbW92ZW1lbnQgaXMgYSBwcm9tb3Rpb25cbiAgICB9LFxuICAgIGNoYW5nZVR1cm4gKCkge1xuICAgICAgcmV0dXJuIChvcmlnLCBkZXN0LCBtZXRhZGF0YSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5pc1Byb21vdGlvbihvcmlnLCBkZXN0KSkge1xuICAgICAgICAgIHRoaXMucHJvbW90ZVRvID0gdGhpcy5vblByb21vdGlvbigpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nYW1lLm1vdmUoe2Zyb206IG9yaWcsIHRvOiBkZXN0LCBwcm9tb3Rpb246IHRoaXMucHJvbW90ZVRvfSkgLy8gcHJvbW90ZSB0byBxdWVlbiBmb3Igc2ltcGxpY2l0eVxuICAgICAgICB0aGlzLmJvYXJkLnNldCh7XG4gICAgICAgICAgZmVuOiB0aGlzLmdhbWUuZmVuKCksXG4gICAgICAgICAgdHVybkNvbG9yOiB0aGlzLnRvQ29sb3IoKSxcbiAgICAgICAgICBtb3ZhYmxlOiB7XG4gICAgICAgICAgICBjb2xvcjogdGhpcy50b0NvbG9yKCksXG4gICAgICAgICAgICBkZXN0czogdGhpcy5wb3NzaWJsZU1vdmVzKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVQcm9tb3Rpb25zKClcbiAgICAgICAgdGhpcy5hZnRlck1vdmUoKVxuICAgICAgfVxuICAgIH0sXG4gICAgYWZ0ZXJNb3ZlICgpIHtcbiAgICAgIGlmICh0aGlzLnNob3dUaHJlYXRzKSB7XG4gICAgICAgIHRoaXMucGFpbnRUaHJlYXRzKClcbiAgICAgIH1cbiAgICAgIGxldCB0aHJlYXRzID0gdGhpcy5jb3VudFRocmVhdHModGhpcy50b0NvbG9yKCkpIHx8IHt9XG4gICAgICB0aHJlYXRzWydoaXN0b3J5J10gPSB0aGlzLmdhbWUuaGlzdG9yeSgpXG4gICAgICB0aHJlYXRzWydmZW4nXSA9IHRoaXMuZ2FtZS5mZW4oKVxuICAgICAgdGhpcy4kZW1pdCgnb25Nb3ZlJywgdGhyZWF0cylcbiAgICB9LFxuICAgIGNvdW50VGhyZWF0cyAoY29sb3IpIHtcbiAgICAgIGxldCB0aHJlYXRzID0ge31cbiAgICAgIGxldCBjYXB0dXJlcyA9IDBcbiAgICAgIGxldCBjaGVja3MgPSAwXG4gICAgICBsZXQgbW92ZXMgPSB0aGlzLmdhbWUubW92ZXMoe3ZlcmJvc2U6IHRydWV9KVxuICAgICAgaWYgKGNvbG9yICE9PSB0aGlzLnRvQ29sb3IoKSkge1xuICAgICAgICBtb3ZlcyA9IHRoaXMub3Bwb25lbnRNb3ZlcygpXG4gICAgICB9XG5cbiAgICAgIGlmIChtb3Zlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG51bGwgLy8gSXTCtHMgYW4gaW52YWxpZCBwb3NpdGlvblxuICAgICAgfVxuXG4gICAgICBtb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChtb3ZlKSB7XG4gICAgICAgIGlmIChtb3ZlWydjYXB0dXJlZCddKSB7XG4gICAgICAgICAgY2FwdHVyZXMrK1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb3ZlWydzYW4nXS5pbmNsdWRlcygnKycpKSB7XG4gICAgICAgICAgY2hlY2tzKytcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgdGhyZWF0c1tgbGVnYWxfJHtjb2xvcn1gXSA9IHVuaXF1ZXMobW92ZXMubWFwKHggPT4geC5mcm9tICsgeC50bykpLmxlbmd0aCAvLyBwcm9tb3Rpb25zIGNvdW50IGFzIDQgbW92ZXMuIFRoaXMgcmVtb3ZlIHRob3NlIGR1cGxpY2F0ZXMgbW92ZXMuXG4gICAgICB0aHJlYXRzW2BjaGVja3NfJHtjb2xvcn1gXSA9IGNoZWNrc1xuICAgICAgdGhyZWF0c1tgdGhyZWF0XyR7Y29sb3J9YF0gPSBjYXB0dXJlc1xuICAgICAgdGhyZWF0c1tgdHVybmBdID0gY29sb3JcbiAgICAgIHJldHVybiB0aHJlYXRzXG4gICAgfSxcbiAgICBsb2FkUG9zaXRpb24gKCkgeyAvLyBzZXQgYSBkZWZhdWx0IHZhbHVlIGZvciB0aGUgY29uZmlndXJhdGlvbiBvYmplY3QgaXRzZWxmIHRvIGFsbG93IGNhbGwgdG8gbG9hZFBvc2l0aW9uKClcbiAgICAgIHRoaXMuZ2FtZS5sb2FkKHRoaXMuZmVuKVxuICAgICAgdGhpcy5ib2FyZCA9IENoZXNzZ3JvdW5kKHRoaXMuJHJlZnMuYm9hcmQsIHtcbiAgICAgICAgZmVuOiB0aGlzLmdhbWUuZmVuKCksXG4gICAgICAgIHR1cm5Db2xvcjogdGhpcy50b0NvbG9yKCksXG4gICAgICAgIG1vdmFibGU6IHtcbiAgICAgICAgICBjb2xvcjogdGhpcy50b0NvbG9yKCksXG4gICAgICAgICAgZnJlZTogdGhpcy5mcmVlLFxuICAgICAgICAgIGRlc3RzOiB0aGlzLnBvc3NpYmxlTW92ZXMoKSxcbiAgICAgICAgfSxcbiAgICAgICAgb3JpZW50YXRpb246IHRoaXMub3JpZW50YXRpb24sXG4gICAgICB9KVxuICAgICAgdGhpcy5ib2FyZC5zZXQoe1xuICAgICAgICBtb3ZhYmxlOiB7IGV2ZW50czogeyBhZnRlcjogdGhpcy5jaGFuZ2VUdXJuKCkgfSB9LFxuICAgICAgfSlcbiAgICAgIHRoaXMuYWZ0ZXJNb3ZlKClcbiAgICB9LFxuICB9LFxuICBtb3VudGVkICgpIHtcbiAgICB0aGlzLmxvYWRQb3NpdGlvbigpXG4gIH0sXG4gIGNyZWF0ZWQgKCkge1xuICAgIHRoaXMuZ2FtZSA9IG5ldyBDaGVzcygpXG4gICAgdGhpcy5ib2FyZCA9IG51bGxcbiAgICB0aGlzLnByb21vdGlvbnMgPSBbXVxuICAgIHRoaXMucHJvbW90ZVRvID0gJ3EnXG4gIH0sXG59XG48L3NjcmlwdD5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBpbmRleC52dWU/ZDg4YjAzNzAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///23\n");

/***/ }),
/* 24 */
/***/ (function(module, exports) {

eval("module.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  scopeId,\n  cssModules\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  // inject cssModules\n  if (cssModules) {\n    var computed = options.computed || (options.computed = {})\n    Object.keys(cssModules).forEach(function (key) {\n      var module = cssModules[key]\n      computed[key] = function () { return module }\n    })\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3Z1ZS1sb2FkZXIvbGliL2NvbXBvbmVudC1ub3JtYWxpemVyLmpzP2Q0ZjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdEO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkMsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIyNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbm9ybWFsaXplQ29tcG9uZW50IChcbiAgcmF3U2NyaXB0RXhwb3J0cyxcbiAgY29tcGlsZWRUZW1wbGF0ZSxcbiAgc2NvcGVJZCxcbiAgY3NzTW9kdWxlc1xuKSB7XG4gIHZhciBlc01vZHVsZVxuICB2YXIgc2NyaXB0RXhwb3J0cyA9IHJhd1NjcmlwdEV4cG9ydHMgPSByYXdTY3JpcHRFeHBvcnRzIHx8IHt9XG5cbiAgLy8gRVM2IG1vZHVsZXMgaW50ZXJvcFxuICB2YXIgdHlwZSA9IHR5cGVvZiByYXdTY3JpcHRFeHBvcnRzLmRlZmF1bHRcbiAgaWYgKHR5cGUgPT09ICdvYmplY3QnIHx8IHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBlc01vZHVsZSA9IHJhd1NjcmlwdEV4cG9ydHNcbiAgICBzY3JpcHRFeHBvcnRzID0gcmF3U2NyaXB0RXhwb3J0cy5kZWZhdWx0XG4gIH1cblxuICAvLyBWdWUuZXh0ZW5kIGNvbnN0cnVjdG9yIGV4cG9ydCBpbnRlcm9wXG4gIHZhciBvcHRpb25zID0gdHlwZW9mIHNjcmlwdEV4cG9ydHMgPT09ICdmdW5jdGlvbidcbiAgICA/IHNjcmlwdEV4cG9ydHMub3B0aW9uc1xuICAgIDogc2NyaXB0RXhwb3J0c1xuXG4gIC8vIHJlbmRlciBmdW5jdGlvbnNcbiAgaWYgKGNvbXBpbGVkVGVtcGxhdGUpIHtcbiAgICBvcHRpb25zLnJlbmRlciA9IGNvbXBpbGVkVGVtcGxhdGUucmVuZGVyXG4gICAgb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnMgPSBjb21waWxlZFRlbXBsYXRlLnN0YXRpY1JlbmRlckZuc1xuICB9XG5cbiAgLy8gc2NvcGVkSWRcbiAgaWYgKHNjb3BlSWQpIHtcbiAgICBvcHRpb25zLl9zY29wZUlkID0gc2NvcGVJZFxuICB9XG5cbiAgLy8gaW5qZWN0IGNzc01vZHVsZXNcbiAgaWYgKGNzc01vZHVsZXMpIHtcbiAgICB2YXIgY29tcHV0ZWQgPSBvcHRpb25zLmNvbXB1dGVkIHx8IChvcHRpb25zLmNvbXB1dGVkID0ge30pXG4gICAgT2JqZWN0LmtleXMoY3NzTW9kdWxlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgbW9kdWxlID0gY3NzTW9kdWxlc1trZXldXG4gICAgICBjb21wdXRlZFtrZXldID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbW9kdWxlIH1cbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBlc01vZHVsZTogZXNNb2R1bGUsXG4gICAgZXhwb3J0czogc2NyaXB0RXhwb3J0cyxcbiAgICBvcHRpb25zOiBvcHRpb25zXG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi92dWUtbG9hZGVyL2xpYi9jb21wb25lbnQtbm9ybWFsaXplci5qc1xuLy8gbW9kdWxlIGlkID0gMjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///24\n");

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"blue merida\"\n  }, [_c('div', {\n    ref: \"board\",\n    staticClass: \"cg-board-wrap\"\n  }), _vm._v(\" \"), _c('br')])\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (false) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-133d23d9\", module.exports)\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9lY2hlc3Nib2FyZC9pbmRleC52dWU/NTY0OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0IsbUJBQW1CLGFBQWEsMEJBQTBCO0FBQzFFO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO1xuICByZXR1cm4gX2MoJ2RpdicsIHtcbiAgICBzdGF0aWNDbGFzczogXCJibHVlIG1lcmlkYVwiXG4gIH0sIFtfYygnZGl2Jywge1xuICAgIHJlZjogXCJib2FyZFwiLFxuICAgIHN0YXRpY0NsYXNzOiBcImNnLWJvYXJkLXdyYXBcIlxuICB9KSwgX3ZtLl92KFwiIFwiKSwgX2MoJ2JyJyldKVxufSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxubW9kdWxlLmV4cG9ydHMucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5pZiAobW9kdWxlLmhvdCkge1xuICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gIGlmIChtb2R1bGUuaG90LmRhdGEpIHtcbiAgICAgcmVxdWlyZShcInZ1ZS1ob3QtcmVsb2FkLWFwaVwiKS5yZXJlbmRlcihcImRhdGEtdi0xMzNkMjNkOVwiLCBtb2R1bGUuZXhwb3J0cylcbiAgfVxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlci5qcz9pZD1kYXRhLXYtMTMzZDIzZDkhLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL3NyYy9jb21wb25lbnRzL2VjaGVzc2JvYXJkL2luZGV4LnZ1ZVxuLy8gbW9kdWxlIGlkID0gMjVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///25\n");

/***/ })
/******/ ]);
});